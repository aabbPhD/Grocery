(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function Z1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qf={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function J1(){if(zy)return so;zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:c}}return so.Fragment=e,so.jsx=r,so.jsxs=r,so}var By;function W1(){return By||(By=1,qf.exports=J1()),qf.exports}var B=W1(),Ff={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function tT(){if(jy)return qt;jy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,W={};function Z(x,nt,ht){this.props=x,this.context=nt,this.refs=W,this.updater=ht||N}Z.prototype.isReactComponent={},Z.prototype.setState=function(x,nt){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,nt,"setState")},Z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=Z.prototype;function ct(x,nt,ht){this.props=x,this.context=nt,this.refs=W,this.updater=ht||N}var st=ct.prototype=new Q;st.constructor=ct,I(st,Z.prototype),st.isPureReactComponent=!0;var gt=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function O(x,nt,ht,lt,At,kt){return ht=kt.ref,{$$typeof:i,type:x,key:nt,ref:ht!==void 0?ht:null,props:kt}}function w(x,nt){return O(x.type,nt,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function V(x){var nt={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ht){return nt[ht]})}var U=/\/+/g;function P(x,nt){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):nt.toString(36)}function D(){}function Pt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(nt){x.status==="pending"&&(x.status="fulfilled",x.value=nt)},function(nt){x.status==="pending"&&(x.status="rejected",x.reason=nt)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function jt(x,nt,ht,lt,At){var kt=typeof x;(kt==="undefined"||kt==="boolean")&&(x=null);var Rt=!1;if(x===null)Rt=!0;else switch(kt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(x.$$typeof){case i:case e:Rt=!0;break;case E:return Rt=x._init,jt(Rt(x._payload),nt,ht,lt,At)}}if(Rt)return At=At(x),Rt=lt===""?"."+P(x,0):lt,gt(At)?(ht="",Rt!=null&&(ht=Rt.replace(U,"$&/")+"/"),jt(At,nt,ht,"",function(Gn){return Gn})):At!=null&&(R(At)&&(At=w(At,ht+(At.key==null||x&&x.key===At.key?"":(""+At.key).replace(U,"$&/")+"/")+Rt)),nt.push(At)),1;Rt=0;var Ie=lt===""?".":lt+":";if(gt(x))for(var me=0;me<x.length;me++)lt=x[me],kt=Ie+P(lt,me),Rt+=jt(lt,nt,ht,kt,At);else if(me=A(x),typeof me=="function")for(x=me.call(x),me=0;!(lt=x.next()).done;)lt=lt.value,kt=Ie+P(lt,me++),Rt+=jt(lt,nt,ht,kt,At);else if(kt==="object"){if(typeof x.then=="function")return jt(Pt(x),nt,ht,lt,At);throw nt=String(x),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function K(x,nt,ht){if(x==null)return x;var lt=[],At=0;return jt(x,lt,"","",function(kt){return nt.call(ht,kt,At++)}),lt}function ut(x){if(x._status===-1){var nt=x._result;nt=nt(),nt.then(function(ht){(x._status===0||x._status===-1)&&(x._status=1,x._result=ht)},function(ht){(x._status===0||x._status===-1)&&(x._status=2,x._result=ht)}),x._status===-1&&(x._status=0,x._result=nt)}if(x._status===1)return x._result.default;throw x._result}var pt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Lt(){}return qt.Children={map:K,forEach:function(x,nt,ht){K(x,function(){nt.apply(this,arguments)},ht)},count:function(x){var nt=0;return K(x,function(){nt++}),nt},toArray:function(x){return K(x,function(nt){return nt})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},qt.Component=Z,qt.Fragment=r,qt.Profiler=o,qt.PureComponent=ct,qt.StrictMode=s,qt.Suspense=p,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,qt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return dt.H.useMemoCache(x)}},qt.cache=function(x){return function(){return x.apply(null,arguments)}},qt.cloneElement=function(x,nt,ht){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var lt=I({},x.props),At=x.key,kt=void 0;if(nt!=null)for(Rt in nt.ref!==void 0&&(kt=void 0),nt.key!==void 0&&(At=""+nt.key),nt)!q.call(nt,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&nt.ref===void 0||(lt[Rt]=nt[Rt]);var Rt=arguments.length-2;if(Rt===1)lt.children=ht;else if(1<Rt){for(var Ie=Array(Rt),me=0;me<Rt;me++)Ie[me]=arguments[me+2];lt.children=Ie}return O(x.type,At,void 0,void 0,kt,lt)},qt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},qt.createElement=function(x,nt,ht){var lt,At={},kt=null;if(nt!=null)for(lt in nt.key!==void 0&&(kt=""+nt.key),nt)q.call(nt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(At[lt]=nt[lt]);var Rt=arguments.length-2;if(Rt===1)At.children=ht;else if(1<Rt){for(var Ie=Array(Rt),me=0;me<Rt;me++)Ie[me]=arguments[me+2];At.children=Ie}if(x&&x.defaultProps)for(lt in Rt=x.defaultProps,Rt)At[lt]===void 0&&(At[lt]=Rt[lt]);return O(x,kt,void 0,void 0,null,At)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(x){return{$$typeof:m,render:x}},qt.isValidElement=R,qt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ut}},qt.memo=function(x,nt){return{$$typeof:y,type:x,compare:nt===void 0?null:nt}},qt.startTransition=function(x){var nt=dt.T,ht={};dt.T=ht;try{var lt=x(),At=dt.S;At!==null&&At(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Lt,pt)}catch(kt){pt(kt)}finally{dt.T=nt}},qt.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},qt.use=function(x){return dt.H.use(x)},qt.useActionState=function(x,nt,ht){return dt.H.useActionState(x,nt,ht)},qt.useCallback=function(x,nt){return dt.H.useCallback(x,nt)},qt.useContext=function(x){return dt.H.useContext(x)},qt.useDebugValue=function(){},qt.useDeferredValue=function(x,nt){return dt.H.useDeferredValue(x,nt)},qt.useEffect=function(x,nt,ht){var lt=dt.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(x,nt)},qt.useId=function(){return dt.H.useId()},qt.useImperativeHandle=function(x,nt,ht){return dt.H.useImperativeHandle(x,nt,ht)},qt.useInsertionEffect=function(x,nt){return dt.H.useInsertionEffect(x,nt)},qt.useLayoutEffect=function(x,nt){return dt.H.useLayoutEffect(x,nt)},qt.useMemo=function(x,nt){return dt.H.useMemo(x,nt)},qt.useOptimistic=function(x,nt){return dt.H.useOptimistic(x,nt)},qt.useReducer=function(x,nt,ht){return dt.H.useReducer(x,nt,ht)},qt.useRef=function(x){return dt.H.useRef(x)},qt.useState=function(x){return dt.H.useState(x)},qt.useSyncExternalStore=function(x,nt,ht){return dt.H.useSyncExternalStore(x,nt,ht)},qt.useTransition=function(){return dt.H.useTransition()},qt.version="19.1.0",qt}var ky;function jd(){return ky||(ky=1,Ff.exports=tT()),Ff.exports}var $=jd();const De=Z1($);var Gf={exports:{}},lo={},Yf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function eT(){return Hy||(Hy=1,function(i){function e(K,ut){var pt=K.length;K.push(ut);t:for(;0<pt;){var Lt=pt-1>>>1,x=K[Lt];if(0<o(x,ut))K[Lt]=ut,K[pt]=x,pt=Lt;else break t}}function r(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ut=K[0],pt=K.pop();if(pt!==ut){K[0]=pt;t:for(var Lt=0,x=K.length,nt=x>>>1;Lt<nt;){var ht=2*(Lt+1)-1,lt=K[ht],At=ht+1,kt=K[At];if(0>o(lt,pt))At<x&&0>o(kt,lt)?(K[Lt]=kt,K[At]=pt,Lt=At):(K[Lt]=lt,K[ht]=pt,Lt=ht);else if(At<x&&0>o(kt,pt))K[Lt]=kt,K[At]=pt,Lt=At;else break t}}return ut}function o(K,ut){var pt=K.sortIndex-ut.sortIndex;return pt!==0?pt:K.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,A=3,N=!1,I=!1,W=!1,Z=!1,Q=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function gt(K){for(var ut=r(y);ut!==null;){if(ut.callback===null)s(y);else if(ut.startTime<=K)s(y),ut.sortIndex=ut.expirationTime,e(p,ut);else break;ut=r(y)}}function dt(K){if(W=!1,gt(K),!I)if(r(p)!==null)I=!0,q||(q=!0,P());else{var ut=r(y);ut!==null&&jt(dt,ut.startTime-K)}}var q=!1,O=-1,w=5,R=-1;function V(){return Z?!0:!(i.unstable_now()-R<w)}function U(){if(Z=!1,q){var K=i.unstable_now();R=K;var ut=!0;try{t:{I=!1,W&&(W=!1,ct(O),O=-1),N=!0;var pt=A;try{e:{for(gt(K),b=r(p);b!==null&&!(b.expirationTime>K&&V());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,A=b.priorityLevel;var x=Lt(b.expirationTime<=K);if(K=i.unstable_now(),typeof x=="function"){b.callback=x,gt(K),ut=!0;break e}b===r(p)&&s(p),gt(K)}else s(p);b=r(p)}if(b!==null)ut=!0;else{var nt=r(y);nt!==null&&jt(dt,nt.startTime-K),ut=!1}}break t}finally{b=null,A=pt,N=!1}ut=void 0}}finally{ut?P():q=!1}}}var P;if(typeof st=="function")P=function(){st(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Pt=D.port2;D.port1.onmessage=U,P=function(){Pt.postMessage(null)}}else P=function(){Q(U,0)};function jt(K,ut){O=Q(function(){K(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(K){switch(A){case 1:case 2:case 3:var ut=3;break;default:ut=A}var pt=A;A=ut;try{return K()}finally{A=pt}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(K,ut){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pt=A;A=K;try{return ut()}finally{A=pt}},i.unstable_scheduleCallback=function(K,ut,pt){var Lt=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Lt+pt:Lt):pt=Lt,K){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=pt+x,K={id:E++,callback:ut,priorityLevel:K,startTime:pt,expirationTime:x,sortIndex:-1},pt>Lt?(K.sortIndex=pt,e(y,K),r(p)===null&&K===r(y)&&(W?(ct(O),O=-1):W=!0,jt(dt,pt-Lt))):(K.sortIndex=x,e(p,K),I||N||(I=!0,q||(q=!0,P()))),K},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(K){var ut=A;return function(){var pt=A;A=ut;try{return K.apply(this,arguments)}finally{A=pt}}}}(Qf)),Qf}var qy;function nT(){return qy||(qy=1,Yf.exports=eT()),Yf.exports}var Kf={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function rT(){if(Fy)return mn;Fy=1;var i=jd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},mn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},mn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},mn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,y){return p(y)},mn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var Gy;function M0(){if(Gy)return Kf.exports;Gy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Kf.exports=rT(),Kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function iT(){if(Yy)return lo;Yy=1;var i=nT(),e=jd(),r=M0();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),st=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case Z:return"Profiler";case W:return"StrictMode";case dt:return"Suspense";case q:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case st:return(t.displayName||"Context")+".Provider";case ct:return(t._context.displayName||"Context")+".Consumer";case gt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Pt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Pt(t(n))}catch{}}return null}var jt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Lt=[],x=-1;function nt(t){return{current:t}}function ht(t){0>x||(t.current=Lt[x],Lt[x]=null,x--)}function lt(t,n){x++,Lt[x]=t.current,t.current=n}var At=nt(null),kt=nt(null),Rt=nt(null),Ie=nt(null);function me(t,n){switch(lt(Rt,n),lt(kt,t),lt(At,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?fy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=fy(n),t=dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ht(At),lt(At,t)}function Gn(){ht(At),ht(kt),ht(Rt)}function Se(t){t.memoizedState!==null&&lt(Ie,t);var n=At.current,a=dy(n,t.type);n!==a&&(lt(kt,t),lt(At,a))}function cn(t){kt.current===t&&(ht(At),ht(kt)),Ie.current===t&&(ht(Ie),eo._currentValue=pt)}var vr=Object.prototype.hasOwnProperty,Yr=i.unstable_scheduleCallback,vn=i.unstable_cancelCallback,fa=i.unstable_shouldYield,Ja=i.unstable_requestPaint,_n=i.unstable_now,ol=i.unstable_getCurrentPriorityLevel,da=i.unstable_ImmediatePriority,_i=i.unstable_UserBlockingPriority,Qr=i.unstable_NormalPriority,fr=i.unstable_LowPriority,Yn=i.unstable_IdlePriority,Ei=i.log,Ti=i.unstable_setDisableYieldValue,oe=null,Ft=null;function hn(t){if(typeof Ei=="function"&&Ti(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,t)}catch{}}var Le=Math.clz32?Math.clz32:_r,Wa=Math.log,Qn=Math.LN2;function _r(t){return t>>>=0,t===0?32:31-(Wa(t)/Qn|0)|0}var Er=256,Tr=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=On(l):(_&=T,_!==0?h=On(_):a||(a=T&~t,a!==0&&(h=On(a))))):(T=l&~d,T!==0?h=On(T):_!==0?h=On(_):a||(a=l&~t,a!==0&&(h=On(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Si(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(){var t=Er;return Er<<=1,(Er&4194048)===0&&(Er=256),t}function ma(){var t=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),t}function Xn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ai(t,n,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var tt=31-Le(a),it=1<<tt;T[tt]=0,C[tt]=-1;var Y=G[tt];if(Y!==null)for(G[tt]=null,tt=0;tt<Y.length;tt++){var X=Y[tt];X!==null&&(X.lane&=-536870913)}a&=~it}l!==0&&En(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function En(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Le(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Sr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Le(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function M(){var t=ut.p;return t!==0?t:(t=window.event,t===void 0?32:Oy(t.type))}function j(t,n){var a=ut.p;try{return ut.p=t,n()}finally{ut.p=a}}var F=Math.random().toString(36).slice(2),rt="__reactFiber$"+F,ot="__reactProps$"+F,yt="__reactContainer$"+F,Ct="__reactEvents$"+F,vt="__reactListeners$"+F,Tt="__reactHandles$"+F,bt="__reactResources$"+F,Dt="__reactMarker$"+F;function St(t){delete t[rt],delete t[ot],delete t[Ct],delete t[vt],delete t[Tt]}function Nt(t){var n=t[rt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yt]||a[rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=yy(t);t!==null;){if(a=t[rt])return a;t=yy(t)}return n}t=a,a=t.parentNode}return null}function Xt(t){if(t=t[rt]||t[yt]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ce(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function se(t){var n=t[bt];return n||(n=t[bt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(t){t[Dt]=!0}var Yt=new Set,$n={};function He(t,n){Tn(t,n),Tn(t+"Capture",n)}function Tn(t,n){for($n[t]=n,t=0;t<n.length;t++)Yt.add(n[t])}var en=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),br={},Vn={};function wi(t){return vr.call(Vn,t)?!0:vr.call(br,t)?!1:en.test(t)?Vn[t]=!0:(br[t]=!0,!1)}function fn(t,n,a){if(wi(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Sn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ut(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ue,In;function Rn(t){if(Ue===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ue=n&&n[1]||"",In=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+t+In}var wr=!1;function _e(t,n){if(!t||wr)return"";wr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var Y=X}Reflect.construct(t,[],it)}else{try{it.call()}catch(X){Y=X}t.call(it.prototype)}}else{try{throw Error()}catch(X){Y=X}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),G=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===G.length)for(l=C.length-1,h=G.length-1;1<=l&&0<=h&&C[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==G[h]){var tt=`
`+C[l].replace(" at new "," at ");return t.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",t.displayName)),tt}while(1<=l&&0<=h);break}}}finally{wr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rn(a):""}function Zn(t){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return _e(t.type,!1);case 11:return _e(t.type.render,!1);case 1:return _e(t.type,!0);case 31:return Rn("Activity");default:return""}}function $r(t){try{var n="";do n+=Zn(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ul(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yc(t){var n=ul(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ts(t){t._valueTracker||(t._valueTracker=Yc(t))}function cl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ul(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qc=/[\n"\\]/g;function Pe(t){return t.replace(Qc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ln(t,n,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ri(t,_,nn(n)):a!=null?Ri(t,_,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function pa(t,n,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ri(t,n,a){n==="number"&&ga(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Zr(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ge(t,n,a){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+nn(a):""}function ya(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(jt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Jn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||va.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function hl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Bo(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Bo(t,d,n[d])}function fl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(t){return Xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Jr=null;function Wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wr=null,ti=null;function dl(t){var n=Xt(t);if(n&&(t=n.stateNode)){var a=t[ot]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[ot]||null;if(!h)throw Error(s(90));Ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&cl(l)}break t;case"textarea":ge(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Zr(t,!!a.multiple,n,!1)}}}var Rr=!1;function jo(t,n,a){if(Rr)return t(n,a);Rr=!0;try{var l=t(n);return l}finally{if(Rr=!1,(Wr!==null||ti!==null)&&(Vu(),Wr&&(n=Wr,t=ti,ti=Wr=null,dl(n),t)))for(n=0;n<t.length;n++)dl(t[n])}}function _a(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ot]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(mr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){tr=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{tr=!1}var Cr=null,Ci=null,ei=null;function ml(){if(ei)return ei;var t,n=Ci,a=n.length,l,h="value"in Cr?Cr.value:Cr.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[d-l];l++);return ei=h.slice(t,1<l?1-l:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function gl(){return!1}function Xe(t){function n(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xr:gl,this.isPropagationStopped=gl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),n}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=Xe(he),Ta=E({},he,{view:0,detail:0}),ko=Xe(Ta),rs,is,Mr,Sa=E({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(rs=t.screenX-Mr.screenX,is=t.screenY-Mr.screenY):is=rs=0,Mr=t),rs)},movementY:function(t){return"movementY"in t?t.movementY:is}}),er=Xe(Sa),Ho=E({},Sa,{dataTransfer:0}),$c=Xe(Ho),Aa=E({},Ta,{relatedTarget:0}),as=Xe(Aa),pl=E({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),ss=Xe(pl),qo=E({},he,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ls=Xe(qo),Zc=E({},he,{data:0}),yl=Xe(Zc),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Go[t])?!!n[t]:!1}function wa(){return vl}var Yo=E({},Ta,{key:function(t){if(t.key){var n=ba[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),os=Xe(Yo),Qo=E({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Xe(Qo),ni=E({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Ko=Xe(ni),Xo=E({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),$o=Xe(Xo),Zo=E({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),us=Xe(Zo),An=E({},he,{newState:0,oldState:0}),Jo=Xe(An),Wo=[9,13,27,32],Nr=mr&&"CompositionEvent"in window,u=null;mr&&"documentMode"in document&&(u=document.documentMode);var g=mr&&"TextEvent"in window&&!u,v=mr&&(!Nr||u&&8<u&&11>=u),S=" ",k=!1;function J(t,n){switch(t){case"keyup":return Wo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wt=!1;function qe(t,n){switch(t){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(k=!0,S);case"textInput":return t=n.data,t===S&&k?null:t;default:return null}}function te(t,n){if(Wt)return t==="compositionend"||!Nr&&J(t,n)?(t=ml(),ei=Ci=Cr=null,Wt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var $e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!$e[t.type]:n==="textarea"}function ri(t,n,a,l){Wr?ti?ti.push(l):ti=[l]:Wr=l,n=Bu(n,"onChange"),0<n.length&&(a=new ns("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var rn=null,Or=null;function El(t){ly(t,0)}function tu(t){var n=ce(t);if(cl(n))return t}function Dm(t,n){if(t==="change")return n}var xm=!1;if(mr){var Jc;if(mr){var Wc="oninput"in document;if(!Wc){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),Wc=typeof Mm.oninput=="function"}Jc=Wc}else Jc=!1;xm=Jc&&(!document.documentMode||9<document.documentMode)}function Nm(){rn&&(rn.detachEvent("onpropertychange",Om),Or=rn=null)}function Om(t){if(t.propertyName==="value"&&tu(Or)){var n=[];ri(n,Or,t,Wn(t)),jo(El,n)}}function CE(t,n,a){t==="focusin"?(Nm(),rn=n,Or=a,rn.attachEvent("onpropertychange",Om)):t==="focusout"&&Nm()}function DE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(Or)}function xE(t,n){if(t==="click")return tu(n)}function ME(t,n){if(t==="input"||t==="change")return tu(n)}function NE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:NE;function Tl(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vr.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function Vm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Im(t,n){var a=Vm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vm(a)}}function Lm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ga(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ga(t.document)}return n}function th(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var OE=mr&&"documentMode"in document&&11>=document.documentMode,cs=null,eh=null,Sl=null,nh=!1;function Pm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nh||cs==null||cs!==ga(l)||(l=cs,"selectionStart"in l&&th(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Tl(Sl,l)||(Sl=l,l=Bu(eh,"onSelect"),0<l.length&&(n=new ns("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=cs)))}function Ra(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var hs={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},rh={},zm={};mr&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Ca(t){if(rh[t])return rh[t];if(!hs[t])return t;var n=hs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in zm)return rh[t]=n[a];return t}var Bm=Ca("animationend"),jm=Ca("animationiteration"),km=Ca("animationstart"),VE=Ca("transitionrun"),IE=Ca("transitionstart"),LE=Ca("transitioncancel"),Hm=Ca("transitionend"),qm=new Map,ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ih.push("scrollEnd");function gr(t,n){qm.set(t,n),He(n,[t])}var Fm=new WeakMap;function nr(t,n){if(typeof t=="object"&&t!==null){var a=Fm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:$r(n)},Fm.set(t,n),n)}return{value:t,source:n,stack:$r(n)}}var rr=[],fs=0,ah=0;function eu(){for(var t=fs,n=ah=fs=0;n<t;){var a=rr[n];rr[n++]=null;var l=rr[n];rr[n++]=null;var h=rr[n];rr[n++]=null;var d=rr[n];if(rr[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Gm(a,h,d)}}function nu(t,n,a,l){rr[fs++]=t,rr[fs++]=n,rr[fs++]=a,rr[fs++]=l,ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sh(t,n,a,l){return nu(t,n,a,l),ru(t)}function ds(t,n){return nu(t,null,null,n),ru(t)}function Gm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Le(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function ru(t){if(50<Ql)throw Ql=0,df=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ms={};function UE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,n,a,l){return new UE(t,n,a,l)}function lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ii(t,n){var a=t.alternate;return a===null?(a=Pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ym(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function iu(t,n,a,l,h,d){var _=0;if(l=t,typeof t=="function")lh(t)&&(_=1);else if(typeof t=="string")_=z1(t,a,At.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=Pn(31,a,n,h),t.elementType=R,t.lanes=d,t;case I:return Da(a.children,h,d,n);case W:_=8,h|=24;break;case Z:return t=Pn(12,a,n,h|2),t.elementType=Z,t.lanes=d,t;case dt:return t=Pn(13,a,n,h),t.elementType=dt,t.lanes=d,t;case q:return t=Pn(19,a,n,h),t.elementType=q,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case st:_=10;break t;case ct:_=9;break t;case gt:_=11;break t;case O:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Pn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Da(t,n,a,l){return t=Pn(7,t,l,n),t.lanes=a,t}function oh(t,n,a){return t=Pn(6,t,null,n),t.lanes=a,t}function uh(t,n,a){return n=Pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var gs=[],ps=0,au=null,su=0,ir=[],ar=0,xa=null,ai=1,si="";function Ma(t,n){gs[ps++]=su,gs[ps++]=au,au=t,su=n}function Qm(t,n,a){ir[ar++]=ai,ir[ar++]=si,ir[ar++]=xa,xa=t;var l=ai;t=si;var h=32-Le(l)-1;l&=~(1<<h),a+=1;var d=32-Le(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ai=1<<32-Le(n)+h|a<<h|l,si=d+t}else ai=1<<d|a<<h|l,si=t}function ch(t){t.return!==null&&(Ma(t,1),Qm(t,1,0))}function hh(t){for(;t===au;)au=gs[--ps],gs[ps]=null,su=gs[--ps],gs[ps]=null;for(;t===xa;)xa=ir[--ar],ir[ar]=null,si=ir[--ar],ir[ar]=null,ai=ir[--ar],ir[ar]=null}var bn=null,Re=null,ue=!1,Na=null,Vr=!1,fh=Error(s(519));function Oa(t){var n=Error(s(418,""));throw wl(nr(n,t)),fh}function Km(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[rt]=t,n[ot]=l,a){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Zt(Xl[a],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":Zt("invalid",n),pa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ts(n);break;case"select":Zt("invalid",n);break;case"textarea":Zt("invalid",n),ya(n,l.value,l.defaultValue,l.children),ts(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||hy(n.textContent,a)?(l.popover!=null&&(Zt("beforetoggle",n),Zt("toggle",n)),l.onScroll!=null&&Zt("scroll",n),l.onScrollEnd!=null&&Zt("scrollend",n),l.onClick!=null&&(n.onclick=ju),n=!0):n=!1,n||Oa(t)}function Xm(t){for(bn=t.return;bn;)switch(bn.tag){case 5:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:bn=bn.return}}function Al(t){if(t!==bn)return!1;if(!ue)return Xm(t),ue=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xf(t.type,t.memoizedProps)),a=!a),a&&Re&&Oa(t),Xm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Re=yr(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Re=null}}else n===27?(n=Re,qi(t.type)?(t=Vf,Vf=null,Re=t):Re=n):Re=bn?yr(t.stateNode.nextSibling):null;return!0}function bl(){Re=bn=null,ue=!1}function $m(){var t=Na;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),Na=null),t}function wl(t){Na===null?Na=[t]:Na.push(t)}var dh=nt(null),Va=null,li=null;function Di(t,n,a){lt(dh,n._currentValue),n._currentValue=a}function oi(t){t._currentValue=dh.current,ht(dh)}function mh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function gh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),mh(d.return,a,t),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),mh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Rl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Un(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ie.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(eo):t=[eo])}h=h.return}t!==null&&gh(n,t,a,l),n.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ia(t){Va=t,li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dn(t){return Zm(Va,t)}function ou(t,n){return Va===null&&Ia(t),Zm(t,n)}function Zm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},li===null){if(t===null)throw Error(s(308));li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else li=li.next=n;return a}var PE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},zE=i.unstable_scheduleCallback,BE=i.unstable_NormalPriority,Ge={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new PE,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&zE(BE,function(){t.controller.abort()})}var Dl=null,yh=0,ys=0,vs=null;function jE(t,n){if(Dl===null){var a=Dl=[];yh=0,ys=Ef(),vs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yh++,n.then(Jm,Jm),n}function Jm(){if(--yh===0&&Dl!==null){vs!==null&&(vs.status="fulfilled");var t=Dl;Dl=null,ys=0,vs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wm=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&jE(t,n),Wm!==null&&Wm(t,n)};var La=nt(null);function vh(){var t=La.current;return t!==null?t:Te.pooledCache}function uu(t,n){n===null?lt(La,La.current):lt(La,n.pool)}function tg(){var t=vh();return t===null?null:{parent:Ge._currentValue,pool:t}}var xl=Error(s(460)),eg=Error(s(474)),cu=Error(s(542)),_h={then:function(){}};function ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hu(){}function rg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(hu,hu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t;default:if(typeof n.status=="string")n.then(hu,hu);else{if(t=Te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t}throw Ml=n,xl}}var Ml=null;function ig(){if(Ml===null)throw Error(s(459));var t=Ml;return Ml=null,t}function ag(t){if(t===xl||t===cu)throw Error(s(483))}var xi=!1;function Eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ni(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ru(t),Gm(t,null,a),n}return nu(t,l,n,a),ru(t)}function Nl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Sr(t,a)}}function Sh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ah=!1;function Ol(){if(Ah){var t=vs;if(t!==null)throw t}}function Vl(t,n,a,l){Ah=!1;var h=t.updateQueue;xi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,G=C.next;C.next=null,_===null?d=G:_.next=G,_=C;var tt=t.alternate;tt!==null&&(tt=tt.updateQueue,T=tt.lastBaseUpdate,T!==_&&(T===null?tt.firstBaseUpdate=G:T.next=G,tt.lastBaseUpdate=C))}if(d!==null){var it=h.baseState;_=0,tt=G=C=null,T=d;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(ee&Y)===Y:(l&Y)===Y){Y!==0&&Y===ys&&(Ah=!0),tt!==null&&(tt=tt.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Vt=t,xt=T;Y=n;var ve=a;switch(xt.tag){case 1:if(Vt=xt.payload,typeof Vt=="function"){it=Vt.call(ve,it,Y);break t}it=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=xt.payload,Y=typeof Vt=="function"?Vt.call(ve,it,Y):Vt,Y==null)break t;it=E({},it,Y);break t;case 2:xi=!0}}Y=T.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},tt===null?(G=tt=X,C=it):tt=tt.next=X,_|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);tt===null&&(C=it),h.baseState=C,h.firstBaseUpdate=G,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),Bi|=_,t.lanes=_,t.memoizedState=it}}function sg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function lg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sg(a[t],n)}var _s=nt(null),fu=nt(0);function og(t,n){t=gi,lt(fu,t),lt(_s,n),gi=t|n.baseLanes}function bh(){lt(fu,gi),lt(_s,_s.current)}function wh(){gi=fu.current,ht(_s),ht(fu)}var Oi=0,Gt=null,pe=null,ze=null,du=!1,Es=!1,Ua=!1,mu=0,Il=0,Ts=null,HE=0;function Me(){throw Error(s(321))}function Rh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Un(t[a],n[a]))return!1;return!0}function Ch(t,n,a,l,h,d){return Oi=d,Gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Gg:Yg,Ua=!1,d=a(l,h),Ua=!1,Es&&(d=cg(n,a,l,h)),ug(t),d}function ug(t){K.H=Eu;var n=pe!==null&&pe.next!==null;if(Oi=0,ze=pe=Gt=null,du=!1,Il=0,Ts=null,n)throw Error(s(300));t===null||Ze||(t=t.dependencies,t!==null&&lu(t)&&(Ze=!0))}function cg(t,n,a,l){Gt=t;var h=0;do{if(Es&&(Ts=null),Il=0,Es=!1,25<=h)throw Error(s(301));if(h+=1,ze=pe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=XE,d=n(a,l)}while(Es);return d}function qE(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Ll(n):n,t=t.useState()[0],(pe!==null?pe.memoizedState:null)!==t&&(Gt.flags|=1024),n}function Dh(){var t=mu!==0;return mu=0,t}function xh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Mh(t){if(du){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}du=!1}Oi=0,ze=pe=Gt=null,Es=!1,Il=mu=0,Ts=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Gt.memoizedState=ze=t:ze=ze.next=t,ze}function Be(){if(pe===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var n=ze===null?Gt.memoizedState:ze.next;if(n!==null)ze=n,pe=t;else{if(t===null)throw Gt.alternate===null?Error(s(467)):Error(s(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ze===null?Gt.memoizedState=ze=t:ze=ze.next=t}return ze}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var n=Il;return Il+=1,Ts===null&&(Ts=[]),t=rg(Ts,t,n),n=Gt,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Gg:Yg),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===st)return dn(t)}throw Error(s(438,String(t)))}function Oh(t){var n=null,a=Gt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Gt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Nh(),Gt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function ui(t,n){return typeof n=="function"?n(t):n}function pu(t){var n=Be();return Vh(n,pe,t)}function Vh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=_=null,C=null,G=n,tt=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(ee&it)===it:(Oi&it)===it){var Y=G.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===ys&&(tt=!0);else if((Oi&Y)===Y){G=G.next,Y===ys&&(tt=!0);continue}else it={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=it,_=d):C=C.next=it,Gt.lanes|=Y,Bi|=Y;it=G.action,Ua&&a(d,it),d=G.hasEagerState?G.eagerState:a(d,it)}else Y={lane:it,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=Y,_=d):C=C.next=Y,Gt.lanes|=it,Bi|=it;G=G.next}while(G!==null&&G!==n);if(C===null?_=d:C.next=T,!Un(d,t.memoizedState)&&(Ze=!0,tt&&(a=vs,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ih(t){var n=Be(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Un(d,n.memoizedState)||(Ze=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function hg(t,n,a){var l=Gt,h=Be(),d=ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!Un((pe||h).memoizedState,a);_&&(h.memoizedState=a,Ze=!0),h=h.queue;var T=mg.bind(null,l,h,t);if(Ul(2048,8,T,[t]),h.getSnapshot!==n||_||ze!==null&&ze.memoizedState.tag&1){if(l.flags|=2048,Ss(9,yu(),dg.bind(null,l,h,a,n),null),Te===null)throw Error(s(349));d||(Oi&124)!==0||fg(l,n,a)}return a}function fg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Gt.updateQueue,n===null?(n=Nh(),Gt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function dg(t,n,a,l){n.value=a,n.getSnapshot=l,gg(n)&&pg(t)}function mg(t,n,a){return a(function(){gg(n)&&pg(t)})}function gg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Un(t,a)}catch{return!0}}function pg(t){var n=ds(t,2);n!==null&&Hn(n,t,2)}function Lh(t){var n=Cn();if(typeof t=="function"){var a=t;if(t=a(),Ua){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},n}function yg(t,n,a,l){return t.baseState=a,Vh(t,pe,typeof l=="function"?l:ui)}function FE(t,n,a,l,h){if(_u(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,vg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function vg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),C=K.S;C!==null&&C(_,T),_g(t,n,T)}catch(G){Uh(t,n,G)}finally{K.T=d}}else try{d=a(h,l),_g(t,n,d)}catch(G){Uh(t,n,G)}}function _g(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Eg(t,n,l)},function(l){return Uh(t,n,l)}):Eg(t,n,a)}function Eg(t,n,a){n.status="fulfilled",n.value=a,Tg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,vg(t,a)))}function Uh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Tg(n),n=n.next;while(n!==l)}t.action=null}function Tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sg(t,n){return n}function Ag(t,n){if(ue){var a=Te.formState;if(a!==null){t:{var l=Gt;if(ue){if(Re){e:{for(var h=Re,d=Vr;h.nodeType!==8;){if(!d){h=null;break e}if(h=yr(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Re=yr(h.nextSibling),l=h.data==="F!";break t}}Oa(l)}l=!1}l&&(n=a[0])}}return a=Cn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:n},a.queue=l,a=Hg.bind(null,Gt,l),l.dispatch=a,l=Lh(!1),d=kh.bind(null,Gt,!1,l.queue),l=Cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=FE.bind(null,Gt,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function bg(t){var n=Be();return wg(n,pe,t)}function wg(t,n,a){if(n=Vh(t,n,Sg)[0],t=pu(ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ll(n)}catch(_){throw _===xl?cu:_}else l=n;n=Be();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Gt.flags|=2048,Ss(9,yu(),GE.bind(null,h,a),null)),[l,d,t]}function GE(t,n){t.action=n}function Rg(t){var n=Be(),a=pe;if(a!==null)return wg(n,a,t);Be(),n=n.memoizedState,a=Be();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ss(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Gt.updateQueue,n===null&&(n=Nh(),Gt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function yu(){return{destroy:void 0,resource:void 0}}function Cg(){return Be().memoizedState}function vu(t,n,a,l){var h=Cn();l=l===void 0?null:l,Gt.flags|=t,h.memoizedState=Ss(1|n,yu(),a,l)}function Ul(t,n,a,l){var h=Be();l=l===void 0?null:l;var d=h.memoizedState.inst;pe!==null&&l!==null&&Rh(l,pe.memoizedState.deps)?h.memoizedState=Ss(n,d,a,l):(Gt.flags|=t,h.memoizedState=Ss(1|n,d,a,l))}function Dg(t,n){vu(8390656,8,t,n)}function xg(t,n){Ul(2048,8,t,n)}function Mg(t,n){return Ul(4,2,t,n)}function Ng(t,n){return Ul(4,4,t,n)}function Og(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vg(t,n,a){a=a!=null?a.concat([t]):null,Ul(4,4,Og.bind(null,n,t),a)}function Ph(){}function Ig(t,n){var a=Be();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Rh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Lg(t,n){var a=Be();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Rh(n,l[1]))return l[0];if(l=t(),Ua){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l}function zh(t,n,a){return a===void 0||(Oi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=zp(),Gt.lanes|=t,Bi|=t,a)}function Ug(t,n,a,l){return Un(a,n)?a:_s.current!==null?(t=zh(t,a,l),Un(t,n)||(Ze=!0),t):(Oi&42)===0?(Ze=!0,t.memoizedState=a):(t=zp(),Gt.lanes|=t,Bi|=t,n)}function Pg(t,n,a,l,h){var d=ut.p;ut.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,kh(t,!1,n,a);try{var C=h(),G=K.S;if(G!==null&&G(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var tt=kE(C,l);Pl(t,n,tt,kn(t))}else Pl(t,n,l,kn(t))}catch(it){Pl(t,n,{then:function(){},status:"rejected",reason:it},kn())}finally{ut.p=d,K.T=_}}function YE(){}function Bh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=zg(t).queue;Pg(t,h,n,pt,a===null?YE:function(){return Bg(t),a(l)})}function zg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bg(t){var n=zg(t).next.queue;Pl(t,n,{},kn())}function jh(){return dn(eo)}function jg(){return Be().memoizedState}function kg(){return Be().memoizedState}function QE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=kn();t=Mi(a);var l=Ni(n,t,a);l!==null&&(Hn(l,n,a),Nl(l,n,a)),n={cache:ph()},t.payload=n;return}n=n.return}}function KE(t,n,a){var l=kn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_u(t)?qg(n,a):(a=sh(t,n,a,l),a!==null&&(Hn(a,t,l),Fg(a,n,l)))}function Hg(t,n,a){var l=kn();Pl(t,n,a,l)}function Pl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_u(t))qg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Un(T,_))return nu(t,n,h,0),Te===null&&eu(),!1}catch{}finally{}if(a=sh(t,n,h,l),a!==null)return Hn(a,t,l),Fg(a,n,l),!0}return!1}function kh(t,n,a,l){if(l={lane:2,revertLane:Ef(),action:l,hasEagerState:!1,eagerState:null,next:null},_u(t)){if(n)throw Error(s(479))}else n=sh(t,a,l,2),n!==null&&Hn(n,t,2)}function _u(t){var n=t.alternate;return t===Gt||n!==null&&n===Gt}function qg(t,n){Es=du=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Fg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Sr(t,a)}}var Eu={readContext:dn,use:gu,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},Gg={readContext:dn,use:gu,useCallback:function(t,n){return Cn().memoizedState=[t,n===void 0?null:n],t},useContext:dn,useEffect:Dg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,vu(4194308,4,Og.bind(null,n,t),a)},useLayoutEffect:function(t,n){return vu(4194308,4,t,n)},useInsertionEffect:function(t,n){vu(4,2,t,n)},useMemo:function(t,n){var a=Cn();n=n===void 0?null:n;var l=t();if(Ua){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Cn();if(a!==void 0){var h=a(n);if(Ua){hn(!0);try{a(n)}finally{hn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KE.bind(null,Gt,t),[l.memoizedState,t]},useRef:function(t){var n=Cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Lh(t);var n=t.queue,a=Hg.bind(null,Gt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ph,useDeferredValue:function(t,n){var a=Cn();return zh(a,t,n)},useTransition:function(){var t=Lh(!1);return t=Pg.bind(null,Gt,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Gt,h=Cn();if(ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Te===null)throw Error(s(349));(ee&124)!==0||fg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Dg(mg.bind(null,l,d,t),[t]),l.flags|=2048,Ss(9,yu(),dg.bind(null,l,d,a,n),null),a},useId:function(){var t=Cn(),n=Te.identifierPrefix;if(ue){var a=si,l=ai;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=mu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=HE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:jh,useFormState:Ag,useActionState:Ag,useOptimistic:function(t){var n=Cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kh.bind(null,Gt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Oh,useCacheRefresh:function(){return Cn().memoizedState=QE.bind(null,Gt)}},Yg={readContext:dn,use:gu,useCallback:Ig,useContext:dn,useEffect:xg,useImperativeHandle:Vg,useInsertionEffect:Mg,useLayoutEffect:Ng,useMemo:Lg,useReducer:pu,useRef:Cg,useState:function(){return pu(ui)},useDebugValue:Ph,useDeferredValue:function(t,n){var a=Be();return Ug(a,pe.memoizedState,t,n)},useTransition:function(){var t=pu(ui)[0],n=Be().memoizedState;return[typeof t=="boolean"?t:Ll(t),n]},useSyncExternalStore:hg,useId:jg,useHostTransitionStatus:jh,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var a=Be();return yg(a,pe,t,n)},useMemoCache:Oh,useCacheRefresh:kg},XE={readContext:dn,use:gu,useCallback:Ig,useContext:dn,useEffect:xg,useImperativeHandle:Vg,useInsertionEffect:Mg,useLayoutEffect:Ng,useMemo:Lg,useReducer:Ih,useRef:Cg,useState:function(){return Ih(ui)},useDebugValue:Ph,useDeferredValue:function(t,n){var a=Be();return pe===null?zh(a,t,n):Ug(a,pe.memoizedState,t,n)},useTransition:function(){var t=Ih(ui)[0],n=Be().memoizedState;return[typeof t=="boolean"?t:Ll(t),n]},useSyncExternalStore:hg,useId:jg,useHostTransitionStatus:jh,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,n){var a=Be();return pe!==null?yg(a,pe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:kg},As=null,zl=0;function Tu(t){var n=zl;return zl+=1,As===null&&(As=[]),rg(As,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Su(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qg(t){var n=t._init;return n(t._payload)}function Kg(t){function n(z,L){if(t){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function a(z,L){if(!t)return null;for(;L!==null;)n(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function h(z,L){return z=ii(z,L),z.index=0,z.sibling=null,z}function d(z,L,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=67108866,L):H):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,L,H,et){return L===null||L.tag!==6?(L=oh(H,z.mode,et),L.return=z,L):(L=h(L,H),L.return=z,L)}function C(z,L,H,et){var Et=H.type;return Et===I?tt(z,L,H.props.children,et,H.key):L!==null&&(L.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===w&&Qg(Et)===L.type)?(L=h(L,H.props),Bl(L,H),L.return=z,L):(L=iu(H.type,H.key,H.props,null,z.mode,et),Bl(L,H),L.return=z,L)}function G(z,L,H,et){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=uh(H,z.mode,et),L.return=z,L):(L=h(L,H.children||[]),L.return=z,L)}function tt(z,L,H,et,Et){return L===null||L.tag!==7?(L=Da(H,z.mode,et,Et),L.return=z,L):(L=h(L,H),L.return=z,L)}function it(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=oh(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return H=iu(L.type,L.key,L.props,null,z.mode,H),Bl(H,L),H.return=z,H;case N:return L=uh(L,z.mode,H),L.return=z,L;case w:var et=L._init;return L=et(L._payload),it(z,L,H)}if(jt(L)||P(L))return L=Da(L,z.mode,H,null),L.return=z,L;if(typeof L.then=="function")return it(z,Tu(L),H);if(L.$$typeof===st)return it(z,ou(z,L),H);Su(z,L)}return null}function Y(z,L,H,et){var Et=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Et!==null?null:T(z,L,""+H,et);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===Et?C(z,L,H,et):null;case N:return H.key===Et?G(z,L,H,et):null;case w:return Et=H._init,H=Et(H._payload),Y(z,L,H,et)}if(jt(H)||P(H))return Et!==null?null:tt(z,L,H,et,null);if(typeof H.then=="function")return Y(z,L,Tu(H),et);if(H.$$typeof===st)return Y(z,L,ou(z,H),et);Su(z,H)}return null}function X(z,L,H,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(H)||null,T(L,z,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return z=z.get(et.key===null?H:et.key)||null,C(L,z,et,Et);case N:return z=z.get(et.key===null?H:et.key)||null,G(L,z,et,Et);case w:var Qt=et._init;return et=Qt(et._payload),X(z,L,H,et,Et)}if(jt(et)||P(et))return z=z.get(H)||null,tt(L,z,et,Et,null);if(typeof et.then=="function")return X(z,L,H,Tu(et),Et);if(et.$$typeof===st)return X(z,L,H,ou(L,et),Et);Su(L,et)}return null}function Vt(z,L,H,et){for(var Et=null,Qt=null,wt=L,Ot=L=0,We=null;wt!==null&&Ot<H.length;Ot++){wt.index>Ot?(We=wt,wt=null):We=wt.sibling;var le=Y(z,wt,H[Ot],et);if(le===null){wt===null&&(wt=We);break}t&&wt&&le.alternate===null&&n(z,wt),L=d(le,L,Ot),Qt===null?Et=le:Qt.sibling=le,Qt=le,wt=We}if(Ot===H.length)return a(z,wt),ue&&Ma(z,Ot),Et;if(wt===null){for(;Ot<H.length;Ot++)wt=it(z,H[Ot],et),wt!==null&&(L=d(wt,L,Ot),Qt===null?Et=wt:Qt.sibling=wt,Qt=wt);return ue&&Ma(z,Ot),Et}for(wt=l(wt);Ot<H.length;Ot++)We=X(wt,z,Ot,H[Ot],et),We!==null&&(t&&We.alternate!==null&&wt.delete(We.key===null?Ot:We.key),L=d(We,L,Ot),Qt===null?Et=We:Qt.sibling=We,Qt=We);return t&&wt.forEach(function(Ki){return n(z,Ki)}),ue&&Ma(z,Ot),Et}function xt(z,L,H,et){if(H==null)throw Error(s(151));for(var Et=null,Qt=null,wt=L,Ot=L=0,We=null,le=H.next();wt!==null&&!le.done;Ot++,le=H.next()){wt.index>Ot?(We=wt,wt=null):We=wt.sibling;var Ki=Y(z,wt,le.value,et);if(Ki===null){wt===null&&(wt=We);break}t&&wt&&Ki.alternate===null&&n(z,wt),L=d(Ki,L,Ot),Qt===null?Et=Ki:Qt.sibling=Ki,Qt=Ki,wt=We}if(le.done)return a(z,wt),ue&&Ma(z,Ot),Et;if(wt===null){for(;!le.done;Ot++,le=H.next())le=it(z,le.value,et),le!==null&&(L=d(le,L,Ot),Qt===null?Et=le:Qt.sibling=le,Qt=le);return ue&&Ma(z,Ot),Et}for(wt=l(wt);!le.done;Ot++,le=H.next())le=X(wt,z,Ot,le.value,et),le!==null&&(t&&le.alternate!==null&&wt.delete(le.key===null?Ot:le.key),L=d(le,L,Ot),Qt===null?Et=le:Qt.sibling=le,Qt=le);return t&&wt.forEach(function($1){return n(z,$1)}),ue&&Ma(z,Ot),Et}function ve(z,L,H,et){if(typeof H=="object"&&H!==null&&H.type===I&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:t:{for(var Et=H.key;L!==null;){if(L.key===Et){if(Et=H.type,Et===I){if(L.tag===7){a(z,L.sibling),et=h(L,H.props.children),et.return=z,z=et;break t}}else if(L.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===w&&Qg(Et)===L.type){a(z,L.sibling),et=h(L,H.props),Bl(et,H),et.return=z,z=et;break t}a(z,L);break}else n(z,L);L=L.sibling}H.type===I?(et=Da(H.props.children,z.mode,et,H.key),et.return=z,z=et):(et=iu(H.type,H.key,H.props,null,z.mode,et),Bl(et,H),et.return=z,z=et)}return _(z);case N:t:{for(Et=H.key;L!==null;){if(L.key===Et)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(z,L.sibling),et=h(L,H.children||[]),et.return=z,z=et;break t}else{a(z,L);break}else n(z,L);L=L.sibling}et=uh(H,z.mode,et),et.return=z,z=et}return _(z);case w:return Et=H._init,H=Et(H._payload),ve(z,L,H,et)}if(jt(H))return Vt(z,L,H,et);if(P(H)){if(Et=P(H),typeof Et!="function")throw Error(s(150));return H=Et.call(H),xt(z,L,H,et)}if(typeof H.then=="function")return ve(z,L,Tu(H),et);if(H.$$typeof===st)return ve(z,L,ou(z,H),et);Su(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(z,L.sibling),et=h(L,H),et.return=z,z=et):(a(z,L),et=oh(H,z.mode,et),et.return=z,z=et),_(z)):a(z,L)}return function(z,L,H,et){try{zl=0;var Et=ve(z,L,H,et);return As=null,Et}catch(wt){if(wt===xl||wt===cu)throw wt;var Qt=Pn(29,wt,null,z.mode);return Qt.lanes=et,Qt.return=z,Qt}finally{}}}var bs=Kg(!0),Xg=Kg(!1),sr=nt(null),Ir=null;function Vi(t){var n=t.alternate;lt(Ye,Ye.current&1),lt(sr,t),Ir===null&&(n===null||_s.current!==null||n.memoizedState!==null)&&(Ir=t)}function $g(t){if(t.tag===22){if(lt(Ye,Ye.current),lt(sr,t),Ir===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ir=t)}}else Ii()}function Ii(){lt(Ye,Ye.current),lt(sr,sr.current)}function ci(t){ht(sr),Ir===t&&(Ir=null),ht(Ye)}var Ye=nt(0);function Au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Of(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Hh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=kn(),h=Mi(l);h.payload=n,a!=null&&(h.callback=a),n=Ni(t,h,l),n!==null&&(Hn(n,t,l),Nl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=kn(),h=Mi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ni(t,h,l),n!==null&&(Hn(n,t,l),Nl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=kn(),l=Mi(a);l.tag=2,n!=null&&(l.callback=n),n=Ni(t,l,a),n!==null&&(Hn(n,t,a),Nl(n,t,a))}};function Zg(t,n,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Tl(a,l)||!Tl(h,d):!0}function Jg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&qh.enqueueReplaceState(n,n.state,null)}function Pa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wg(t){bu(t)}function tp(t){console.error(t)}function ep(t){bu(t)}function wu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function np(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fh(t,n,a){return a=Mi(a),a.tag=3,a.payload={element:null},a.callback=function(){wu(t,n)},a}function rp(t){return t=Mi(t),t.tag=3,t}function ip(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){np(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){np(n,a,l),typeof h!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function $E(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Rl(n,a,h,!0),a=sr.current,a!==null){switch(a.tag){case 13:return Ir===null?gf():a.alternate===null&&Ce===0&&(Ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_h?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),yf(t,l,h)),!1;case 22:return a.flags|=65536,l===_h?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),yf(t,l,h)),!1}throw Error(s(435,a.tag))}return yf(t,l,h),gf(),!1}if(ue)return n=sr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==fh&&(t=Error(s(422),{cause:l}),wl(nr(t,a)))):(l!==fh&&(n=Error(s(423),{cause:l}),wl(nr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=nr(l,a),h=Fh(t.stateNode,l,h),Sh(t,h),Ce!==4&&(Ce=2)),!1;var d=Error(s(520),{cause:l});if(d=nr(d,a),Yl===null?Yl=[d]:Yl.push(d),Ce!==4&&(Ce=2),n===null)return!0;l=nr(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Fh(a.stateNode,l,t),Sh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ji===null||!ji.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=rp(h),ip(h,t,a,l),Sh(a,h),!1}a=a.return}while(a!==null);return!1}var ap=Error(s(461)),Ze=!1;function an(t,n,a,l){n.child=t===null?Xg(n,null,a,l):bs(n,t.child,a,l)}function sp(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ia(n),l=Ch(t,n,a,_,d,h),T=Dh(),t!==null&&!Ze?(xh(t,n,h),hi(t,n,h)):(ue&&T&&ch(n),n.flags|=1,an(t,n,l,h),n.child)}function lp(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!lh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,op(t,n,d,l,h)):(t=iu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Jh(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Tl,a(_,l)&&t.ref===n.ref)return hi(t,n,h)}return n.flags|=1,t=ii(d,l),t.ref=n.ref,t.return=n,n.child=t}function op(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(Tl(d,l)&&t.ref===n.ref)if(Ze=!1,n.pendingProps=l=d,Jh(t,h))(t.flags&131072)!==0&&(Ze=!0);else return n.lanes=t.lanes,hi(t,n,h)}return Gh(t,n,a,l,h)}function up(t,n,a){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return cp(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&uu(n,d!==null?d.cachePool:null),d!==null?og(n,d):bh(),$g(n);else return n.lanes=n.childLanes=536870912,cp(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(uu(n,d.cachePool),og(n,d),Ii(),n.memoizedState=null):(t!==null&&uu(n,null),bh(),Ii());return an(t,n,h,a),n.child}function cp(t,n,a,l){var h=vh();return h=h===null?null:{parent:Ge._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&uu(n,null),bh(),$g(n),t!==null&&Rl(t,n,l,!0),null}function Ru(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Gh(t,n,a,l,h){return Ia(n),a=Ch(t,n,a,l,void 0,h),l=Dh(),t!==null&&!Ze?(xh(t,n,h),hi(t,n,h)):(ue&&l&&ch(n),n.flags|=1,an(t,n,a,h),n.child)}function hp(t,n,a,l,h,d){return Ia(n),n.updateQueue=null,a=cg(n,l,a,h),ug(t),l=Dh(),t!==null&&!Ze?(xh(t,n,d),hi(t,n,d)):(ue&&l&&ch(n),n.flags|=1,an(t,n,a,d),n.child)}function fp(t,n,a,l,h){if(Ia(n),n.stateNode===null){var d=ms,_=a.contextType;typeof _=="object"&&_!==null&&(d=dn(_)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Eh(n),_=a.contextType,d.context=typeof _=="object"&&_!==null?dn(_):ms,d.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Hh(n,a,_,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&qh.enqueueReplaceState(d,d.state,null),Vl(n,l,d,h),Ol(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,C=Pa(a,T);d.props=C;var G=d.context,tt=a.contextType;_=ms,typeof tt=="object"&&tt!==null&&(_=dn(tt));var it=a.getDerivedStateFromProps;tt=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==_)&&Jg(n,d,l,_),xi=!1;var Y=n.memoizedState;d.state=Y,Vl(n,l,d,h),Ol(),G=n.memoizedState,T||Y!==G||xi?(typeof it=="function"&&(Hh(n,a,it,l),G=n.memoizedState),(C=xi||Zg(n,a,C,l,Y,G,_))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Th(t,n),_=n.memoizedProps,tt=Pa(a,_),d.props=tt,it=n.pendingProps,Y=d.context,G=a.contextType,C=ms,typeof G=="object"&&G!==null&&(C=dn(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==it||Y!==C)&&Jg(n,d,l,C),xi=!1,Y=n.memoizedState,d.state=Y,Vl(n,l,d,h),Ol();var X=n.memoizedState;_!==it||Y!==X||xi||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof T=="function"&&(Hh(n,a,T,l),X=n.memoizedState),(tt=xi||Zg(n,a,tt,l,Y,X,C)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),d.props=l,d.state=X,d.context=C,l=tt):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ru(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=bs(n,t.child,null,h),n.child=bs(n,null,a,h)):an(t,n,a,h),n.memoizedState=d.state,t=n.child):t=hi(t,n,h),t}function dp(t,n,a,l){return bl(),n.flags|=256,an(t,n,a,l),n.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(t){return{baseLanes:t,cachePool:tg()}}function Kh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=lr),t}function mp(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Ye.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(ue){if(h?Vi(n):Ii(),ue){var T=Re,C;if(C=T){t:{for(C=T,T=Vr;C.nodeType!==8;){if(!T){T=null;break t}if(C=yr(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:xa!==null?{id:ai,overflow:si}:null,retryLane:536870912,hydrationErrors:null},C=Pn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,bn=n,Re=null,C=!0):C=!1}C||Oa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Of(T)?n.lanes=32:n.lanes=536870912,null;ci(n)}return T=l.children,l=l.fallback,h?(Ii(),h=n.mode,T=Cu({mode:"hidden",children:T},h),l=Da(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Qh(a),h.childLanes=Kh(t,_,a),n.memoizedState=Yh,l):(Vi(n),Xh(n,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(Vi(n),n.flags&=-257,n=$h(t,n,a)):n.memoizedState!==null?(Ii(),n.child=t.child,n.flags|=128,n=null):(Ii(),h=l.fallback,T=n.mode,l=Cu({mode:"visible",children:l.children},T),h=Da(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,bs(n,t.child,null,a),l=n.child,l.memoizedState=Qh(a),l.childLanes=Kh(t,_,a),n.memoizedState=Yh,n=h);else if(Vi(n),Of(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,wl({value:l,source:null,stack:null}),n=$h(t,n,a)}else if(Ze||Rl(t,n,a,!1),_=(a&t.childLanes)!==0,Ze||_){if(_=Te,_!==null&&(l=a&-a,l=(l&42)!==0?1:Ar(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ds(t,l),Hn(_,t,l),ap;T.data==="$?"||gf(),n=$h(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Re=yr(T.nextSibling),bn=n,ue=!0,Na=null,Vr=!1,t!==null&&(ir[ar++]=ai,ir[ar++]=si,ir[ar++]=xa,ai=t.id,si=t.overflow,xa=n),n=Xh(n,l.children),n.flags|=4096);return n}return h?(Ii(),h=l.fallback,T=n.mode,C=t.child,G=C.sibling,l=ii(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?h=ii(G,h):(h=Da(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Qh(a):(C=T.cachePool,C!==null?(G=Ge._currentValue,C=C.parent!==G?{parent:G,pool:G}:C):C=tg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=Kh(t,_,a),n.memoizedState=Yh,l):(Vi(n),a=t.child,t=a.sibling,a=ii(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Xh(t,n){return n=Cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Cu(t,n){return t=Pn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $h(t,n,a){return bs(n,t.child,null,a),t=Xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,a)}function Zh(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function pp(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(an(t,n,l.children,a),l=Ye.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gp(t,a,n);else if(t.tag===19)gp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(lt(Ye,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Zh(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Au(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zh(n,!0,a,null,d);break;case"together":Zh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function hi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Bi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Rl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ii(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ii(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function ZE(t,n,a){switch(n.tag){case 3:me(n,n.stateNode.containerInfo),Di(n,Ge,t.memoizedState.cache),bl();break;case 27:case 5:Se(n);break;case 4:me(n,n.stateNode.containerInfo);break;case 10:Di(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Vi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?mp(t,n,a):(Vi(n),t=hi(t,n,a),t!==null?t.sibling:null);Vi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Rl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return pp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(Ye,Ye.current),l)break;return null;case 22:case 23:return n.lanes=0,up(t,n,a);case 24:Di(n,Ge,t.memoizedState.cache)}return hi(t,n,a)}function yp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ze=!0;else{if(!Jh(t,a)&&(n.flags&128)===0)return Ze=!1,ZE(t,n,a);Ze=(t.flags&131072)!==0}else Ze=!1,ue&&(n.flags&1048576)!==0&&Qm(n,su,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")lh(l)?(t=Pa(l,t),n.tag=1,n=fp(null,n,l,t,a)):(n.tag=0,n=Gh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===gt){n.tag=11,n=sp(null,n,l,t,a);break t}else if(h===O){n.tag=14,n=lp(null,n,l,t,a);break t}}throw n=Pt(l)||l,Error(s(306,n,""))}}return n;case 0:return Gh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Pa(l,n.pendingProps),fp(t,n,l,h,a);case 3:t:{if(me(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Th(t,n),Vl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Di(n,Ge,l),l!==d.cache&&gh(n,[Ge],a,!0),Ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=dp(t,n,l,a);break t}else if(l!==h){h=nr(Error(s(424)),n),wl(h),n=dp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Re=yr(t.firstChild),bn=n,ue=!0,Na=null,Vr=!0,a=Xg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bl(),l===h){n=hi(t,n,a);break t}an(t,n,l,a)}n=n.child}return n;case 26:return Ru(t,n),t===null?(a=Ty(n.type,null,n.pendingProps,null))?n.memoizedState=a:ue||(a=n.type,t=n.pendingProps,l=ku(Rt.current).createElement(a),l[rt]=n,l[ot]=t,ln(l,a,t),Jt(l),n.stateNode=l):n.memoizedState=Ty(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Se(n),t===null&&ue&&(l=n.stateNode=vy(n.type,n.pendingProps,Rt.current),bn=n,Vr=!0,h=Re,qi(n.type)?(Vf=h,Re=yr(l.firstChild)):Re=h),an(t,n,n.pendingProps.children,a),Ru(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ue&&((h=l=Re)&&(l=w1(l,n.type,n.pendingProps,Vr),l!==null?(n.stateNode=l,bn=n,Re=yr(l.firstChild),Vr=!1,h=!0):h=!1),h||Oa(n)),Se(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,xf(h,d)?l=null:_!==null&&xf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Ch(t,n,qE,null,null,a),eo._currentValue=h),Ru(t,n),an(t,n,l,a),n.child;case 6:return t===null&&ue&&((t=a=Re)&&(a=R1(a,n.pendingProps,Vr),a!==null?(n.stateNode=a,bn=n,Re=null,t=!0):t=!1),t||Oa(n)),null;case 13:return mp(t,n,a);case 4:return me(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=bs(n,null,l,a):an(t,n,l,a),n.child;case 11:return sp(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Di(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ia(n),h=dn(h),l=l(h),n.flags|=1,an(t,n,l,a),n.child;case 14:return lp(t,n,n.type,n.pendingProps,a);case 15:return op(t,n,n.type,n.pendingProps,a);case 19:return pp(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Cu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=ii(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return up(t,n,a);case 24:return Ia(n),l=dn(Ge),t===null?(h=vh(),h===null&&(h=Te,d=ph(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Eh(n),Di(n,Ge,h)):((t.lanes&a)!==0&&(Th(t,n),Vl(n,null,null,a),Ol()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Di(n,Ge,l)):(l=d.cache,Di(n,Ge,l),l!==h.cache&&gh(n,[Ge],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function fi(t){t.flags|=4}function vp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ry(n)){if(n=sr.current,n!==null&&((ee&4194048)===ee?Ir!==null:(ee&62914560)!==ee&&(ee&536870912)===0||n!==Ir))throw Ml=_h,eg;t.flags|=8192}}function Du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ma():536870912,t.lanes|=n,Ds|=n)}function jl(t,n){if(!ue)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function be(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function JE(t,n,a){var l=n.pendingProps;switch(hh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(n),null;case 1:return be(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),oi(Ge),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Al(n)?fi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$m())),be(n),null;case 26:return a=n.memoizedState,t===null?(fi(n),a!==null?(be(n),vp(n,a)):(be(n),n.flags&=-16777217)):a?a!==t.memoizedState?(fi(n),be(n),vp(n,a)):(be(n),n.flags&=-16777217):(t.memoizedProps!==l&&fi(n),be(n),n.flags&=-16777217),null;case 27:cn(n),a=Rt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&fi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return be(n),null}t=At.current,Al(n)?Km(n):(t=vy(h,l,a),n.stateNode=t,fi(n))}return be(n),null;case 5:if(cn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&fi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return be(n),null}if(t=At.current,Al(n))Km(n);else{switch(h=ku(Rt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[rt]=n,t[ot]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ln(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&fi(n)}}return be(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&fi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Rt.current,Al(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=bn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[rt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hy(t.nodeValue,a)),t||Oa(n)}else t=ku(t).createTextNode(l),t[rt]=n,n.stateNode=t}return be(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[rt]=n}else bl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;be(n),h=!1}else h=$m(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(ci(n),n):(ci(n),null)}if(ci(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Du(n,n.updateQueue),be(n),null;case 4:return Gn(),t===null&&bf(n.stateNode.containerInfo),be(n),null;case 10:return oi(n.type),be(n),null;case 19:if(ht(Ye),h=n.memoizedState,h===null)return be(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)jl(h,!1);else{if(Ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Au(t),d!==null){for(n.flags|=128,jl(h,!1),t=d.updateQueue,n.updateQueue=t,Du(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Ym(a,t),a=a.sibling;return lt(Ye,Ye.current&1|2),n.child}t=t.sibling}h.tail!==null&&_n()>Nu&&(n.flags|=128,l=!0,jl(h,!1),n.lanes=4194304)}else{if(!l)if(t=Au(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Du(n,t),jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ue)return be(n),null}else 2*_n()-h.renderingStartTime>Nu&&a!==536870912&&(n.flags|=128,l=!0,jl(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=_n(),n.sibling=null,t=Ye.current,lt(Ye,l?t&1|2:t&1),n):(be(n),null);case 22:case 23:return ci(n),wh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(be(n),n.subtreeFlags&6&&(n.flags|=8192)):be(n),a=n.updateQueue,a!==null&&Du(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ht(La),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),oi(Ge),be(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function WE(t,n){switch(hh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return oi(Ge),Gn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return cn(n),null;case 13:if(ci(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));bl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ht(Ye),null;case 4:return Gn(),null;case 10:return oi(n.type),null;case 22:case 23:return ci(n),wh(),t!==null&&ht(La),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return oi(Ge),null;case 25:return null;default:return null}}function _p(t,n){switch(hh(n),n.tag){case 3:oi(Ge),Gn();break;case 26:case 27:case 5:cn(n);break;case 4:Gn();break;case 13:ci(n);break;case 19:ht(Ye);break;case 10:oi(n.type);break;case 22:case 23:ci(n),wh(),t!==null&&ht(La);break;case 24:oi(Ge)}}function kl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ee(n,n.return,T)}}function Li(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var C=a,G=T;try{G()}catch(tt){Ee(h,C,tt)}}}l=l.next}while(l!==d)}}catch(tt){Ee(n,n.return,tt)}}function Ep(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{lg(n,a)}catch(l){Ee(t,t.return,l)}}}function Tp(t,n,a){a.props=Pa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ee(t,n,l)}}function Hl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ee(t,n,h)}}function Lr(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ee(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ee(t,n,h)}else a.current=null}function Sp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ee(t,t.return,h)}}function Wh(t,n,a){try{var l=t.stateNode;E1(l,t.type,a,n),l[ot]=n}catch(h){Ee(t,t.return,h)}}function Ap(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qi(t.type)||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ju));else if(l!==4&&(l===27&&qi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,a),t=t.sibling;t!==null;)ef(t,n,a),t=t.sibling}function xu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&qi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xu(t,n,a),t=t.sibling;t!==null;)xu(t,n,a),t=t.sibling}function bp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,l,a),n[rt]=t,n[ot]=a}catch(d){Ee(t,t.return,d)}}var di=!1,Ne=!1,nf=!1,wp=typeof WeakSet=="function"?WeakSet:Set,Je=null;function t1(t,n){if(t=t.containerInfo,Cf=Qu,t=Um(t),th(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,G=0,tt=0,it=t,Y=null;e:for(;;){for(var X;it!==a||h!==0&&it.nodeType!==3||(T=_+h),it!==d||l!==0&&it.nodeType!==3||(C=_+l),it.nodeType===3&&(_+=it.nodeValue.length),(X=it.firstChild)!==null;)Y=it,it=X;for(;;){if(it===t)break e;if(Y===a&&++G===h&&(T=_),Y===d&&++tt===l&&(C=_),(X=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=X}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:t,selectionRange:a},Qu=!1,Je=n;Je!==null;)if(n=Je,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Je=t;else for(;Je!==null;){switch(n=Je,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Vt=Pa(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Vt,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(xt){Ee(a,a.return,xt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Nf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Je=t;break}Je=n.return}}function Rp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(t,a),l&4&&kl(5,a);break;case 1:if(Ui(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Ee(a,a.return,_)}else{var h=Pa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ee(a,a.return,_)}}l&64&&Ep(a),l&512&&Hl(a,a.return);break;case 3:if(Ui(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{lg(t,n)}catch(_){Ee(a,a.return,_)}}break;case 27:n===null&&l&4&&bp(a);case 26:case 5:Ui(t,a),n===null&&l&4&&Sp(a),l&512&&Hl(a,a.return);break;case 12:Ui(t,a);break;case 13:Ui(t,a),l&4&&xp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=u1.bind(null,a),C1(t,a))));break;case 22:if(l=a.memoizedState!==null||di,!l){n=n!==null&&n.memoizedState!==null||Ne,h=di;var d=Ne;di=l,(Ne=n)&&!d?Pi(t,a,(a.subtreeFlags&8772)!==0):Ui(t,a),di=h,Ne=d}break;case 30:break;default:Ui(t,a)}}function Cp(t){var n=t.alternate;n!==null&&(t.alternate=null,Cp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&St(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ae=null,Dn=!1;function mi(t,n,a){for(a=a.child;a!==null;)Dp(t,n,a),a=a.sibling}function Dp(t,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:Ne||Lr(a,n),mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Lr(a,n);var l=Ae,h=Dn;qi(a.type)&&(Ae=a.stateNode,Dn=!1),mi(t,n,a),Zl(a.stateNode),Ae=l,Dn=h;break;case 5:Ne||Lr(a,n);case 6:if(l=Ae,h=Dn,Ae=null,mi(t,n,a),Ae=l,Dn=h,Ae!==null)if(Dn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(d){Ee(a,n,d)}else try{Ae.removeChild(a.stateNode)}catch(d){Ee(a,n,d)}break;case 18:Ae!==null&&(Dn?(t=Ae,py(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):py(Ae,a.stateNode));break;case 4:l=Ae,h=Dn,Ae=a.stateNode.containerInfo,Dn=!0,mi(t,n,a),Ae=l,Dn=h;break;case 0:case 11:case 14:case 15:Ne||Li(2,a,n),Ne||Li(4,a,n),mi(t,n,a);break;case 1:Ne||(Lr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Tp(a,n,l)),mi(t,n,a);break;case 21:mi(t,n,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,mi(t,n,a),Ne=l;break;default:mi(t,n,a)}}function xp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){Ee(n,n.return,a)}}function e1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wp),n;default:throw Error(s(435,t.tag))}}function rf(t,n){var a=e1(t);n.forEach(function(l){var h=c1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function zn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(qi(T.type)){Ae=T.stateNode,Dn=!1;break t}break;case 5:Ae=T.stateNode,Dn=!1;break t;case 3:case 4:Ae=T.stateNode.containerInfo,Dn=!0;break t}T=T.return}if(Ae===null)throw Error(s(160));Dp(d,_,h),Ae=null,Dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Mp(n,t),n=n.sibling}var pr=null;function Mp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(n,t),Bn(t),l&4&&(Li(3,t,t.return),kl(3,t),Li(5,t,t.return));break;case 1:zn(n,t),Bn(t),l&512&&(Ne||a===null||Lr(a,a.return)),l&64&&di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=pr;if(zn(n,t),Bn(t),l&512&&(Ne||a===null||Lr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Dt]||d[rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,l,a),d[rt]=t,Jt(d),l=d;break t;case"link":var _=by("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;case"meta":if(_=by("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[rt]=t,Jt(d),l=d}t.stateNode=l}else wy(h,t.type,t.stateNode);else t.stateNode=Ay(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?wy(h,t.type,t.stateNode):Ay(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wh(t,t.memoizedProps,a.memoizedProps)}break;case 27:zn(n,t),Bn(t),l&512&&(Ne||a===null||Lr(a,a.return)),a!==null&&l&4&&Wh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(zn(n,t),Bn(t),l&512&&(Ne||a===null||Lr(a,a.return)),t.flags&32){h=t.stateNode;try{Jn(h,"")}catch(X){Ee(t,t.return,X)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Wh(t,h,a!==null?a.memoizedProps:h)),l&1024&&(nf=!0);break;case 6:if(zn(n,t),Bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(X){Ee(t,t.return,X)}}break;case 3:if(Fu=null,h=pr,pr=Hu(n.containerInfo),zn(n,t),pr=h,Bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(n.containerInfo)}catch(X){Ee(t,t.return,X)}nf&&(nf=!1,Np(t));break;case 4:l=pr,pr=Hu(t.stateNode.containerInfo),zn(n,t),Bn(t),pr=l;break;case 12:zn(n,t),Bn(t);break;case 13:zn(n,t),Bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cf=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,G=di,tt=Ne;if(di=G||h,Ne=tt||C,zn(n,t),Ne=tt,di=G,Bn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||di||Ne||za(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var it=C.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){Ee(C,C.return,X)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(X){Ee(C,C.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rf(t,a))));break;case 19:zn(n,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 30:break;case 21:break;default:zn(n,t),Bn(t)}}function Bn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ap(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=tf(t);xu(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Jn(_,""),a.flags&=-33);var T=tf(t);xu(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,G=tf(t);ef(t,G,C);break;default:throw Error(s(161))}}catch(tt){Ee(t,t.return,tt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ui(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rp(t,n.alternate,n),n=n.sibling}function za(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Li(4,n,n.return),za(n);break;case 1:Lr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Tp(n,n.return,a),za(n);break;case 27:Zl(n.stateNode);case 26:case 5:Lr(n,n.return),za(n);break;case 22:n.memoizedState===null&&za(n);break;case 30:za(n);break;default:za(n)}t=t.sibling}}function Pi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Pi(h,d,a),kl(4,d);break;case 1:if(Pi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Ee(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)sg(C[h],T)}catch(G){Ee(l,l.return,G)}}a&&_&64&&Ep(d),Hl(d,d.return);break;case 27:bp(d);case 26:case 5:Pi(h,d,a),a&&l===null&&_&4&&Sp(d),Hl(d,d.return);break;case 12:Pi(h,d,a);break;case 13:Pi(h,d,a),a&&_&4&&xp(h,d);break;case 22:d.memoizedState===null&&Pi(h,d,a),Hl(d,d.return);break;case 30:break;default:Pi(h,d,a)}n=n.sibling}}function af(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t))}function Ur(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Op(t,n,a,l),n=n.sibling}function Op(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ur(t,n,a,l),h&2048&&kl(9,n);break;case 1:Ur(t,n,a,l);break;case 3:Ur(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t)));break;case 12:if(h&2048){Ur(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ee(n,n.return,C)}}else Ur(t,n,a,l);break;case 13:Ur(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?Ur(t,n,a,l):ql(t,n):d._visibility&2?Ur(t,n,a,l):(d._visibility|=2,ws(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&af(_,n);break;case 24:Ur(t,n,a,l),h&2048&&sf(n.alternate,n);break;default:Ur(t,n,a,l)}}function ws(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,_=n,T=a,C=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:ws(d,_,T,C,h),kl(8,_);break;case 23:break;case 22:var tt=_.stateNode;_.memoizedState!==null?tt._visibility&2?ws(d,_,T,C,h):ql(d,_):(tt._visibility|=2,ws(d,_,T,C,h)),h&&G&2048&&af(_.alternate,_);break;case 24:ws(d,_,T,C,h),h&&G&2048&&sf(_.alternate,_);break;default:ws(d,_,T,C,h)}n=n.sibling}}function ql(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:ql(a,l),h&2048&&af(l.alternate,l);break;case 24:ql(a,l),h&2048&&sf(l.alternate,l);break;default:ql(a,l)}n=n.sibling}}var Fl=8192;function Rs(t){if(t.subtreeFlags&Fl)for(t=t.child;t!==null;)Vp(t),t=t.sibling}function Vp(t){switch(t.tag){case 26:Rs(t),t.flags&Fl&&t.memoizedState!==null&&j1(pr,t.memoizedState,t.memoizedProps);break;case 5:Rs(t);break;case 3:case 4:var n=pr;pr=Hu(t.stateNode.containerInfo),Rs(t),pr=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Fl,Fl=16777216,Rs(t),Fl=n):Rs(t));break;default:Rs(t)}}function Ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Je=l,Up(l,t)}Ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lp(t),t=t.sibling}function Lp(t){switch(t.tag){case 0:case 11:case 15:Gl(t),t.flags&2048&&Li(9,t,t.return);break;case 3:Gl(t);break;case 12:Gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Mu(t)):Gl(t);break;default:Gl(t)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Je=l,Up(l,t)}Ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Li(8,n,n.return),Mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(n));break;default:Mu(n)}t=t.sibling}}function Up(t,n){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Li(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else t:for(a=t;Je!==null;){l=Je;var h=l.sibling,d=l.return;if(Cp(l),l===a){Je=null;break t}if(h!==null){h.return=d,Je=h;break t}Je=d}}}var n1={getCacheForType:function(t){var n=dn(Ge),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},r1=typeof WeakMap=="function"?WeakMap:Map,fe=0,Te=null,$t=null,ee=0,de=0,jn=null,zi=!1,Cs=!1,lf=!1,gi=0,Ce=0,Bi=0,Ba=0,of=0,lr=0,Ds=0,Yl=null,xn=null,uf=!1,cf=0,Nu=1/0,Ou=null,ji=null,sn=0,ki=null,xs=null,Ms=0,hf=0,ff=null,Pp=null,Ql=0,df=null;function kn(){if((fe&2)!==0&&ee!==0)return ee&-ee;if(K.T!==null){var t=ys;return t!==0?t:Ef()}return M()}function zp(){lr===0&&(lr=(ee&536870912)===0||ue?Xr():536870912);var t=sr.current;return t!==null&&(t.flags|=32),lr}function Hn(t,n,a){(t===Te&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(Ns(t,0),Hi(t,ee,lr,!1)),dr(t,a),((fe&2)===0||t!==Te)&&(t===Te&&((fe&2)===0&&(Ba|=a),Ce===4&&Hi(t,ee,lr,!1)),Pr(t))}function Bp(t,n,a){if((fe&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Kn(t,n),h=l?s1(t,n):pf(t,n,!0),d=l;do{if(h===0){Cs&&!l&&Hi(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!i1(a)){h=pf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=Yl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ns(T,_).flags|=256),_=pf(T,_,!1),_!==2){if(lf&&!C){T.errorRecoveryDisabledLanes|=d,Ba|=d,h=4;break t}d=xn,xn=h,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ns(t,0),Hi(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Hi(l,n,lr,!zi);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=cf+300-_n(),10<h)){if(Hi(l,n,lr,!zi),Kr(l,0,!0)!==0)break t;l.timeoutHandle=my(jp.bind(null,l,a,xn,Ou,uf,n,lr,Ba,Ds,zi,d,2,-0,0),h);break t}jp(l,a,xn,Ou,uf,n,lr,Ba,Ds,zi,d,0,-0,0)}}break}while(!0);Pr(t)}function jp(t,n,a,l,h,d,_,T,C,G,tt,it,Y,X){if(t.timeoutHandle=-1,it=n.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(to={stylesheets:null,count:0,unsuspend:B1},Vp(n),it=k1(),it!==null)){t.cancelPendingCommit=it(Qp.bind(null,t,n,d,a,l,h,_,T,C,tt,1,Y,X)),Hi(t,d,_,!G);return}Qp(t,n,d,a,l,h,_,T,C)}function i1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Un(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hi(t,n,a,l){n&=~of,n&=~Ba,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Le(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&En(t,a,n)}function Vu(){return(fe&6)===0?(Kl(0),!1):!0}function mf(){if($t!==null){if(de===0)var t=$t.return;else t=$t,li=Va=null,Mh(t),As=null,zl=0,t=$t;for(;t!==null;)_p(t.alternate,t),t=t.return;$t=null}}function Ns(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,S1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),mf(),Te=t,$t=a=ii(t.current,null),ee=n,de=0,jn=null,zi=!1,Cs=Kn(t,n),lf=!1,Ds=lr=of=Ba=Bi=Ce=0,xn=Yl=null,uf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Le(l),d=1<<h;n|=t[h],l&=~d}return gi=n,eu(),a}function kp(t,n){Gt=null,K.H=Eu,n===xl||n===cu?(n=ig(),de=3):n===eg?(n=ig(),de=4):de=n===ap?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,$t===null&&(Ce=1,wu(t,nr(n,t.current)))}function Hp(){var t=K.H;return K.H=Eu,t===null?Eu:t}function qp(){var t=K.A;return K.A=n1,t}function gf(){Ce=4,zi||(ee&4194048)!==ee&&sr.current!==null||(Cs=!0),(Bi&134217727)===0&&(Ba&134217727)===0||Te===null||Hi(Te,ee,lr,!1)}function pf(t,n,a){var l=fe;fe|=2;var h=Hp(),d=qp();(Te!==t||ee!==n)&&(Ou=null,Ns(t,n)),n=!1;var _=Ce;t:do try{if(de!==0&&$t!==null){var T=$t,C=jn;switch(de){case 8:mf(),_=6;break t;case 3:case 2:case 9:case 6:sr.current===null&&(n=!0);var G=de;if(de=0,jn=null,Os(t,T,C,G),a&&Cs){_=0;break t}break;default:G=de,de=0,jn=null,Os(t,T,C,G)}}a1(),_=Ce;break}catch(tt){kp(t,tt)}while(!0);return n&&t.shellSuspendCounter++,li=Va=null,fe=l,K.H=h,K.A=d,$t===null&&(Te=null,ee=0,eu()),_}function a1(){for(;$t!==null;)Fp($t)}function s1(t,n){var a=fe;fe|=2;var l=Hp(),h=qp();Te!==t||ee!==n?(Ou=null,Nu=_n()+500,Ns(t,n)):Cs=Kn(t,n);t:do try{if(de!==0&&$t!==null){n=$t;var d=jn;e:switch(de){case 1:de=0,jn=null,Os(t,n,d,1);break;case 2:case 9:if(ng(d)){de=0,jn=null,Gp(n);break}n=function(){de!==2&&de!==9||Te!==t||(de=7),Pr(t)},d.then(n,n);break t;case 3:de=7;break t;case 4:de=5;break t;case 7:ng(d)?(de=0,jn=null,Gp(n)):(de=0,jn=null,Os(t,n,d,7));break;case 5:var _=null;switch($t.tag){case 26:_=$t.memoizedState;case 5:case 27:var T=$t;if(!_||Ry(_)){de=0,jn=null;var C=T.sibling;if(C!==null)$t=C;else{var G=T.return;G!==null?($t=G,Iu(G)):$t=null}break e}}de=0,jn=null,Os(t,n,d,5);break;case 6:de=0,jn=null,Os(t,n,d,6);break;case 8:mf(),Ce=6;break t;default:throw Error(s(462))}}l1();break}catch(tt){kp(t,tt)}while(!0);return li=Va=null,K.H=l,K.A=h,fe=a,$t!==null?0:(Te=null,ee=0,eu(),Ce)}function l1(){for(;$t!==null&&!fa();)Fp($t)}function Fp(t){var n=yp(t.alternate,t,gi);t.memoizedProps=t.pendingProps,n===null?Iu(t):$t=n}function Gp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=hp(a,n,n.pendingProps,n.type,void 0,ee);break;case 11:n=hp(a,n,n.pendingProps,n.type.render,n.ref,ee);break;case 5:Mh(n);default:_p(a,n),n=$t=Ym(n,gi),n=yp(a,n,gi)}t.memoizedProps=t.pendingProps,n===null?Iu(t):$t=n}function Os(t,n,a,l){li=Va=null,Mh(n),As=null,zl=0;var h=n.return;try{if($E(t,h,n,a,ee)){Ce=1,wu(t,nr(a,t.current)),$t=null;return}}catch(d){if(h!==null)throw $t=h,d;Ce=1,wu(t,nr(a,t.current)),$t=null;return}n.flags&32768?(ue||l===1?t=!0:Cs||(ee&536870912)!==0?t=!1:(zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=sr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yp(n,t)):Iu(n)}function Iu(t){var n=t;do{if((n.flags&32768)!==0){Yp(n,zi);return}t=n.return;var a=JE(n.alternate,n,gi);if(a!==null){$t=a;return}if(n=n.sibling,n!==null){$t=n;return}$t=n=t}while(n!==null);Ce===0&&(Ce=5)}function Yp(t,n){do{var a=WE(t.alternate,t);if(a!==null){a.flags&=32767,$t=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){$t=t;return}$t=t=a}while(t!==null);Ce=6,$t=null}function Qp(t,n,a,l,h,d,_,T,C){t.cancelPendingCommit=null;do Lu();while(sn!==0);if((fe&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=ah,Ai(t,a,d,_,T,C),t===Te&&($t=Te=null,ee=0),xs=n,ki=t,Ms=a,hf=d,ff=h,Pp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h1(Qr,function(){return Jp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ut.p,ut.p=2,_=fe,fe|=4;try{t1(t,n,a)}finally{fe=_,ut.p=h,K.T=l}}sn=1,Kp(),Xp(),$p()}}function Kp(){if(sn===1){sn=0;var t=ki,n=xs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ut.p;ut.p=2;var h=fe;fe|=4;try{Mp(n,t);var d=Df,_=Um(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Lm(T.ownerDocument.documentElement,T)){if(C!==null&&th(T)){var G=C.start,tt=C.end;if(tt===void 0&&(tt=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(tt,T.value.length);else{var it=T.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Vt=T.textContent.length,xt=Math.min(C.start,Vt),ve=C.end===void 0?xt:Math.min(C.end,Vt);!X.extend&&xt>ve&&(_=ve,ve=xt,xt=_);var z=Im(T,xt),L=Im(T,ve);if(z&&L&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var H=it.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),xt>ve?(X.addRange(H),X.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),X.addRange(H))}}}}for(it=[],X=T;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<it.length;T++){var et=it[T];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Qu=!!Cf,Df=Cf=null}finally{fe=h,ut.p=l,K.T=a}}t.current=n,sn=2}}function Xp(){if(sn===2){sn=0;var t=ki,n=xs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ut.p;ut.p=2;var h=fe;fe|=4;try{Rp(t,n.alternate,n)}finally{fe=h,ut.p=l,K.T=a}}sn=3}}function $p(){if(sn===4||sn===3){sn=0,Ja();var t=ki,n=xs,a=Ms,l=Pp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,xs=ki=null,Zp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ji=null),bi(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=ut.p,ut.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=n,ut.p=h}}(Ms&3)!==0&&Lu(),Pr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===df?Ql++:(Ql=0,df=t):Ql=0,Kl(0)}}function Zp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Cl(n)))}function Lu(t){return Kp(),Xp(),$p(),Jp()}function Jp(){if(sn!==5)return!1;var t=ki,n=hf;hf=0;var a=bi(Ms),l=K.T,h=ut.p;try{ut.p=32>a?32:a,K.T=null,a=ff,ff=null;var d=ki,_=Ms;if(sn=0,xs=ki=null,Ms=0,(fe&6)!==0)throw Error(s(331));var T=fe;if(fe|=4,Lp(d.current),Op(d,d.current,_,a),fe=T,Kl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{ut.p=h,K.T=l,Zp(t,n)}}function Wp(t,n,a){n=nr(a,n),n=Fh(t.stateNode,n,2),t=Ni(t,n,2),t!==null&&(dr(t,2),Pr(t))}function Ee(t,n,a){if(t.tag===3)Wp(t,t,a);else for(;n!==null;){if(n.tag===3){Wp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ji===null||!ji.has(l))){t=nr(a,t),a=rp(2),l=Ni(n,a,2),l!==null&&(ip(a,l,n,t),dr(l,2),Pr(l));break}}n=n.return}}function yf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new r1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(lf=!0,h.add(a),t=o1.bind(null,t,n,a),n.then(t,t))}function o1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Te===t&&(ee&a)===a&&(Ce===4||Ce===3&&(ee&62914560)===ee&&300>_n()-cf?(fe&2)===0&&Ns(t,0):of|=a,Ds===ee&&(Ds=0)),Pr(t)}function ty(t,n){n===0&&(n=ma()),t=ds(t,n),t!==null&&(dr(t,n),Pr(t))}function u1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ty(t,a)}function c1(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ty(t,a)}function h1(t,n){return Yr(t,n)}var Uu=null,Vs=null,vf=!1,Pu=!1,_f=!1,ja=0;function Pr(t){t!==Vs&&t.next===null&&(Vs===null?Uu=Vs=t:Vs=Vs.next=t),Pu=!0,vf||(vf=!0,d1())}function Kl(t,n){if(!_f&&Pu){_f=!0;do for(var a=!1,l=Uu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Le(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,iy(l,d))}else d=ee,d=Kr(l,l===Te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,iy(l,d));l=l.next}while(a);_f=!1}}function f1(){ey()}function ey(){Pu=vf=!1;var t=0;ja!==0&&(T1()&&(t=ja),ja=0);for(var n=_n(),a=null,l=Uu;l!==null;){var h=l.next,d=ny(l,n);d===0?(l.next=null,a===null?Uu=h:a.next=h,h===null&&(Vs=a)):(a=l,(t!==0||(d&3)!==0)&&(Pu=!0)),l=h}Kl(t)}function ny(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Le(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Si(T,n)):C<=n&&(t.expiredLanes|=T),d&=~T}if(n=Te,a=ee,a=Kr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(de===2||de===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&vn(l),bi(a)){case 2:case 8:a=_i;break;case 32:a=Qr;break;case 268435456:a=Yn;break;default:a=Qr}return l=ry.bind(null,t),a=Yr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&vn(l),t.callbackPriority=2,t.callbackNode=null,2}function ry(t,n){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lu()&&t.callbackNode!==a)return null;var l=ee;return l=Kr(t,t===Te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Bp(t,l,n),ny(t,_n()),t.callbackNode!=null&&t.callbackNode===a?ry.bind(null,t):null)}function iy(t,n){if(Lu())return null;Bp(t,n,!0)}function d1(){A1(function(){(fe&6)!==0?Yr(da,f1):ey()})}function Ef(){return ja===0&&(ja=Xr()),ja}function ay(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:es(""+t)}function sy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function m1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=ay((h[ot]||null).action),_=l.submitter;_&&(n=(n=_[ot]||null)?ay(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new ns("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ja!==0){var C=_?sy(h,_):new FormData(h);Bh(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?sy(h,_):new FormData(h),Bh(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Tf=0;Tf<ih.length;Tf++){var Sf=ih[Tf],g1=Sf.toLowerCase(),p1=Sf[0].toUpperCase()+Sf.slice(1);gr(g1,"on"+p1)}gr(Bm,"onAnimationEnd"),gr(jm,"onAnimationIteration"),gr(km,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(VE,"onTransitionRun"),gr(IE,"onTransitionStart"),gr(LE,"onTransitionCancel"),gr(Hm,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),He("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),He("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),He("onBeforeInput",["compositionend","keypress","textInput","paste"]),He("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function ly(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,G=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(tt){bu(tt)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,G=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(tt){bu(tt)}h.currentTarget=null,d=C}}}}function Zt(t,n){var a=n[Ct];a===void 0&&(a=n[Ct]=new Set);var l=t+"__bubble";a.has(l)||(oy(n,t,2,!1),a.add(l))}function Af(t,n,a){var l=0;n&&(l|=4),oy(a,t,l,n)}var zu="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[zu]){t[zu]=!0,Yt.forEach(function(a){a!=="selectionchange"&&(y1.has(a)||Af(a,!1,t),Af(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[zu]||(n[zu]=!0,Af("selectionchange",!1,n))}}function oy(t,n,a,l){switch(Oy(n)){case 2:var h=F1;break;case 8:h=G1;break;default:h=zf}a=h.bind(null,n,a,t),h=void 0,!tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function wf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Nt(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}T=T.parentNode}}l=l.return}jo(function(){var G=d,tt=Wn(a),it=[];t:{var Y=qm.get(t);if(Y!==void 0){var X=ns,Vt=t;switch(t){case"keypress":if(Dr(a)===0)break t;case"keydown":case"keyup":X=os;break;case"focusin":Vt="focus",X=as;break;case"focusout":Vt="blur",X=as;break;case"beforeblur":case"afterblur":X=as;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ko;break;case Bm:case jm:case km:X=ss;break;case Hm:X=$o;break;case"scroll":case"scrollend":X=ko;break;case"wheel":X=us;break;case"copy":case"cut":case"paste":X=ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=_l;break;case"toggle":case"beforetoggle":X=Jo}var xt=(n&4)!==0,ve=!xt&&(t==="scroll"||t==="scrollend"),z=xt?Y!==null?Y+"Capture":null:Y;xt=[];for(var L=G,H;L!==null;){var et=L;if(H=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||H===null||z===null||(et=_a(L,z),et!=null&&xt.push($l(L,et,H))),ve)break;L=L.return}0<xt.length&&(Y=new X(Y,Vt,null,a,tt),it.push({event:Y,listeners:xt}))}}if((n&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&a!==Jr&&(Vt=a.relatedTarget||a.fromElement)&&(Nt(Vt)||Vt[yt]))break t;if((X||Y)&&(Y=tt.window===tt?tt:(Y=tt.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Vt=a.relatedTarget||a.toElement,X=G,Vt=Vt?Nt(Vt):null,Vt!==null&&(ve=c(Vt),xt=Vt.tag,Vt!==ve||xt!==5&&xt!==27&&xt!==6)&&(Vt=null)):(X=null,Vt=G),X!==Vt)){if(xt=er,et="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(xt=_l,et="onPointerLeave",z="onPointerEnter",L="pointer"),ve=X==null?Y:ce(X),H=Vt==null?Y:ce(Vt),Y=new xt(et,L+"leave",X,a,tt),Y.target=ve,Y.relatedTarget=H,et=null,Nt(tt)===G&&(xt=new xt(z,L+"enter",Vt,a,tt),xt.target=H,xt.relatedTarget=ve,et=xt),ve=et,X&&Vt)e:{for(xt=X,z=Vt,L=0,H=xt;H;H=Is(H))L++;for(H=0,et=z;et;et=Is(et))H++;for(;0<L-H;)xt=Is(xt),L--;for(;0<H-L;)z=Is(z),H--;for(;L--;){if(xt===z||z!==null&&xt===z.alternate)break e;xt=Is(xt),z=Is(z)}xt=null}else xt=null;X!==null&&uy(it,Y,X,xt,!1),Vt!==null&&ve!==null&&uy(it,ve,Vt,xt,!0)}}t:{if(Y=G?ce(G):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Et=Dm;else if(Fe(Y))if(xm)Et=ME;else{Et=DE;var Qt=CE}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&fl(G.elementType)&&(Et=Dm):Et=xE;if(Et&&(Et=Et(t,G))){ri(it,Et,a,tt);break t}Qt&&Qt(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Ri(Y,"number",Y.value)}switch(Qt=G?ce(G):window,t){case"focusin":(Fe(Qt)||Qt.contentEditable==="true")&&(cs=Qt,eh=G,Sl=null);break;case"focusout":Sl=eh=cs=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Pm(it,a,tt);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":Pm(it,a,tt)}var wt;if(Nr)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Wt?J(t,a)&&(Ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(v&&a.locale!=="ko"&&(Wt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Wt&&(wt=ml()):(Cr=tt,Ci="value"in Cr?Cr.value:Cr.textContent,Wt=!0)),Qt=Bu(G,Ot),0<Qt.length&&(Ot=new yl(Ot,t,null,a,tt),it.push({event:Ot,listeners:Qt}),wt?Ot.data=wt:(wt=ft(a),wt!==null&&(Ot.data=wt)))),(wt=g?qe(t,a):te(t,a))&&(Ot=Bu(G,"onBeforeInput"),0<Ot.length&&(Qt=new yl("onBeforeInput","beforeinput",null,a,tt),it.push({event:Qt,listeners:Ot}),Qt.data=wt)),m1(it,t,G,a,tt)}ly(it,n)})}function $l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Bu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_a(t,a),h!=null&&l.unshift($l(t,h,d)),h=_a(t,n),h!=null&&l.push($l(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uy(t,n,a,l,h){for(var d=n._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,G=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||G===null||(C=G,h?(G=_a(a,d),G!=null&&_.unshift($l(a,G,C))):h||(G=_a(a,d),G!=null&&_.push($l(a,G,C)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var v1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(_1,"")}function hy(t,n){return n=cy(n),cy(t)===n}function ju(){}function ye(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Jn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Jn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":hl(t,l,d);break;case"data":if(n!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=es(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ye(t,n,"name",h.name,h,null),ye(t,n,"formEncType",h.formEncType,h,null),ye(t,n,"formMethod",h.formMethod,h,null),ye(t,n,"formTarget",h.formTarget,h,null)):(ye(t,n,"encType",h.encType,h,null),ye(t,n,"method",h.method,h,null),ye(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=es(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ju);break;case"onScroll":l!=null&&Zt("scroll",t);break;case"onScrollEnd":l!=null&&Zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=es(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Zt("beforetoggle",t),Zt("toggle",t),fn(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kc.get(a)||a,fn(t,a,l))}}function Rf(t,n,a,l,h,d){switch(a){case"style":hl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Jn(t,l):(typeof l=="number"||typeof l=="bigint")&&Jn(t,""+l);break;case"onScroll":l!=null&&Zt("scroll",t);break;case"onScrollEnd":l!=null&&Zt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$n.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[ot]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fn(t,a,l)}}}function ln(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",t),Zt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ye(t,n,d,_,a,null)}}h&&ye(t,n,"srcSet",a.srcSet,a,null),l&&ye(t,n,"src",a.src,a,null);return;case"input":Zt("invalid",t);var T=d=_=h=null,C=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var tt=a[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":_=tt;break;case"checked":C=tt;break;case"defaultChecked":G=tt;break;case"value":d=tt;break;case"defaultValue":T=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,n));break;default:ye(t,n,l,tt,a,null)}}pa(t,d,T,C,G,_,h,!1),ts(t);return;case"select":Zt("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ye(t,n,h,T,a,null)}n=d,a=_,t.multiple=!!l,n!=null?Zr(t,!!l,n,!1):a!=null&&Zr(t,!!l,a,!0);return;case"textarea":Zt("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ye(t,n,_,T,a,null)}ya(t,l,h,d),ts(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ye(t,n,C,l,a,null)}return;case"dialog":Zt("beforetoggle",t),Zt("toggle",t),Zt("cancel",t),Zt("close",t);break;case"iframe":case"object":Zt("load",t);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Zt(Xl[l],t);break;case"image":Zt("error",t),Zt("load",t);break;case"details":Zt("toggle",t);break;case"embed":case"source":case"link":Zt("error",t),Zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ye(t,n,G,l,a,null)}return;default:if(fl(n)){for(tt in a)a.hasOwnProperty(tt)&&(l=a[tt],l!==void 0&&Rf(t,n,tt,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ye(t,n,T,l,a,null))}function E1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,G=null,tt=null;for(X in a){var it=a[X];if(a.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=it;default:l.hasOwnProperty(X)||ye(t,n,X,null,l,it)}}for(var Y in l){var X=l[Y];if(it=a[Y],l.hasOwnProperty(Y)&&(X!=null||it!=null))switch(Y){case"type":d=X;break;case"name":h=X;break;case"checked":G=X;break;case"defaultChecked":tt=X;break;case"value":_=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:X!==it&&ye(t,n,Y,X,l,it)}}Ln(t,_,T,C,G,tt,d,h);return;case"select":X=_=T=Y=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(d)||ye(t,n,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&ye(t,n,h,d,l,C)}n=T,a=_,l=X,Y!=null?Zr(t,!!a,Y,!1):!!l!=!!a&&(n!=null?Zr(t,!!a,n,!0):Zr(t,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ye(t,n,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Y=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ye(t,n,_,h,l,d)}ge(t,Y,X);return;case"option":for(var Vt in a)if(Y=a[Vt],a.hasOwnProperty(Vt)&&Y!=null&&!l.hasOwnProperty(Vt))switch(Vt){case"selected":t.selected=!1;break;default:ye(t,n,Vt,null,l,Y)}for(C in l)if(Y=l[C],X=a[C],l.hasOwnProperty(C)&&Y!==X&&(Y!=null||X!=null))switch(C){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ye(t,n,C,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in a)Y=a[xt],a.hasOwnProperty(xt)&&Y!=null&&!l.hasOwnProperty(xt)&&ye(t,n,xt,null,l,Y);for(G in l)if(Y=l[G],X=a[G],l.hasOwnProperty(G)&&Y!==X&&(Y!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:ye(t,n,G,Y,l,X)}return;default:if(fl(n)){for(var ve in a)Y=a[ve],a.hasOwnProperty(ve)&&Y!==void 0&&!l.hasOwnProperty(ve)&&Rf(t,n,ve,void 0,l,Y);for(tt in l)Y=l[tt],X=a[tt],!l.hasOwnProperty(tt)||Y===X||Y===void 0&&X===void 0||Rf(t,n,tt,Y,l,X);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&ye(t,n,z,null,l,Y);for(it in l)Y=l[it],X=a[it],!l.hasOwnProperty(it)||Y===X||Y==null&&X==null||ye(t,n,it,Y,l,X)}var Cf=null,Df=null;function ku(t){return t.nodeType===9?t:t.ownerDocument}function fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Mf=null;function T1(){var t=window.event;return t&&t.type==="popstate"?t===Mf?!1:(Mf=t,!0):(Mf=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(b1)}:my;function b1(t){setTimeout(function(){throw t})}function qi(t){return t==="head"}function py(t,n){var a=n,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&Zl(_.documentElement),a&2&&Zl(_.body),a&4)for(a=_.head,Zl(a),_=a.firstChild;_;){var T=_.nextSibling,C=_.nodeName;_[Dt]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),ao(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ao(n)}function Nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nf(a),St(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function w1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Dt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=yr(t.nextSibling),t===null)break}return null}function R1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=yr(t.nextSibling),t===null))return null;return t}function Of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function C1(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function yr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Vf=null;function yy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function vy(t,n,a){switch(n=ku(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);St(t)}var or=new Map,_y=new Set;function Hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pi=ut.d;ut.d={f:D1,r:x1,D:M1,C:N1,L:O1,m:V1,X:L1,S:I1,M:U1};function D1(){var t=pi.f(),n=Vu();return t||n}function x1(t){var n=Xt(t);n!==null&&n.tag===5&&n.type==="form"?Bg(n):pi.r(t)}var Ls=typeof document>"u"?null:document;function Ey(t,n,a){var l=Ls;if(l&&typeof n=="string"&&n){var h=Pe(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),_y.has(h)||(_y.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ln(n,"link",t),Jt(n),l.head.appendChild(n)))}}function M1(t){pi.D(t),Ey("dns-prefetch",t,null)}function N1(t,n){pi.C(t,n),Ey("preconnect",t,n)}function O1(t,n,a){pi.L(t,n,a);var l=Ls;if(l&&t&&n){var h='link[rel="preload"][as="'+Pe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pe(a.imageSizes)+'"]')):h+='[href="'+Pe(t)+'"]';var d=h;switch(n){case"style":d=Us(t);break;case"script":d=Ps(t)}or.has(d)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),or.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Jl(d))||n==="script"&&l.querySelector(Wl(d))||(n=l.createElement("link"),ln(n,"link",t),Jt(n),l.head.appendChild(n)))}}function V1(t,n){pi.m(t,n);var a=Ls;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Pe(l)+'"][href="'+Pe(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ps(t)}if(!or.has(d)&&(t=E({rel:"modulepreload",href:t},n),or.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(d)))return}l=a.createElement("link"),ln(l,"link",t),Jt(l),a.head.appendChild(l)}}}function I1(t,n,a){pi.S(t,n,a);var l=Ls;if(l&&t){var h=se(l).hoistableStyles,d=Us(t);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Jl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=or.get(d))&&If(t,a);var C=_=l.createElement("link");Jt(C),ln(C,"link",t),C._p=new Promise(function(G,tt){C.onload=G,C.onerror=tt}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function L1(t,n){pi.X(t,n);var a=Ls;if(a&&t){var l=se(a).hoistableScripts,h=Ps(t),d=l.get(h);d||(d=a.querySelector(Wl(h)),d||(t=E({src:t,async:!0},n),(n=or.get(h))&&Lf(t,n),d=a.createElement("script"),Jt(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function U1(t,n){pi.M(t,n);var a=Ls;if(a&&t){var l=se(a).hoistableScripts,h=Ps(t),d=l.get(h);d||(d=a.querySelector(Wl(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=or.get(h))&&Lf(t,n),d=a.createElement("script"),Jt(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ty(t,n,a,l){var h=(h=Rt.current)?Hu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Us(a.href),a=se(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Us(a.href);var d=se(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Jl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),or.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},or.set(t,a),d||P1(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ps(a),a=se(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Us(t){return'href="'+Pe(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function Sy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function P1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",a),Jt(n),t.head.appendChild(n))}function Ps(t){return'[src="'+Pe(t)+'"]'}function Wl(t){return"script[async]"+t}function Ay(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Pe(a.href)+'"]');if(l)return n.instance=l,Jt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Jt(l),ln(l,"style",h),qu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Us(a.href);var d=t.querySelector(Jl(h));if(d)return n.state.loading|=4,n.instance=d,Jt(d),d;l=Sy(a),(h=or.get(h))&&If(l,h),d=(t.ownerDocument||t).createElement("link"),Jt(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),ln(d,"link",l),n.state.loading|=4,qu(d,a.precedence,t),n.instance=d;case"script":return d=Ps(a.src),(h=t.querySelector(Wl(d)))?(n.instance=h,Jt(h),h):(l=a,(h=or.get(d))&&(l=E({},a),Lf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Jt(h),ln(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,qu(l,a.precedence,t));return n.instance}function qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Fu=null;function by(t,n,a){if(Fu===null){var l=new Map,h=Fu=new Map;h.set(a,l)}else h=Fu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Dt]||d[rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function wy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function z1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ry(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var to=null;function B1(){}function j1(t,n,a){if(to===null)throw Error(s(475));var l=to;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Us(a.href),d=t.querySelector(Jl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Gu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Jt(d);return}d=t.ownerDocument||t,a=Sy(a),(h=or.get(h))&&If(a,h),d=d.createElement("link"),Jt(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),ln(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Gu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function k1(){if(to===null)throw Error(s(475));var t=to;return t.stylesheets&&t.count===0&&Uf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Uf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Gu(){if(this.count--,this.count===0){if(this.stylesheets)Uf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yu=null;function Uf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yu=new Map,n.forEach(H1,t),Yu=null,Gu.call(t))}function H1(t,n){if(!(n.state.loading&4)){var a=Yu.get(t);if(a)var l=a.get(null);else{a=new Map,Yu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Gu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var eo={$$typeof:st,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function q1(t,n,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Cy(t,n,a,l,h,d,_,T,C,G,tt,it){return t=new q1(t,n,a,_,T,C,G,it),n=1,d===!0&&(n|=24),d=Pn(3,null,null,n),t.current=d,d.stateNode=t,n=ph(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Eh(d),t}function Dy(t){return t?(t=ms,t):ms}function xy(t,n,a,l,h,d){h=Dy(h),l.context===null?l.context=h:l.pendingContext=h,l=Mi(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ni(t,l,n),a!==null&&(Hn(a,t,n),Nl(a,t,n))}function My(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Pf(t,n){My(t,n),(t=t.alternate)&&My(t,n)}function Ny(t){if(t.tag===13){var n=ds(t,67108864);n!==null&&Hn(n,t,67108864),Pf(t,67108864)}}var Qu=!0;function F1(t,n,a,l){var h=K.T;K.T=null;var d=ut.p;try{ut.p=2,zf(t,n,a,l)}finally{ut.p=d,K.T=h}}function G1(t,n,a,l){var h=K.T;K.T=null;var d=ut.p;try{ut.p=8,zf(t,n,a,l)}finally{ut.p=d,K.T=h}}function zf(t,n,a,l){if(Qu){var h=Bf(l);if(h===null)wf(t,n,l,Ku,a),Vy(t,l);else if(Q1(h,t,n,a,l))l.stopPropagation();else if(Vy(t,l),n&4&&-1<Y1.indexOf(t)){for(;h!==null;){var d=Xt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=On(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-Le(_);T.entanglements[1]|=C,_&=~C}Pr(d),(fe&6)===0&&(Nu=_n()+500,Kl(0))}}break;case 13:T=ds(d,2),T!==null&&Hn(T,d,2),Vu(),Pf(d,2)}if(d=Bf(l),d===null&&wf(t,n,l,Ku,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else wf(t,n,l,null,a)}}function Bf(t){return t=Wn(t),jf(t)}var Ku=null;function jf(t){if(Ku=null,t=Nt(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ku=t,null}function Oy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ol()){case da:return 2;case _i:return 8;case Qr:case fr:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var kf=!1,Fi=null,Gi=null,Yi=null,no=new Map,ro=new Map,Qi=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(t,n){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(n.pointerId)}}function io(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Xt(n),n!==null&&Ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Q1(t,n,a,l,h){switch(n){case"focusin":return Fi=io(Fi,t,n,a,l,h),!0;case"dragenter":return Gi=io(Gi,t,n,a,l,h),!0;case"mouseover":return Yi=io(Yi,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return no.set(d,io(no.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ro.set(d,io(ro.get(d)||null,t,n,a,l,h)),!0}return!1}function Iy(t){var n=Nt(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,j(t.priority,function(){if(a.tag===13){var l=kn();l=Ar(l);var h=ds(a,l);h!==null&&Hn(h,a,l),Pf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Jr=l,a.target.dispatchEvent(l),Jr=null}else return n=Xt(a),n!==null&&Ny(n),t.blockedOn=a,!1;n.shift()}return!0}function Ly(t,n,a){Xu(t)&&a.delete(n)}function K1(){kf=!1,Fi!==null&&Xu(Fi)&&(Fi=null),Gi!==null&&Xu(Gi)&&(Gi=null),Yi!==null&&Xu(Yi)&&(Yi=null),no.forEach(Ly),ro.forEach(Ly)}function $u(t,n){t.blockedOn===n&&(t.blockedOn=null,kf||(kf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,K1)))}var Zu=null;function Uy(t){Zu!==t&&(Zu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zu===t&&(Zu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(jf(l||a)===null)continue;break}var d=Xt(a);d!==null&&(t.splice(n,3),n-=3,Bh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ao(t){function n(C){return $u(C,t)}Fi!==null&&$u(Fi,t),Gi!==null&&$u(Gi,t),Yi!==null&&$u(Yi,t),no.forEach(n),ro.forEach(n);for(var a=0;a<Qi.length;a++){var l=Qi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)Iy(a),a.blockedOn===null&&Qi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[ot]||null;if(typeof d=="function")_||Uy(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ot]||null)T=_.formAction;else if(jf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Uy(a)}}}function Hf(t){this._internalRoot=t}Ju.prototype.render=Hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=kn();xy(a,l,t,n,null,null)},Ju.prototype.unmount=Hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xy(t.current,2,null,t,null,null),Vu(),n[yt]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=M();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Qi.length&&n!==0&&n<Qi[a].priority;a++);Qi.splice(a,0,t),a===0&&Iy(t)}};var Py=e.version;if(Py!=="19.1.0")throw Error(s(527,Py,"19.1.0"));ut.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var X1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{oe=Wu.inject(X1),Ft=Wu}catch{}}return lo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Wg,d=tp,_=ep,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Cy(t,1,!1,null,null,a,l,h,d,_,T,null),t[yt]=n.current,bf(t),new Hf(n)},lo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Wg,_=tp,T=ep,C=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),n=Cy(t,1,!0,n,a??null,l,h,d,_,T,C,G),n.context=Dy(null),a=n.current,l=kn(),l=Ar(l),h=Mi(l),h.callback=null,Ni(a,h,l),a=l,n.current.lanes=a,dr(n,a),Pr(n),t[yt]=n.current,bf(t),new Ju(n)},lo.version="19.1.0",lo}var Qy;function aT(){if(Qy)return Gf.exports;Qy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gf.exports=iT(),Gf.exports}var sT=aT(),oo={},Ky;function lT(){if(Ky)return oo;Ky=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.parse=f,oo.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,N){const I=new c,W=A.length;if(W<2)return I;const Z=(N==null?void 0:N.decode)||E;let Q=0;do{const ct=A.indexOf("=",Q);if(ct===-1)break;const st=A.indexOf(";",Q),gt=st===-1?W:st;if(ct>gt){Q=A.lastIndexOf(";",ct-1)+1;continue}const dt=m(A,Q,ct),q=p(A,ct,dt),O=A.slice(dt,q);if(I[O]===void 0){let w=m(A,ct+1,gt),R=p(A,gt,w);const V=Z(A.slice(w,R));I[O]=V}Q=gt+1}while(Q<W);return I}function m(A,N,I){do{const W=A.charCodeAt(N);if(W!==32&&W!==9)return N}while(++N<I);return I}function p(A,N,I){for(;N>I;){const W=A.charCodeAt(--N);if(W!==32&&W!==9)return N+1}return I}function y(A,N,I){const W=(I==null?void 0:I.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const Z=W(N);if(!e.test(Z))throw new TypeError(`argument val is invalid: ${N}`);let Q=A+"="+Z;if(!I)return Q;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);Q+="; Max-Age="+I.maxAge}if(I.domain){if(!r.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);Q+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);Q+="; Path="+I.path}if(I.expires){if(!b(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);Q+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(Q+="; HttpOnly"),I.secure&&(Q+="; Secure"),I.partitioned&&(Q+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return Q}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return oo}lT();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0=i=>{throw TypeError(i)},oT=(i,e,r)=>e.has(i)||N0("Cannot "+r),Xf=(i,e,r)=>(oT(i,e,"read from private field"),r?r.call(i):e.get(i)),uT=(i,e,r)=>e.has(i)?N0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,r),Xy="popstate";function cT(i={}){function e(s,o){let{pathname:c,search:f,hash:m}=s.location;return bo("",{pathname:c,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:ra(o)}return fT(e,r,null,i)}function zt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ke(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hT(){return Math.random().toString(36).substring(2,10)}function $y(i,e){return{usr:i.state,key:i.key,idx:e}}function bo(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:r,key:e&&e.key||s||hT()}}function ra({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function ha(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function fT(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let Z=E(),Q=Z==null?null:Z-y;y=Z,p&&p({action:m,location:W.location,delta:Q})}function A(Z,Q){m="PUSH";let ct=bo(W.location,Z,Q);y=E()+1;let st=$y(ct,y),gt=W.createHref(ct);try{f.pushState(st,"",gt)}catch(dt){if(dt instanceof DOMException&&dt.name==="DataCloneError")throw dt;o.location.assign(gt)}c&&p&&p({action:m,location:W.location,delta:1})}function N(Z,Q){m="REPLACE";let ct=bo(W.location,Z,Q);y=E();let st=$y(ct,y),gt=W.createHref(ct);f.replaceState(st,"",gt),c&&p&&p({action:m,location:W.location,delta:0})}function I(Z){return O0(Z)}let W={get action(){return m},get location(){return i(o,f)},listen(Z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Xy,b),p=Z,()=>{o.removeEventListener(Xy,b),p=null}},createHref(Z){return e(o,Z)},createURL:I,encodeLocation(Z){let Q=I(Z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:N,go(Z){return f.go(Z)}};return W}function O0(i,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),zt(r,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ra(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}var fo,Zy=class{constructor(i){if(uT(this,fo,new Map),i)for(let[e,r]of i)this.set(e,r)}get(i){if(Xf(this,fo).has(i))return Xf(this,fo).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){Xf(this,fo).set(i,e)}};fo=new WeakMap;var dT=new Set(["lazy","caseSensitive","path","id","index","children"]);function mT(i){return dT.has(i)}var gT=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function pT(i){return gT.has(i)}function yT(i){return i.index===!0}function pc(i,e,r=[],s={}){return i.map((o,c)=>{let f=[...r,String(c)],m=typeof o.id=="string"?o.id:f.join("-");if(zt(o.index!==!0||!o.children,"Cannot specify children on an index route"),zt(!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),yT(o)){let p={...o,...e(o),id:m};return s[m]=p,p}else{let p={...o,...e(o),id:m,children:void 0};return s[m]=p,o.children&&(p.children=pc(o.children,e,f,s)),p}})}function $i(i,e,r="/"){return oc(i,e,r,!1)}function oc(i,e,r,s){let o=typeof e=="string"?ha(e):e,c=cr(o.pathname||"/",r);if(c==null)return null;let f=V0(i);_T(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=MT(c);m=DT(f[p],y,s)}return m}function vT(i,e){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:e[r.id],handle:r.handle}}function V0(i,e=[],r=[],s=""){let o=(c,f,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};p.relativePath.startsWith("/")&&(zt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=kr([s,p.relativePath]),E=r.concat(p);c.children&&c.children.length>0&&(zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),V0(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:RT(y,c.index),routesMeta:E})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let p of I0(c.path))o(c,f,p)}),e}function I0(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=I0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function _T(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:CT(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var ET=/^:[\w-]+$/,TT=3,ST=2,AT=1,bT=10,wT=-2,Jy=i=>i==="*";function RT(i,e){let r=i.split("/"),s=r.length;return r.some(Jy)&&(s+=wT),e&&(s+=ST),r.filter(o=>!Jy(o)).reduce((o,c)=>o+(ET.test(c)?TT:c===""?AT:bT),s)}function CT(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function DT(i,e,r=!1){let{routesMeta:s}=i,o={},c="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),A=p.route;if(!b&&y&&r&&!s[s.length-1].route.index&&(b=yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:kr([c,b.pathname]),pathnameBase:VT(kr([c,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(c=kr([c,b.pathnameBase]))}return f}function yc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=xT(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},A)=>{if(E==="*"){let I=m[A]||"";f=c.slice(0,c.length-I.length).replace(/(.)\/+$/,"$1")}const N=m[A];return b&&!N?y[E]=void 0:y[E]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:i}}function xT(i,e=!1,r=!0){ke(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function MT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ke(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function cr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function NT(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?ha(i):i;return{pathname:r?r.startsWith("/")?r:OT(r,e):e,search:IT(s),hash:LT(o)}}function OT(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function $f(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L0(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kd(i){let e=L0(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function Hd(i,e,r,s=!1){let o;typeof i=="string"?o=ha(i):(o={...i},zt(!o.pathname||!o.pathname.includes("?"),$f("?","pathname","search",o)),zt(!o.pathname||!o.pathname.includes("#"),$f("#","pathname","hash",o)),zt(!o.search||!o.search.includes("#"),$f("#","search","hash",o)));let c=i===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=r;else{let b=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=NT(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var kr=i=>i.join("/").replace(/\/\/+/g,"/"),VT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),IT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,LT=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,vc=class{constructor(i,e,r,s=!1){this.status=i,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function wo(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var U0=["POST","PUT","PATCH","DELETE"],UT=new Set(U0),PT=["GET",...U0],zT=new Set(PT),BT=new Set([301,302,303,307,308]),jT=new Set([307,308]),Zf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},P0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kT=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),z0="remix-router-transitions",B0=Symbol("ResetLoaderData");function HT(i){const e=i.window?i.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";zt(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],o=i.mapRouteProperties||kT,c={},f=pc(i.routes,o,void 0,c),m,p=i.basename||"/",y=i.dataStrategy||QT,E={unstable_middleware:!1,...i.future},b=null,A=new Set,N=null,I=null,W=null,Z=i.hydrationData!=null,Q=$i(f,i.history.location,p),ct=!1,st=null,gt;if(Q==null&&!i.patchRoutesOnNavigation){let M=ur(404,{pathname:i.history.location.pathname}),{matches:j,route:F}=cv(f);gt=!0,Q=j,st={[F.id]:M}}else if(Q&&!i.hydrationData&&En(Q,f,i.history.location.pathname).active&&(Q=null),Q)if(Q.some(M=>M.route.lazy))gt=!1;else if(!Q.some(M=>M.route.loader))gt=!0;else{let M=i.hydrationData?i.hydrationData.loaderData:null,j=i.hydrationData?i.hydrationData.errors:null;if(j){let F=Q.findIndex(rt=>j[rt.route.id]!==void 0);gt=Q.slice(0,F+1).every(rt=>!cd(rt.route,M,j))}else gt=Q.every(F=>!cd(F.route,M,j))}else{gt=!1,Q=[];let M=En(null,f,i.history.location.pathname);M.active&&M.matches&&(ct=!0,Q=M.matches)}let dt,q={historyAction:i.history.action,location:i.history.location,matches:Q,initialized:gt,navigation:Zf,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||st,fetchers:new Map,blockers:new Map},O="POP",w=!1,R,V=!1,U=new Map,P=null,D=!1,Pt=!1,jt=new Set,K=new Map,ut=0,pt=-1,Lt=new Map,x=new Set,nt=new Map,ht=new Map,lt=new Set,At=new Map,kt,Rt=null;function Ie(){if(b=i.history.listen(({action:M,location:j,delta:F})=>{if(kt){kt(),kt=void 0;return}ke(At.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let rt=Si({currentLocation:q.location,nextLocation:j,historyAction:M});if(rt&&F!=null){let ot=new Promise(yt=>{kt=yt});i.history.go(F*-1),Kn(rt,{state:"blocked",location:j,proceed(){Kn(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),ot.then(()=>i.history.go(F))},reset(){let yt=new Map(q.blockers);yt.set(rt,uo),Se({blockers:yt})}});return}return vn(M,j)}),r){iS(e,U);let M=()=>aS(e,U);e.addEventListener("pagehide",M),P=()=>e.removeEventListener("pagehide",M)}return q.initialized||vn("POP",q.location,{initialHydration:!0}),dt}function me(){b&&b(),P&&P(),A.clear(),R&&R.abort(),q.fetchers.forEach((M,j)=>Le(j)),q.blockers.forEach((M,j)=>Kr(j))}function Gn(M){return A.add(M),()=>A.delete(M)}function Se(M,j={}){q={...q,...M};let F=[],rt=[];q.fetchers.forEach((ot,yt)=>{ot.state==="idle"&&(lt.has(yt)?F.push(yt):rt.push(yt))}),lt.forEach(ot=>{!q.fetchers.has(ot)&&!K.has(ot)&&F.push(ot)}),[...A].forEach(ot=>ot(q,{deletedFetchers:F,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),F.forEach(ot=>Le(ot)),rt.forEach(ot=>q.fetchers.delete(ot))}function cn(M,j,{flushSync:F}={}){var bt,Dt;let rt=q.actionData!=null&&q.navigation.formMethod!=null&&Fn(q.navigation.formMethod)&&q.navigation.state==="loading"&&((bt=M.state)==null?void 0:bt._isRedirect)!==!0,ot;j.actionData?Object.keys(j.actionData).length>0?ot=j.actionData:ot=null:rt?ot=q.actionData:ot=null;let yt=j.loaderData?ov(q.loaderData,j.loaderData,j.matches||[],j.errors):q.loaderData,Ct=q.blockers;Ct.size>0&&(Ct=new Map(Ct),Ct.forEach((St,Nt)=>Ct.set(Nt,uo)));let vt=w===!0||q.navigation.formMethod!=null&&Fn(q.navigation.formMethod)&&((Dt=M.state)==null?void 0:Dt._isRedirect)!==!0;m&&(f=m,m=void 0),D||O==="POP"||(O==="PUSH"?i.history.push(M,M.state):O==="REPLACE"&&i.history.replace(M,M.state));let Tt;if(O==="POP"){let St=U.get(q.location.pathname);St&&St.has(M.pathname)?Tt={currentLocation:q.location,nextLocation:M}:U.has(M.pathname)&&(Tt={currentLocation:M,nextLocation:q.location})}else if(V){let St=U.get(q.location.pathname);St?St.add(M.pathname):(St=new Set([M.pathname]),U.set(q.location.pathname,St)),Tt={currentLocation:q.location,nextLocation:M}}Se({...j,actionData:ot,loaderData:yt,historyAction:O,location:M,initialized:!0,navigation:Zf,revalidation:"idle",restoreScrollPosition:Ai(M,j.matches||q.matches),preventScrollReset:vt,blockers:Ct},{viewTransitionOpts:Tt,flushSync:F===!0}),O="POP",w=!1,V=!1,D=!1,Pt=!1,Rt==null||Rt.resolve(),Rt=null}async function vr(M,j){if(typeof M=="number"){i.history.go(M);return}let F=ud(q.location,q.matches,p,M,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:rt,submission:ot,error:yt}=Wy(!1,F,j),Ct=q.location,vt=bo(q.location,rt,j&&j.state);vt={...vt,...i.history.encodeLocation(vt)};let Tt=j&&j.replace!=null?j.replace:void 0,bt="PUSH";Tt===!0?bt="REPLACE":Tt===!1||ot!=null&&Fn(ot.formMethod)&&ot.formAction===q.location.pathname+q.location.search&&(bt="REPLACE");let Dt=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,St=(j&&j.flushSync)===!0,Nt=Si({currentLocation:Ct,nextLocation:vt,historyAction:bt});if(Nt){Kn(Nt,{state:"blocked",location:vt,proceed(){Kn(Nt,{state:"proceeding",proceed:void 0,reset:void 0,location:vt}),vr(M,j)},reset(){let Xt=new Map(q.blockers);Xt.set(Nt,uo),Se({blockers:Xt})}});return}await vn(bt,vt,{submission:ot,pendingError:yt,preventScrollReset:Dt,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:St})}function Yr(){Rt||(Rt=sS()),Ti(),Se({revalidation:"loading"});let M=Rt.promise;return q.navigation.state==="submitting"?M:q.navigation.state==="idle"?(vn(q.historyAction,q.location,{startUninterruptedRevalidation:!0}),M):(vn(O||q.historyAction,q.navigation.location,{overrideNavigation:q.navigation,enableViewTransition:V===!0}),M)}async function vn(M,j,F){R&&R.abort(),R=null,O=M,D=(F&&F.startUninterruptedRevalidation)===!0,dr(q.location,q.matches),w=(F&&F.preventScrollReset)===!0,V=(F&&F.enableViewTransition)===!0;let rt=m||f,ot=F&&F.overrideNavigation,yt=F!=null&&F.initialHydration&&q.matches&&q.matches.length>0&&!ct?q.matches:$i(rt,j,p),Ct=(F&&F.flushSync)===!0;if(yt&&q.initialized&&!Pt&&WT(q.location,j)&&!(F&&F.submission&&Fn(F.submission.formMethod))){cn(j,{matches:yt},{flushSync:Ct});return}let vt=En(yt,rt,j.pathname);if(vt.active&&vt.matches&&(yt=vt.matches),!yt){let{error:se,notFoundMatches:Jt,route:Yt}=Xr(j.pathname);cn(j,{matches:Jt,loaderData:{},errors:{[Yt.id]:se}},{flushSync:Ct});return}R=new AbortController;let Tt=zs(i.history,j,R.signal,F&&F.submission),bt=new Zy(i.unstable_getContext?await i.unstable_getContext():void 0),Dt;if(F&&F.pendingError)Dt=[qa(yt).route.id,{type:"error",error:F.pendingError}];else if(F&&F.submission&&Fn(F.submission.formMethod)){let se=await fa(Tt,j,F.submission,yt,bt,vt.active,F&&F.initialHydration===!0,{replace:F.replace,flushSync:Ct});if(se.shortCircuited)return;if(se.pendingActionResult){let[Jt,Yt]=se.pendingActionResult;if(qn(Yt)&&wo(Yt.error)&&Yt.error.status===404){R=null,cn(j,{matches:se.matches,loaderData:{},errors:{[Jt]:Yt.error}});return}}yt=se.matches||yt,Dt=se.pendingActionResult,ot=Jf(j,F.submission),Ct=!1,vt.active=!1,Tt=zs(i.history,Tt.url,Tt.signal)}let{shortCircuited:St,matches:Nt,loaderData:Xt,errors:ce}=await Ja(Tt,j,yt,bt,vt.active,ot,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,Ct,Dt);St||(R=null,cn(j,{matches:Nt||yt,...uv(Dt),loaderData:Xt,errors:ce}))}async function fa(M,j,F,rt,ot,yt,Ct,vt={}){Ti();let Tt=nS(j,F);if(Se({navigation:Tt},{flushSync:vt.flushSync===!0}),yt){let St=await Sr(rt,j.pathname,M.signal);if(St.type==="aborted")return{shortCircuited:!0};if(St.type==="error"){let Nt=qa(St.partialMatches).route.id;return{matches:St.partialMatches,pendingActionResult:[Nt,{type:"error",error:St.error}]}}else if(St.matches)rt=St.matches;else{let{notFoundMatches:Nt,error:Xt,route:ce}=Xr(j.pathname);return{matches:Nt,pendingActionResult:[ce.id,{type:"error",error:Xt}]}}}let bt,Dt=mo(rt,j);if(!Dt.route.action&&!Dt.route.lazy)bt={type:"error",error:ur(405,{method:M.method,pathname:j.pathname,routeId:Dt.route.id})};else{let St=qs(o,c,M,rt,Dt,Ct?[]:s,ot),Nt=await Yn(M,St,ot,null);if(bt=Nt[Dt.route.id],!bt){for(let Xt of rt)if(Nt[Xt.route.id]){bt=Nt[Xt.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(Fa(bt)){let St;return vt&&vt.replace!=null?St=vt.replace:St=av(bt.response.headers.get("Location"),new URL(M.url),p)===q.location.pathname+q.location.search,await fr(M,bt,!0,{submission:F,replace:St}),{shortCircuited:!0}}if(qn(bt)){let St=qa(rt,Dt.route.id);return(vt&&vt.replace)!==!0&&(O="PUSH"),{matches:rt,pendingActionResult:[St.route.id,bt,Dt.route.id]}}return{matches:rt,pendingActionResult:[Dt.route.id,bt]}}async function Ja(M,j,F,rt,ot,yt,Ct,vt,Tt,bt,Dt,St){let Nt=yt||Jf(j,Ct),Xt=Ct||vt||fv(Nt),ce=!D&&!bt;if(ot){if(ce){let Ue=_n(St);Se({navigation:Nt,...Ue!==void 0?{actionData:Ue}:{}},{flushSync:Dt})}let Ut=await Sr(F,j.pathname,M.signal);if(Ut.type==="aborted")return{shortCircuited:!0};if(Ut.type==="error"){let Ue=qa(Ut.partialMatches).route.id;return{matches:Ut.partialMatches,loaderData:{},errors:{[Ue]:Ut.error}}}else if(Ut.matches)F=Ut.matches;else{let{error:Ue,notFoundMatches:In,route:Rn}=Xr(j.pathname);return{matches:In,loaderData:{},errors:{[Rn.id]:Ue}}}}let se=m||f,{dsMatches:Jt,revalidatingFetchers:Yt}=tv(M,rt,o,c,i.history,q,F,Xt,j,bt?[]:s,bt===!0,Pt,jt,lt,nt,x,se,p,i.patchRoutesOnNavigation!=null,St);if(pt=++ut,!i.dataStrategy&&!Jt.some(Ut=>Ut.shouldLoad)&&Yt.length===0){let Ut=Er();return cn(j,{matches:F,loaderData:{},errors:St&&qn(St[1])?{[St[0]]:St[1].error}:null,...uv(St),...Ut?{fetchers:new Map(q.fetchers)}:{}},{flushSync:Dt}),{shortCircuited:!0}}if(ce){let Ut={};if(!ot){Ut.navigation=Nt;let Ue=_n(St);Ue!==void 0&&(Ut.actionData=Ue)}Yt.length>0&&(Ut.fetchers=ol(Yt)),Se(Ut,{flushSync:Dt})}Yt.forEach(Ut=>{Qn(Ut.key),Ut.controller&&K.set(Ut.key,Ut.controller)});let $n=()=>Yt.forEach(Ut=>Qn(Ut.key));R&&R.signal.addEventListener("abort",$n);let{loaderResults:He,fetcherResults:Tn}=await Ei(Jt,Yt,M,rt);if(M.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",$n),Yt.forEach(Ut=>K.delete(Ut.key));let en=tc(He);if(en)return await fr(M,en.result,!0,{replace:Tt}),{shortCircuited:!0};if(en=tc(Tn),en)return x.add(en.key),await fr(M,en.result,!0,{replace:Tt}),{shortCircuited:!0};let{loaderData:br,errors:Vn}=lv(q,F,He,St,Yt,Tn);bt&&q.errors&&(Vn={...q.errors,...Vn});let wi=Er(),fn=Tr(pt),Sn=wi||fn||Yt.length>0;return{matches:F,loaderData:br,errors:Vn,...Sn?{fetchers:new Map(q.fetchers)}:{}}}function _n(M){if(M&&!qn(M[1]))return{[M[0]]:M[1].data};if(q.actionData)return Object.keys(q.actionData).length===0?null:q.actionData}function ol(M){return M.forEach(j=>{let F=q.fetchers.get(j.key),rt=co(void 0,F?F.data:void 0);q.fetchers.set(j.key,rt)}),new Map(q.fetchers)}async function da(M,j,F,rt){Qn(M);let ot=(rt&&rt.flushSync)===!0,yt=m||f,Ct=ud(q.location,q.matches,p,F,j,rt==null?void 0:rt.relative),vt=$i(yt,Ct,p),Tt=En(vt,yt,Ct);if(Tt.active&&Tt.matches&&(vt=Tt.matches),!vt){Ft(M,j,ur(404,{pathname:Ct}),{flushSync:ot});return}let{path:bt,submission:Dt,error:St}=Wy(!0,Ct,rt);if(St){Ft(M,j,St,{flushSync:ot});return}let Nt=mo(vt,bt),Xt=new Zy(i.unstable_getContext?await i.unstable_getContext():void 0),ce=(rt&&rt.preventScrollReset)===!0;if(Dt&&Fn(Dt.formMethod)){await _i(M,j,bt,Nt,vt,Xt,Tt.active,ot,ce,Dt);return}nt.set(M,{routeId:j,path:bt}),await Qr(M,j,bt,Nt,vt,Xt,Tt.active,ot,ce,Dt)}async function _i(M,j,F,rt,ot,yt,Ct,vt,Tt,bt){Ti(),nt.delete(M);function Dt(_e){if(!_e.route.action&&!_e.route.lazy){let Zn=ur(405,{method:bt.formMethod,pathname:F,routeId:j});return Ft(M,j,Zn,{flushSync:vt}),!0}return!1}if(!Ct&&Dt(rt))return;let St=q.fetchers.get(M);oe(M,rS(bt,St),{flushSync:vt});let Nt=new AbortController,Xt=zs(i.history,F,Nt.signal,bt);if(Ct){let _e=await Sr(ot,F,Xt.signal,M);if(_e.type==="aborted")return;if(_e.type==="error"){Ft(M,j,_e.error,{flushSync:vt});return}else if(_e.matches){if(ot=_e.matches,rt=mo(ot,F),Dt(rt))return}else{Ft(M,j,ur(404,{pathname:F}),{flushSync:vt});return}}K.set(M,Nt);let ce=ut,se=qs(o,c,Xt,ot,rt,s,yt),Yt=(await Yn(Xt,se,yt,M))[rt.route.id];if(Xt.signal.aborted){K.get(M)===Nt&&K.delete(M);return}if(lt.has(M)){if(Fa(Yt)||qn(Yt)){oe(M,Xi(void 0));return}}else{if(Fa(Yt))if(K.delete(M),pt>ce){oe(M,Xi(void 0));return}else return x.add(M),oe(M,co(bt)),fr(Xt,Yt,!1,{fetcherSubmission:bt,preventScrollReset:Tt});if(qn(Yt)){Ft(M,j,Yt.error);return}}let $n=q.navigation.location||q.location,He=zs(i.history,$n,Nt.signal),Tn=m||f,en=q.navigation.state!=="idle"?$i(Tn,q.navigation.location,p):q.matches;zt(en,"Didn't find any matches after fetcher action");let br=++ut;Lt.set(M,br);let Vn=co(bt,Yt.data);q.fetchers.set(M,Vn);let{dsMatches:wi,revalidatingFetchers:fn}=tv(He,yt,o,c,i.history,q,en,bt,$n,s,!1,Pt,jt,lt,nt,x,Tn,p,i.patchRoutesOnNavigation!=null,[rt.route.id,Yt]);fn.filter(_e=>_e.key!==M).forEach(_e=>{let Zn=_e.key,$r=q.fetchers.get(Zn),nn=co(void 0,$r?$r.data:void 0);q.fetchers.set(Zn,nn),Qn(Zn),_e.controller&&K.set(Zn,_e.controller)}),Se({fetchers:new Map(q.fetchers)});let Sn=()=>fn.forEach(_e=>Qn(_e.key));Nt.signal.addEventListener("abort",Sn);let{loaderResults:Ut,fetcherResults:Ue}=await Ei(wi,fn,He,yt);if(Nt.signal.aborted)return;if(Nt.signal.removeEventListener("abort",Sn),Lt.delete(M),K.delete(M),fn.forEach(_e=>K.delete(_e.key)),q.fetchers.has(M)){let _e=Xi(Yt.data);q.fetchers.set(M,_e)}let In=tc(Ut);if(In)return fr(He,In.result,!1,{preventScrollReset:Tt});if(In=tc(Ue),In)return x.add(In.key),fr(He,In.result,!1,{preventScrollReset:Tt});let{loaderData:Rn,errors:wr}=lv(q,en,Ut,void 0,fn,Ue);Tr(br),q.navigation.state==="loading"&&br>pt?(zt(O,"Expected pending action"),R&&R.abort(),cn(q.navigation.location,{matches:en,loaderData:Rn,errors:wr,fetchers:new Map(q.fetchers)})):(Se({errors:wr,loaderData:ov(q.loaderData,Rn,en,wr),fetchers:new Map(q.fetchers)}),Pt=!1)}async function Qr(M,j,F,rt,ot,yt,Ct,vt,Tt,bt){let Dt=q.fetchers.get(M);oe(M,co(bt,Dt?Dt.data:void 0),{flushSync:vt});let St=new AbortController,Nt=zs(i.history,F,St.signal);if(Ct){let Yt=await Sr(ot,F,Nt.signal,M);if(Yt.type==="aborted")return;if(Yt.type==="error"){Ft(M,j,Yt.error,{flushSync:vt});return}else if(Yt.matches)ot=Yt.matches,rt=mo(ot,F);else{Ft(M,j,ur(404,{pathname:F}),{flushSync:vt});return}}K.set(M,St);let Xt=ut,ce=qs(o,c,Nt,ot,rt,s,yt),Jt=(await Yn(Nt,ce,yt,M))[rt.route.id];if(K.get(M)===St&&K.delete(M),!Nt.signal.aborted){if(lt.has(M)){oe(M,Xi(void 0));return}if(Fa(Jt))if(pt>Xt){oe(M,Xi(void 0));return}else{x.add(M),await fr(Nt,Jt,!1,{preventScrollReset:Tt});return}if(qn(Jt)){Ft(M,j,Jt.error);return}oe(M,Xi(Jt.data))}}async function fr(M,j,F,{submission:rt,fetcherSubmission:ot,preventScrollReset:yt,replace:Ct}={}){j.response.headers.has("X-Remix-Revalidate")&&(Pt=!0);let vt=j.response.headers.get("Location");zt(vt,"Expected a Location header on the redirect Response"),vt=av(vt,new URL(M.url),p);let Tt=bo(q.location,vt,{_isRedirect:!0});if(r){let ce=!1;if(j.response.headers.has("X-Remix-Reload-Document"))ce=!0;else if(qd.test(vt)){const se=O0(vt,!0);ce=se.origin!==e.location.origin||cr(se.pathname,p)==null}if(ce){Ct?e.location.replace(vt):e.location.assign(vt);return}}R=null;let bt=Ct===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Dt,formAction:St,formEncType:Nt}=q.navigation;!rt&&!ot&&Dt&&St&&Nt&&(rt=fv(q.navigation));let Xt=rt||ot;if(jT.has(j.response.status)&&Xt&&Fn(Xt.formMethod))await vn(bt,Tt,{submission:{...Xt,formAction:vt},preventScrollReset:yt||w,enableViewTransition:F?V:void 0});else{let ce=Jf(Tt,rt);await vn(bt,Tt,{overrideNavigation:ce,fetcherSubmission:ot,preventScrollReset:yt||w,enableViewTransition:F?V:void 0})}}async function Yn(M,j,F,rt){let ot,yt={};try{ot=await KT(y,M,j,rt,F,!1)}catch(Ct){return j.filter(vt=>vt.shouldLoad).forEach(vt=>{yt[vt.route.id]={type:"error",error:Ct}}),yt}if(M.signal.aborted)return yt;for(let[Ct,vt]of Object.entries(ot))if(tS(vt)){let Tt=vt.result;yt[Ct]={type:"redirect",response:ZT(Tt,M,Ct,j,p)}}else yt[Ct]=await $T(vt);return yt}async function Ei(M,j,F,rt){let ot=Yn(F,M,rt,null),yt=Promise.all(j.map(async Tt=>{if(Tt.matches&&Tt.match&&Tt.request&&Tt.controller){let Dt=(await Yn(Tt.request,Tt.matches,rt,Tt.key))[Tt.match.route.id];return{[Tt.key]:Dt}}else return Promise.resolve({[Tt.key]:{type:"error",error:ur(404,{pathname:Tt.path})}})})),Ct=await ot,vt=(await yt).reduce((Tt,bt)=>Object.assign(Tt,bt),{});return{loaderResults:Ct,fetcherResults:vt}}function Ti(){Pt=!0,nt.forEach((M,j)=>{K.has(j)&&jt.add(j),Qn(j)})}function oe(M,j,F={}){q.fetchers.set(M,j),Se({fetchers:new Map(q.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Ft(M,j,F,rt={}){let ot=qa(q.matches,j);Le(M),Se({errors:{[ot.route.id]:F},fetchers:new Map(q.fetchers)},{flushSync:(rt&&rt.flushSync)===!0})}function hn(M){return ht.set(M,(ht.get(M)||0)+1),lt.has(M)&&lt.delete(M),q.fetchers.get(M)||P0}function Le(M){let j=q.fetchers.get(M);K.has(M)&&!(j&&j.state==="loading"&&Lt.has(M))&&Qn(M),nt.delete(M),Lt.delete(M),x.delete(M),lt.delete(M),jt.delete(M),q.fetchers.delete(M)}function Wa(M){let j=(ht.get(M)||0)-1;j<=0?(ht.delete(M),lt.add(M)):ht.set(M,j),Se({fetchers:new Map(q.fetchers)})}function Qn(M){let j=K.get(M);j&&(j.abort(),K.delete(M))}function _r(M){for(let j of M){let F=hn(j),rt=Xi(F.data);q.fetchers.set(j,rt)}}function Er(){let M=[],j=!1;for(let F of x){let rt=q.fetchers.get(F);zt(rt,`Expected fetcher: ${F}`),rt.state==="loading"&&(x.delete(F),M.push(F),j=!0)}return _r(M),j}function Tr(M){let j=[];for(let[F,rt]of Lt)if(rt<M){let ot=q.fetchers.get(F);zt(ot,`Expected fetcher: ${F}`),ot.state==="loading"&&(Qn(F),Lt.delete(F),j.push(F))}return _r(j),j.length>0}function On(M,j){let F=q.blockers.get(M)||uo;return At.get(M)!==j&&At.set(M,j),F}function Kr(M){q.blockers.delete(M),At.delete(M)}function Kn(M,j){let F=q.blockers.get(M)||uo;zt(F.state==="unblocked"&&j.state==="blocked"||F.state==="blocked"&&j.state==="blocked"||F.state==="blocked"&&j.state==="proceeding"||F.state==="blocked"&&j.state==="unblocked"||F.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${F.state} -> ${j.state}`);let rt=new Map(q.blockers);rt.set(M,j),Se({blockers:rt})}function Si({currentLocation:M,nextLocation:j,historyAction:F}){if(At.size===0)return;At.size>1&&ke(!1,"A router only supports one blocker at a time");let rt=Array.from(At.entries()),[ot,yt]=rt[rt.length-1],Ct=q.blockers.get(ot);if(!(Ct&&Ct.state==="proceeding")&&yt({currentLocation:M,nextLocation:j,historyAction:F}))return ot}function Xr(M){let j=ur(404,{pathname:M}),F=m||f,{matches:rt,route:ot}=cv(F);return{notFoundMatches:rt,route:ot,error:j}}function ma(M,j,F){if(N=M,W=j,I=F||null,!Z&&q.navigation===Zf){Z=!0;let rt=Ai(q.location,q.matches);rt!=null&&Se({restoreScrollPosition:rt})}return()=>{N=null,W=null,I=null}}function Xn(M,j){return I&&I(M,j.map(rt=>vT(rt,q.loaderData)))||M.key}function dr(M,j){if(N&&W){let F=Xn(M,j);N[F]=W()}}function Ai(M,j){if(N){let F=Xn(M,j),rt=N[F];if(typeof rt=="number")return rt}return null}function En(M,j,F){if(i.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:oc(j,F,p,!0)}}else return{active:!0,matches:oc(j,F,p,!0)||[]};return{active:!1,matches:null}}async function Sr(M,j,F,rt){if(!i.patchRoutesOnNavigation)return{type:"success",matches:M};let ot=M;for(;;){let yt=m==null,Ct=m||f,vt=c;try{await i.patchRoutesOnNavigation({signal:F,path:j,matches:ot,fetcherKey:rt,patch:(Dt,St)=>{F.aborted||ev(Dt,St,Ct,vt,o)}})}catch(Dt){return{type:"error",error:Dt,partialMatches:ot}}finally{yt&&!F.aborted&&(f=[...f])}if(F.aborted)return{type:"aborted"};let Tt=$i(Ct,j,p);if(Tt)return{type:"success",matches:Tt};let bt=oc(Ct,j,p,!0);if(!bt||ot.length===bt.length&&ot.every((Dt,St)=>Dt.route.id===bt[St].route.id))return{type:"success",matches:null};ot=bt}}function Ar(M){c={},m=pc(M,o,void 0,c)}function bi(M,j){let F=m==null;ev(M,j,m||f,c,o),F&&(f=[...f],Se({}))}return dt={get basename(){return p},get future(){return E},get state(){return q},get routes(){return f},get window(){return e},initialize:Ie,subscribe:Gn,enableScrollRestoration:ma,navigate:vr,fetch:da,revalidate:Yr,createHref:M=>i.history.createHref(M),encodeLocation:M=>i.history.encodeLocation(M),getFetcher:hn,deleteFetcher:Wa,dispose:me,getBlocker:On,deleteBlocker:Kr,patchRoutes:bi,_internalFetchControllers:K,_internalSetRoutes:Ar},dt}function qT(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function ud(i,e,r,s,o,c){let f,m;if(o){f=[];for(let y of e)if(f.push(y),y.route.id===o){m=y;break}}else f=e,m=e[e.length-1];let p=Hd(s||".",kd(f),cr(i.pathname,r)||i.pathname,c==="path");if(s==null&&(p.search=i.search,p.hash=i.hash),(s==null||s===""||s===".")&&m){let y=Fd(p.search);if(m.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let E=new URLSearchParams(p.search),b=E.getAll("index");E.delete("index"),b.filter(N=>N).forEach(N=>E.append("index",N));let A=E.toString();p.search=A?`?${A}`:""}}return r!=="/"&&(p.pathname=p.pathname==="/"?r:kr([r,p.pathname])),ra(p)}function Wy(i,e,r){if(!r||!qT(r))return{path:e};if(r.formMethod&&!eS(r.formMethod))return{path:e,error:ur(405,{method:r.formMethod})};let s=()=>({path:e,error:ur(400,{type:"invalid-body"})}),c=(r.formMethod||"get").toUpperCase(),f=G0(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Fn(c))return s();let b=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((A,[N,I])=>`${A}${N}=${I}
`,""):String(r.body);return{path:e,submission:{formMethod:c,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:b}}}else if(r.formEncType==="application/json"){if(!Fn(c))return s();try{let b=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:c,formAction:f,formEncType:r.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}zt(typeof FormData=="function","FormData is not available in this environment");let m,p;if(r.formData)m=fd(r.formData),p=r.formData;else if(r.body instanceof FormData)m=fd(r.body),p=r.body;else if(r.body instanceof URLSearchParams)m=r.body,p=sv(m);else if(r.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(r.body),p=sv(m)}catch{return s()}let y={formMethod:c,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Fn(y.formMethod))return{path:e,submission:y};let E=ha(e);return i&&E.search&&Fd(E.search)&&m.append("index",""),E.search=`?${m}`,{path:ra(E),submission:y}}function tv(i,e,r,s,o,c,f,m,p,y,E,b,A,N,I,W,Z,Q,ct,st){var D;let gt=st?qn(st[1])?st[1].error:st[1].data:void 0,dt=o.createURL(c.location),q=o.createURL(p),O;if(E&&c.errors){let Pt=Object.keys(c.errors)[0];O=f.findIndex(jt=>jt.route.id===Pt)}else if(st&&qn(st[1])){let Pt=st[0];O=f.findIndex(jt=>jt.route.id===Pt)-1}let w=st?st[1].statusCode:void 0,R=w&&w>=400,V={currentUrl:dt,currentParams:((D=c.matches[0])==null?void 0:D.params)||{},nextUrl:q,nextParams:f[0].params,...m,actionResult:gt,actionStatus:w},U=f.map((Pt,jt)=>{let{route:K}=Pt,ut=null;if(O!=null&&jt>O?ut=!1:K.lazy?ut=!0:K.loader==null?ut=!1:E?ut=cd(K,c.loaderData,c.errors):FT(c.loaderData,c.matches[jt],Pt)&&(ut=!0),ut!==null)return hd(r,s,i,Pt,y,e,ut);let pt=R?!1:b||dt.pathname+dt.search===q.pathname+q.search||dt.search!==q.search||GT(c.matches[jt],Pt),Lt={...V,defaultShouldRevalidate:pt},x=_c(Pt,Lt);return hd(r,s,i,Pt,y,e,x,Lt)}),P=[];return I.forEach((Pt,jt)=>{if(E||!f.some(lt=>lt.route.id===Pt.routeId)||N.has(jt))return;let K=c.fetchers.get(jt),ut=K&&K.state!=="idle"&&K.data===void 0,pt=$i(Z,Pt.path,Q);if(!pt){if(ct&&ut)return;P.push({key:jt,routeId:Pt.routeId,path:Pt.path,matches:null,match:null,request:null,controller:null});return}if(W.has(jt))return;let Lt=mo(pt,Pt.path),x=new AbortController,nt=zs(o,Pt.path,x.signal),ht=null;if(A.has(jt))A.delete(jt),ht=qs(r,s,nt,pt,Lt,y,e);else if(ut)b&&(ht=qs(r,s,nt,pt,Lt,y,e));else{let lt={...V,defaultShouldRevalidate:R?!1:b};_c(Lt,lt)&&(ht=qs(r,s,nt,pt,Lt,y,e,lt))}ht&&P.push({key:jt,routeId:Pt.routeId,path:Pt.path,matches:ht,match:Lt,request:nt,controller:x})}),{dsMatches:U,revalidatingFetchers:P}}function cd(i,e,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&i.id in e,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function FT(i,e,r){let s=!e||r.route.id!==e.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function GT(i,e){let r=i.route.path;return i.pathname!==e.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==e.params["*"]}function _c(i,e){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function ev(i,e,r,s,o){let c;if(i){let p=s[i];zt(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),c=p.children}else c=r;let f=e.filter(p=>!c.some(y=>j0(p,y))),m=pc(f,o,[i||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...m)}function j0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=e.children)==null?void 0:o.some(c=>j0(r,c))}):!1}var nv=new WeakMap,k0=({key:i,route:e,manifest:r,mapRouteProperties:s})=>{let o=r[e.id];if(zt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let c=o.lazy[i];if(!c)return;let f=nv.get(o);f||(f={},nv.set(o,f));let m=f[i];if(m)return m;let p=(async()=>{let y=mT(i),b=o[i]!==void 0&&i!=="hasErrorBoundary";if(y)ke(!y,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(b)ke(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let A=await c();A!=null&&(Object.assign(o,{[i]:A}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(A=>A===void 0)&&(o.lazy=void 0))})();return f[i]=p,p},rv=new WeakMap;function YT(i,e,r,s,o){let c=r[i.id];if(zt(c,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=rv.get(c);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let b=(async()=>{zt(typeof i.lazy=="function","No lazy route function found");let A=await i.lazy(),N={};for(let I in A){let W=A[I];if(W===void 0)continue;let Z=pT(I),ct=c[I]!==void 0&&I!=="hasErrorBoundary";Z?ke(!Z,"Route property "+I+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ct?ke(!ct,`Route "${c.id}" has a static property "${I}" defined but its lazy function is also returning a value for this property. The lazy route property "${I}" will be ignored.`):N[I]=W}Object.assign(c,N),Object.assign(c,{...s(c),lazy:void 0})})();return rv.set(c,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let f=Object.keys(i.lazy),m=[],p;for(let E of f){if(o&&o.includes(E))continue;let b=k0({key:E,route:i,manifest:r,mapRouteProperties:s});b&&(m.push(b),E===e&&(p=b))}let y=m.length>0?Promise.all(m).then(()=>{}):void 0;return y==null||y.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:p}}async function iv(i){let e=i.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,c)=>{r[e[c].route.id]=o}),r}async function QT(i){return i.matches.some(e=>e.route.unstable_middleware)?H0(i,!1,()=>iv(i),(e,r)=>({[r]:{type:"error",result:e}})):iv(i)}async function H0(i,e,r,s){let{matches:o,request:c,params:f,context:m}=i,p={handlerResult:void 0};try{let y=o.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(A=>[b.route.id,A]):[]),E=await q0({request:c,params:f,context:m},y,e,p,r);return e?E:p.handlerResult}catch(y){if(!p.middlewareError)throw y;let E=await s(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,E):E}}async function q0(i,e,r,s,o,c=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[c];if(!m)return s.handlerResult=await o(),s.handlerResult;let[p,y]=m,E=!1,b,A=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await q0(i,e,r,s,o,c+1)};try{let N=await y({request:i.request,params:i.params,context:i.context},A);return E?N===void 0?b:N:A()}catch(N){throw s.middlewareError?s.middlewareError.error!==N&&(s.middlewareError={routeId:p,error:N}):s.middlewareError={routeId:p,error:N},N}}function F0(i,e,r,s,o){let c=k0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:i}),f=YT(s.route,Fn(r.method)?"action":"loader",e,i,o);return{middleware:c,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function hd(i,e,r,s,o,c,f,m=null){let p=!1,y=F0(i,e,r,s,o);return{...s,_lazyPromises:y,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return p=!0,m?typeof E=="boolean"?_c(s,{...m,defaultShouldRevalidate:E}):_c(s,m):f},resolve(E){return p||f||E&&r.method==="GET"&&(s.route.lazy||s.route.loader)?XT({request:r,match:s,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:E,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function qs(i,e,r,s,o,c,f,m=null){return s.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:F0(i,e,r,p,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:hd(i,e,r,p,c,f,!0,m))}async function KT(i,e,r,s,o,c){r.some(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(r.map(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware}));let f={request:e,params:r[0].params,context:o,matches:r},p=await i({...f,fetcherKey:s,unstable_runClientMiddleware:y=>{let E=f;return H0(E,!1,()=>y({...E,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,A)=>({[A]:{type:"error",result:b}}))}});try{await Promise.all(r.flatMap(y=>{var E,b;return[(E=y._lazyPromises)==null?void 0:E.handler,(b=y._lazyPromises)==null?void 0:b.route]}))}catch{}return p}async function XT({request:i,match:e,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:c}){let f,m,p=Fn(i.method),y=p?"action":"loader",E=b=>{let A,N=new Promise((Z,Q)=>A=Q);m=()=>A(),i.signal.addEventListener("abort",m);let I=Z=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${e.route.id}]`)):b({request:i,params:e.params,context:c},...Z!==void 0?[Z]:[]),W=(async()=>{try{return{type:"data",result:await(o?o(Q=>I(Q)):I())}}catch(Z){return{type:"error",result:Z}}})();return Promise.race([W,N])};try{let b=p?e.route.action:e.route.loader;if(r||s)if(b){let A,[N]=await Promise.all([E(b).catch(I=>{A=I}),r,s]);if(A!==void 0)throw A;f=N}else{await r;let A=p?e.route.action:e.route.loader;if(A)[f]=await Promise.all([E(A),s]);else if(y==="action"){let N=new URL(i.url),I=N.pathname+N.search;throw ur(405,{method:i.method,pathname:I,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)f=await E(b);else{let A=new URL(i.url),N=A.pathname+A.search;throw ur(404,{pathname:N})}}catch(b){return{type:"error",result:b}}finally{m&&i.signal.removeEventListener("abort",m)}return f}async function $T(i){var s,o,c,f,m,p;let{result:e,type:r}=i;if(Y0(e)){let y;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(E){return{type:"error",error:E}}return r==="error"?{type:"error",error:new vc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return r==="error"?hv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new vc(((c=e.init)==null?void 0:c.status)||500,void 0,e.data),statusCode:wo(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:wo(e)?e.status:void 0}:hv(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ZT(i,e,r,s,o){let c=i.headers.get("Location");if(zt(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!qd.test(c)){let f=s.slice(0,s.findIndex(m=>m.route.id===r)+1);c=ud(new URL(e.url),f,o,c),i.headers.set("Location",c)}return i}function av(i,e,r){if(qd.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),c=cr(o.pathname,r)!=null;if(o.origin===e.origin&&c)return o.pathname+o.search+o.hash}return i}function zs(i,e,r,s){let o=i.createURL(G0(e)).toString(),c={signal:r};if(s&&Fn(s.formMethod)){let{formMethod:f,formEncType:m}=s;c.method=f.toUpperCase(),m==="application/json"?(c.headers=new Headers({"Content-Type":m}),c.body=JSON.stringify(s.json)):m==="text/plain"?c.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?c.body=fd(s.formData):c.body=s.formData}return new Request(o,c)}function fd(i){let e=new URLSearchParams;for(let[r,s]of i.entries())e.append(r,typeof s=="string"?s:s.name);return e}function sv(i){let e=new FormData;for(let[r,s]of i.entries())e.append(r,s);return e}function JT(i,e,r,s=!1,o=!1){let c={},f=null,m,p=!1,y={},E=r&&qn(r[1])?r[1].error:void 0;return i.forEach(b=>{if(!(b.route.id in e))return;let A=b.route.id,N=e[A];if(zt(!Fa(N),"Cannot handle redirect results in processLoaderData"),qn(N)){let I=N.error;if(E!==void 0&&(I=E,E=void 0),f=f||{},o)f[A]=I;else{let W=qa(i,A);f[W.route.id]==null&&(f[W.route.id]=I)}s||(c[A]=B0),p||(p=!0,m=wo(N.error)?N.error.status:500),N.headers&&(y[A]=N.headers)}else c[A]=N.data,N.statusCode&&N.statusCode!==200&&!p&&(m=N.statusCode),N.headers&&(y[A]=N.headers)}),E!==void 0&&r&&(f={[r[0]]:E},r[2]&&(c[r[2]]=void 0)),{loaderData:c,errors:f,statusCode:m||200,loaderHeaders:y}}function lv(i,e,r,s,o,c){let{loaderData:f,errors:m}=JT(e,r,s);return o.filter(p=>!p.matches||p.matches.some(y=>y.shouldLoad)).forEach(p=>{let{key:y,match:E,controller:b}=p,A=c[y];if(zt(A,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(qn(A)){let N=qa(i.matches,E==null?void 0:E.route.id);m&&m[N.route.id]||(m={...m,[N.route.id]:A.error}),i.fetchers.delete(y)}else if(Fa(A))zt(!1,"Unhandled fetcher revalidation redirect");else{let N=Xi(A.data);i.fetchers.set(y,N)}}),{loaderData:f,errors:m}}function ov(i,e,r,s){let o=Object.entries(e).filter(([,c])=>c!==B0).reduce((c,[f,m])=>(c[f]=m,c),{});for(let c of r){let f=c.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&c.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function uv(i){return i?qn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function qa(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function cv(i){let e=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(i,{pathname:e,routeId:r,method:s,type:o,message:c}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&r?m=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${r}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&r?m=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(m=`Invalid request method "${s.toUpperCase()}"`)),new vc(i||500,f,new Error(m),!0)}function tc(i){let e=Object.entries(i);for(let r=e.length-1;r>=0;r--){let[s,o]=e[r];if(Fa(o))return{key:s,result:o}}}function G0(i){let e=typeof i=="string"?ha(i):i;return ra({...e,hash:""})}function WT(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function tS(i){return Y0(i.result)&&BT.has(i.result.status)}function qn(i){return i.type==="error"}function Fa(i){return(i&&i.type)==="redirect"}function hv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function Y0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function eS(i){return zT.has(i.toUpperCase())}function Fn(i){return UT.has(i.toUpperCase())}function Fd(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function mo(i,e){let r=typeof e=="string"?ha(e).search:e.search;if(i[i.length-1].route.index&&Fd(r||""))return i[i.length-1];let s=L0(i);return s[s.length-1]}function fv(i){let{formMethod:e,formAction:r,formEncType:s,text:o,formData:c,json:f}=i;if(!(!e||!r||!s)){if(o!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(c!=null)return{formMethod:e,formAction:r,formEncType:s,formData:c,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function Jf(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nS(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function co(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rS(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Xi(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function iS(i,e){try{let r=i.sessionStorage.getItem(z0);if(r){let s=JSON.parse(r);for(let[o,c]of Object.entries(s||{}))c&&Array.isArray(c)&&e.set(o,new Set(c||[]))}}catch{}}function aS(i,e){if(e.size>0){let r={};for(let[s,o]of e)r[s]=[...o];try{i.sessionStorage.setItem(z0,JSON.stringify(r))}catch(s){ke(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function sS(){let i,e,r=new Promise((s,o)=>{i=async c=>{s(c);try{await r}catch{}},e=async c=>{o(c);try{await r}catch{}}});return{promise:r,resolve:i,reject:e}}var Xa=$.createContext(null);Xa.displayName="DataRouter";var el=$.createContext(null);el.displayName="DataRouterState";var Gd=$.createContext({isTransitioning:!1});Gd.displayName="ViewTransition";var Yd=$.createContext(new Map);Yd.displayName="Fetchers";var lS=$.createContext(null);lS.displayName="Await";var Gr=$.createContext(null);Gr.displayName="Navigation";var Oc=$.createContext(null);Oc.displayName="Location";var hr=$.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Qd=$.createContext(null);Qd.displayName="RouteError";function oS(i,{relative:e}={}){zt(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=$.useContext(Gr),{hash:o,pathname:c,search:f}=Io(i,{relative:e}),m=c;return r!=="/"&&(m=c==="/"?r:kr([r,c])),s.createHref({pathname:m,search:f,hash:o})}function Oo(){return $.useContext(Oc)!=null}function $a(){return zt(Oo(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Oc).location}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K0(i){$.useContext(Gr).static||$.useLayoutEffect(i)}function Vo(){let{isDataRoute:i}=$.useContext(hr);return i?AS():uS()}function uS(){zt(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(Xa),{basename:e,navigator:r}=$.useContext(Gr),{matches:s}=$.useContext(hr),{pathname:o}=$a(),c=JSON.stringify(kd(s)),f=$.useRef(!1);return K0(()=>{f.current=!0}),$.useCallback((p,y={})=>{if(ke(f.current,Q0),!f.current)return;if(typeof p=="number"){r.go(p);return}let E=Hd(p,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:kr([e,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[e,r,c,o,i])}var cS=$.createContext(null);function hS(i){let e=$.useContext(hr).outlet;return e&&$.createElement(cS.Provider,{value:i},e)}function X0(){let{matches:i}=$.useContext(hr),e=i[i.length-1];return e?e.params:{}}function Io(i,{relative:e}={}){let{matches:r}=$.useContext(hr),{pathname:s}=$a(),o=JSON.stringify(kd(r));return $.useMemo(()=>Hd(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function fS(i,e,r,s){zt(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(Gr),{matches:c}=$.useContext(hr),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let Q=E&&E.path||"";$0(p,!E||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let b=$a(),A;A=b;let N=A.pathname||"/",I=N;if(y!=="/"){let Q=y.replace(/^\//,"").split("/");I="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let W=$i(i,{pathname:I});return ke(E||W!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ke(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),yS(W&&W.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:kr([y,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?y:kr([y,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,r,s)}function dS(){let i=SS(),e=wo(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:c},"ErrorBoundary")," or"," ",$.createElement("code",{style:c},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:o},r):null,f)}var mS=$.createElement(dS,null),gS=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(hr.Provider,{value:this.props.routeContext},$.createElement(Qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pS({routeContext:i,match:e,children:r}){let s=$.useContext(Xa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(hr.Provider,{value:i},r)}function yS(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,c=r==null?void 0:r.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(r)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=r,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,A=!1,N=null,I=null;r&&(b=c&&y.route.id?c[y.route.id]:void 0,N=y.route.errorElement||mS,f&&(m<0&&E===0?($0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,I=null):m===E&&(A=!0,I=y.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,E+1)),Z=()=>{let Q;return b?Q=N:A?Q=I:y.route.Component?Q=$.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,$.createElement(pS,{match:y,routeContext:{outlet:p,matches:W,isDataRoute:r!=null},children:Q})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?$.createElement(gS,{location:r.location,revalidation:r.revalidation,component:N,error:b,children:Z(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):Z()},null)}function Kd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vS(i){let e=$.useContext(Xa);return zt(e,Kd(i)),e}function _S(i){let e=$.useContext(el);return zt(e,Kd(i)),e}function ES(i){let e=$.useContext(hr);return zt(e,Kd(i)),e}function Xd(i){let e=ES(i),r=e.matches[e.matches.length-1];return zt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function TS(){return Xd("useRouteId")}function SS(){var s;let i=$.useContext(Qd),e=_S("useRouteError"),r=Xd("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function AS(){let{router:i}=vS("useNavigate"),e=Xd("useNavigate"),r=$.useRef(!1);return K0(()=>{r.current=!0}),$.useCallback(async(o,c={})=>{ke(r.current,Q0),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var dv={};function $0(i,e,r){!e&&!dv[i]&&(dv[i]=!0,ke(!1,r))}var mv={};function gv(i,e){!i&&!mv[e]&&(mv[e]=!0,console.warn(e))}function bS(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&ke(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&ke(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&ke(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var wS=["HydrateFallback","hydrateFallbackElement"],RS=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function CS({router:i,flushSync:e}){let[r,s]=$.useState(i.state),[o,c]=$.useState(),[f,m]=$.useState({isTransitioning:!1}),[p,y]=$.useState(),[E,b]=$.useState(),[A,N]=$.useState(),I=$.useRef(new Map),W=$.useCallback((st,{deletedFetchers:gt,flushSync:dt,viewTransitionOpts:q})=>{st.fetchers.forEach((w,R)=>{w.data!==void 0&&I.current.set(R,w.data)}),gt.forEach(w=>I.current.delete(w)),gv(dt===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(gv(q==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!q||!O){e&&dt?e(()=>s(st)):$.startTransition(()=>s(st));return}if(e&&dt){e(()=>{E&&(p&&p.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let w=i.window.document.startViewTransition(()=>{e(()=>s(st))});w.finished.finally(()=>{e(()=>{y(void 0),b(void 0),c(void 0),m({isTransitioning:!1})})}),e(()=>b(w));return}E?(p&&p.resolve(),E.skipTransition(),N({state:st,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(c(st),m({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[i.window,e,E,p]);$.useLayoutEffect(()=>i.subscribe(W),[i,W]),$.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new RS)},[f]),$.useEffect(()=>{if(p&&o&&i.window){let st=o,gt=p.promise,dt=i.window.document.startViewTransition(async()=>{$.startTransition(()=>s(st)),await gt});dt.finished.finally(()=>{y(void 0),b(void 0),c(void 0),m({isTransitioning:!1})}),b(dt)}},[o,p,i.window]),$.useEffect(()=>{p&&o&&r.location.key===o.location.key&&p.resolve()},[p,E,r.location,o]),$.useEffect(()=>{!f.isTransitioning&&A&&(c(A.state),m({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),N(void 0))},[f.isTransitioning,A]);let Z=$.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:st=>i.navigate(st),push:(st,gt,dt)=>i.navigate(st,{state:gt,preventScrollReset:dt==null?void 0:dt.preventScrollReset}),replace:(st,gt,dt)=>i.navigate(st,{replace:!0,state:gt,preventScrollReset:dt==null?void 0:dt.preventScrollReset})}),[i]),Q=i.basename||"/",ct=$.useMemo(()=>({router:i,navigator:Z,static:!1,basename:Q}),[i,Z,Q]);return $.createElement($.Fragment,null,$.createElement(Xa.Provider,{value:ct},$.createElement(el.Provider,{value:r},$.createElement(Yd.Provider,{value:I.current},$.createElement(Gd.Provider,{value:f},$.createElement(NS,{basename:Q,location:r.location,navigationType:r.historyAction,navigator:Z},$.createElement(DS,{routes:i.routes,future:i.future,state:r})))))),null)}var DS=$.memo(xS);function xS({routes:i,future:e,state:r}){return fS(i,void 0,r,e)}function MS(i){return hS(i.context)}function ka(i){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NS({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:c=!1}){zt(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof r=="string"&&(r=ha(r));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:A="default"}=r,N=$.useMemo(()=>{let I=cr(p,f);return I==null?null:{location:{pathname:I,search:y,hash:E,state:b,key:A},navigationType:s}},[f,p,y,E,b,A,s]);return ke(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(Gr.Provider,{value:m},$.createElement(Oc.Provider,{children:e,value:N}))}function dd(i,e=[]){let r=[];return $.Children.forEach(i,(s,o)=>{if(!$.isValidElement(s))return;let c=[...e,o];if(s.type===$.Fragment){r.push.apply(r,dd(s.props.children,c));return}zt(s.type===ka,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=dd(s.props.children,c)),r.push(f)}),r}var OS=dd,uc="get",cc="application/x-www-form-urlencoded";function Vc(i){return i!=null&&typeof i.tagName=="string"}function VS(i){return Vc(i)&&i.tagName.toLowerCase()==="button"}function IS(i){return Vc(i)&&i.tagName.toLowerCase()==="form"}function LS(i){return Vc(i)&&i.tagName.toLowerCase()==="input"}function US(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function PS(i,e){return i.button===0&&(!e||e==="_self")&&!US(i)}var ec=null;function zS(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var BS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wf(i){return i!=null&&!BS.has(i)?(ke(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):i}function jS(i,e){let r,s,o,c,f;if(IS(i)){let m=i.getAttribute("action");s=m?cr(m,e):null,r=i.getAttribute("method")||uc,o=Wf(i.getAttribute("enctype"))||cc,c=new FormData(i)}else if(VS(i)||LS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?cr(p,e):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||uc,o=Wf(i.getAttribute("formenctype"))||Wf(m.getAttribute("enctype"))||cc,c=new FormData(m,i),!zS()){let{name:y,type:E,value:b}=i;if(E==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,b)}}else{if(Vc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=uc,s=null,o=cc,f=i}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:c,body:f}}function $d(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function kS(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function qS(i,e,r){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await kS(c,r);return f.links?f.links():[]}return[]}));return QS(s.flat(1).filter(HS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pv(i,e,r,s,o,c){let f=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,m=(p,y)=>{var E;return r[y].pathname!==p.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=r[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function FS(i,e,{includeHydrateFallback:r}={}){return GS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function GS(i){return[...new Set(i)]}function YS(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function QS(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(YS(o));return r.has(c)||(r.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KS=new Set([100,101,204,205]);function XS(i,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":e&&cr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Z0(){let i=$.useContext(Xa);return $d(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function $S(){let i=$.useContext(el);return $d(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zd=$.createContext(void 0);Zd.displayName="FrameworkContext";function J0(){let i=$.useContext(Zd);return $d(i,"You must render this element inside a <HydratedRouter> element"),i}function ZS(i,e){let r=$.useContext(Zd),[s,o]=$.useState(!1),[c,f]=$.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,A=$.useRef(null);$.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let W=Q=>{Q.forEach(ct=>{f(ct.isIntersecting)})},Z=new IntersectionObserver(W,{threshold:.5});return A.current&&Z.observe(A.current),()=>{Z.disconnect()}}},[i]),$.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let N=()=>{o(!0)},I=()=>{o(!1),f(!1)};return r?i!=="intent"?[c,A,{}]:[c,A,{onFocus:ho(m,N),onBlur:ho(p,I),onMouseEnter:ho(y,N),onMouseLeave:ho(E,I),onTouchStart:ho(b,N)}]:[!1,A,{}]}function ho(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function JS({page:i,...e}){let{router:r}=Z0(),s=$.useMemo(()=>$i(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?$.createElement(tA,{page:i,matches:s,...e}):null}function WS(i){let{manifest:e,routeModules:r}=J0(),[s,o]=$.useState([]);return $.useEffect(()=>{let c=!1;return qS(i,e,r).then(f=>{c||o(f)}),()=>{c=!0}},[i,e,r]),s}function tA({page:i,matches:e,...r}){let s=$a(),{manifest:o,routeModules:c}=J0(),{basename:f}=Z0(),{loaderData:m,matches:p}=$S(),y=$.useMemo(()=>pv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=$.useMemo(()=>pv(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let I=new Set,W=!1;if(e.forEach(Q=>{var st;let ct=o.routes[Q.route.id];!ct||!ct.hasLoader||(!y.some(gt=>gt.route.id===Q.route.id)&&Q.route.id in m&&((st=c[Q.route.id])!=null&&st.shouldRevalidate)||ct.hasClientLoader?W=!0:I.add(Q.route.id))}),I.size===0)return[];let Z=XS(i,f);return W&&I.size>0&&Z.searchParams.set("_routes",e.filter(Q=>I.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[Z.pathname+Z.search]},[f,m,s,o,y,e,i,c]),A=$.useMemo(()=>FS(E,o),[E,o]),N=WS(E);return $.createElement($.Fragment,null,b.map(I=>$.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...r})),A.map(I=>$.createElement("link",{key:I,rel:"modulepreload",href:I,...r})),N.map(({key:I,link:W})=>$.createElement("link",{key:I,...W})))}function eA(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var W0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W0&&(window.__reactRouterVersion="7.6.2")}catch{}function nA(i,e){return HT({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:cT({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||rA(),routes:i,mapRouteProperties:bS,hydrationRouteProperties:wS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function rA(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:iA(i.errors)}),i}function iA(i){if(!i)return null;let e=Object.entries(i),r={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")r[s]=new vc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let c=window[o.__subType];if(typeof c=="function")try{let f=new c(o.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let c=new Error(o.message);c.stack="",r[s]=c}}else r[s]=o;return r}var t_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=$.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...A},N){let{basename:I}=$.useContext(Gr),W=typeof y=="string"&&t_.test(y),Z,Q=!1;if(typeof y=="string"&&W&&(Z=y,W0))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),U=cr(V.pathname,I);V.origin===R.origin&&U!=null?y=U+V.search+V.hash:Q=!0}catch{ke(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ct=oS(y,{relative:o}),[st,gt,dt]=ZS(s,A),q=lA(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function O(R){e&&e(R),R.defaultPrevented||q(R)}let w=$.createElement("a",{...A,...dt,href:Z||ct,onClick:Q||c?e:O,ref:eA(N,gt),target:p,"data-discover":!W&&r==="render"?"true":void 0});return st&&!W?$.createElement($.Fragment,null,w,$.createElement(JS,{page:ct})):w});Br.displayName="Link";var aA=$.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:p,...y},E){let b=Io(f,{relative:y.relative}),A=$a(),N=$.useContext(el),{navigator:I,basename:W}=$.useContext(Gr),Z=N!=null&&fA(b)&&m===!0,Q=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,ct=A.pathname,st=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(ct=ct.toLowerCase(),st=st?st.toLowerCase():null,Q=Q.toLowerCase()),st&&W&&(st=cr(st,W)||st);const gt=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let dt=ct===Q||!o&&ct.startsWith(Q)&&ct.charAt(gt)==="/",q=st!=null&&(st===Q||!o&&st.startsWith(Q)&&st.charAt(Q.length)==="/"),O={isActive:dt,isPending:q,isTransitioning:Z},w=dt?e:void 0,R;typeof s=="function"?R=s(O):R=[s,dt?"active":null,q?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(O):c;return $.createElement(Br,{...y,"aria-current":w,className:R,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(O):p)});aA.displayName="NavLink";var e_=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:c,method:f=uc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...A},N)=>{let I=r_(),W=cA(m,{relative:y}),Z=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&t_.test(m),ct=st=>{if(p&&p(st),st.defaultPrevented)return;st.preventDefault();let gt=st.nativeEvent.submitter,dt=(gt==null?void 0:gt.getAttribute("formmethod"))||f;I(gt||st.currentTarget,{fetcherKey:e,method:dt,navigate:r,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return $.createElement("form",{ref:N,method:Z,action:W,onSubmit:s?p:ct,...A,"data-discover":!Q&&i==="render"?"true":void 0})});e_.displayName="Form";function n_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jd(i){let e=$.useContext(Xa);return zt(e,n_(i)),e}function sA(i){let e=$.useContext(el);return zt(e,n_(i)),e}function lA(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=Vo(),p=$a(),y=Io(i,{relative:c});return $.useCallback(E=>{if(PS(E,e)){E.preventDefault();let b=r!==void 0?r:ra(p)===ra(y);m(i,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[p,m,y,r,s,e,i,o,c,f])}var oA=0,uA=()=>`__${String(++oA)}__`;function r_(){let{router:i}=Jd("useSubmit"),{basename:e}=$.useContext(Gr),r=TS();return $.useCallback(async(s,o={})=>{let{action:c,method:f,encType:m,formData:p,body:y}=jS(s,e);if(o.navigate===!1){let E=o.fetcherKey||uA();await i.fetch(E,r,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function cA(i,{relative:e}={}){let{basename:r}=$.useContext(Gr),s=$.useContext(hr);zt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Io(i||".",{relative:e})},f=$a();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:kr([r,c.pathname])),ra(c)}function hA({key:i}={}){var Z;let{router:e}=Jd("useFetcher"),r=sA("useFetcher"),s=$.useContext(Yd),o=$.useContext(hr),c=(Z=o.matches[o.matches.length-1])==null?void 0:Z.route.id;zt(s,"useFetcher must be used inside a FetchersContext"),zt(o,"useFetcher must be used inside a RouteContext"),zt(c!=null,'useFetcher can only be used on routes that contain a unique "id"');let f=$.useId(),[m,p]=$.useState(i||f);i&&i!==m&&p(i),$.useEffect(()=>(e.getFetcher(m),()=>e.deleteFetcher(m)),[e,m]);let y=$.useCallback(async(Q,ct)=>{zt(c,"No routeId available for fetcher.load()"),await e.fetch(m,c,Q,ct)},[m,c,e]),E=r_(),b=$.useCallback(async(Q,ct)=>{await E(Q,{...ct,navigate:!1,fetcherKey:m})},[m,E]),A=$.useMemo(()=>{let Q=$.forwardRef((ct,st)=>$.createElement(e_,{...ct,navigate:!1,fetcherKey:m,ref:st}));return Q.displayName="fetcher.Form",Q},[m]),N=r.fetchers.get(m)||P0,I=s.get(m);return $.useMemo(()=>({Form:A,submit:b,load:y,...N,data:I}),[A,b,y,N,I])}function fA(i,e={}){let r=$.useContext(Gd);zt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jd("useViewTransitionState"),o=Io(i,{relative:e.relative});if(!r.isTransitioning)return!1;let c=cr(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=cr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return yc(o.pathname,f)!=null||yc(o.pathname,c)!=null}[...KS];var i_=M0();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dA(i){return $.createElement(CS,{flushSync:i_.flushSync,...i})}function mA(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"category-icon",children:B.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4h6v6H4zm10 0h6v6h-6zM4 14h6v6H4zm10 3a3 3 0 1 0 6 0a3 3 0 1 0-6 0"})})}function gA(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"cross-icon",children:B.jsxs("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",children:[B.jsx("path",{d:"M5.47 5.47a.75.75 0 0 1 1.06 0l12 12a.75.75 0 1 1-1.06 1.06l-12-12a.75.75 0 0 1 0-1.06"}),B.jsx("path",{d:"M18.53 5.47a.75.75 0 0 1 0 1.06l-12 12a.75.75 0 0 1-1.06-1.06l12-12a.75.75 0 0 1 1.06 0"})]})})}const Wd=De.memo(gA);function pA(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"basket-icon",children:B.jsx("path",{fill:"currentColor",d:"M21.947 10.941a2.8 2.8 0 0 0-.52-1.09a2.8 2.8 0 0 0-.94-.76a2.5 2.5 0 0 0-.92-.25a7.46 7.46 0 0 0-2.19-4.62a7.6 7.6 0 0 0-10.74 0a7.46 7.46 0 0 0-2.19 4.62a2.5 2.5 0 0 0-.92.25a2.7 2.7 0 0 0-.94.76a2.74 2.74 0 0 0-.52 2.3l1.57 6.43a4.65 4.65 0 0 0 4.5 3.42h7.71a4.67 4.67 0 0 0 4.51-3.44l1.56-6.41c.1-.396.11-.81.03-1.21m-13.1 6.42a.75.75 0 0 1-1.5 0v-3.94a.75.75 0 1 1 1.5 0zm3.91 0a.75.75 0 1 1-1.5 0v-3.94a.75.75 0 0 1 1.5 0zm3.91 0a.75.75 0 1 1-1.5 0v-3.94a.75.75 0 0 1 1.5 0zm-10.71-8.54a6 6 0 0 1 1.74-3.54a6.11 6.11 0 0 1 8.62 0a6 6 0 0 1 1.74 3.54z"})})}const tm=De.memo(pA);function yA(){return B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"login-icon",children:[B.jsx("path",{fill:"currentColor",d:"M8 .5A7.77 7.77 0 0 0 0 8a7.77 7.77 0 0 0 8 7.5A7.77 7.77 0 0 0 16 8A7.77 7.77 0 0 0 8 .5M5.16 13.67A2.84 2.84 0 0 1 8 11.51a2.82 2.82 0 0 1 2.84 2.16a7.24 7.24 0 0 1-5.68 0m6.84-.61a4.09 4.09 0 0 0-4-2.77a4.09 4.09 0 0 0-3.95 2.78A6.14 6.14 0 0 1 1.25 8A6.52 6.52 0 0 1 8 1.75A6.52 6.52 0 0 1 14.75 8A6.11 6.11 0 0 1 12 13.06"}),B.jsx("path",{fill:"currentColor",d:"M8.05 4.3A2.33 2.33 0 0 0 5.8 6.7a2.33 2.33 0 0 0 2.25 2.4a2.33 2.33 0 0 0 2.25-2.4a2.33 2.33 0 0 0-2.25-2.4m0 3.55a1.08 1.08 0 0 1-1-1.15a1.08 1.08 0 0 1 1-1.15a1.08 1.08 0 0 1 1 1.15a1.08 1.08 0 0 1-1 1.15"})]})}function vA(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"search-icon",children:B.jsx("path",{fill:"currentColor",d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"})})}const _A=De.memo(vA);function em(i){return`/Grocery/img/products/${i}`}const nl={Новинки:"new",Популярное:"popular","Молочные продукты":"milk-products",Сладости:"sweets","Фрукты и овощи":"fruits-and-vegetables",Напитки:"drinks","Хлеб и выпечка":"bread-and-pastries"},go={new:"Новинки",popular:"Популярное","milk-products":"Молочные продукты",sweets:"Сладости","fruits-and-vegetables":"Фрукты и овощи",drinks:"Напитки","bread-and-pastries":"Хлеб и выпечка"},yv=i=>{let e;const r=new Set,s=(y,E)=>{const b=typeof y=="function"?y(e):y;if(!Object.is(b,e)){const A=e;e=E??(typeof b!="object"||b===null)?b:Object.assign({},e,b),r.forEach(N=>N(e,A))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:y=>(r.add(y),()=>r.delete(y))},p=e=i(s,o,m);return m},EA=i=>i?yv(i):yv,TA=i=>i;function SA(i,e=TA){const r=De.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return De.useDebugValue(r),r}const vv=i=>{const e=EA(i),r=s=>SA(e,s);return Object.assign(r,e),r},nm=i=>i?vv(i):vv,AA=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},bA=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[r++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[r++],f=i[r++],m=i[r++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[r++],f=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},s_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=c>>2,b=(c&3)<<4|m>>4;let A=(m&15)<<2|y>>6,N=y&63;p||(N=64,f||(A=64)),s.push(r[E],r[b],r[A],r[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(a_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):bA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=r[i.charAt(o++)],m=o<i.length?r[i.charAt(o)]:0;++o;const y=o<i.length?r[i.charAt(o)]:64;++o;const b=o<i.length?r[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||b==null)throw new wA;const A=c<<2|m>>4;if(s.push(A),y!==64){const N=m<<4&240|y>>2;if(s.push(N),b!==64){const I=y<<6&192|b;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class wA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(i){const e=a_(i);return s_.encodeByteArray(e,!0)},Ec=function(i){return RA(i).replace(/\./g,"")},CA=function(i){try{return s_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=()=>DA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof _v>"u")return;const i=_v.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},NA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&CA(i[1]);return e&&JSON.parse(e)},rm=()=>{try{return AA()||xA()||MA()||NA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},OA=i=>{var e,r;return(r=(e=rm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},VA=i=>{const e=OA(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},l_=()=>{var i;return(i=rm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(i){return i.endsWith(".cloudworkstations.dev")}async function LA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ec(JSON.stringify(r)),Ec(JSON.stringify(f)),""].join(".")}const _o={};function PA(){const i={prod:[],emulator:[]};for(const e of Object.keys(_o))_o[e]?i.emulator.push(e):i.prod.push(e);return i}function zA(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let Ev=!1;function BA(i,e){if(typeof window>"u"||typeof document>"u"||!im(window.location.host)||_o[i]===e||_o[i]||Ev)return;_o[i]=e;function r(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=PA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Ev=!0,f()},A}function E(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=zA(s),N=r("text"),I=document.getElementById(N)||document.createElement("span"),W=r("learnmore"),Z=document.getElementById(W)||document.createElement("a"),Q=r("preprendIcon"),ct=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const st=A.element;m(st),E(Z,W);const gt=y();p(ct,Q),st.append(ct,I,Z,gt),document.body.appendChild(st)}c?(I.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kA(){var i;const e=(i=rm())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HA(){return!kA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function FA(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="FirebaseError";class rl extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=GA,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o_.prototype.create)}}class o_{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?YA(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new rl(o,m,s)}}function YA(i,e){return i.replace(QA,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const QA=/\{\$([^}]+)}/g;function Tc(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const c=i[o],f=e[o];if(Tv(c)&&Tv(f)){if(!Tc(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function Tv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(i){return i&&i._delegate?i._delegate:i}class Ro{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new IA;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZA(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$A(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(i){return i===Ha?void 0:i}function ZA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new XA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(re||(re={}));const WA={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},tb=re.INFO,eb={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},nb=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=eb[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u_{constructor(e){this.name=e,this._logLevel=tb,this._logHandler=nb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const rb=(i,e)=>e.some(r=>i instanceof r);let Sv,Av;function ib(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ab(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,md=new WeakMap,h_=new WeakMap,td=new WeakMap,am=new WeakMap;function sb(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Wi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&c_.set(r,i)}).catch(()=>{}),am.set(e,i),e}function lb(i){if(md.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});md.set(i,e)}let gd={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return md.get(i);if(e==="objectStoreNames")return i.objectStoreNames||h_.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Wi(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function ob(i){gd=i(gd)}function ub(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(ed(this),e,...r);return h_.set(s,e.sort?e.sort():[e]),Wi(s)}:ab().includes(i)?function(...e){return i.apply(ed(this),e),Wi(c_.get(this))}:function(...e){return Wi(i.apply(ed(this),e))}}function cb(i){return typeof i=="function"?ub(i):(i instanceof IDBTransaction&&lb(i),rb(i,ib())?new Proxy(i,gd):i)}function Wi(i){if(i instanceof IDBRequest)return sb(i);if(td.has(i))return td.get(i);const e=cb(i);return e!==i&&(td.set(i,e),am.set(e,i)),e}const ed=i=>am.get(i);function hb(i,e,{blocked:r,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(i,e),m=Wi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Wi(f.result),p.oldVersion,p.newVersion,Wi(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const fb=["get","getKey","getAll","getAllKeys","count"],db=["put","add","delete","clear"],nd=new Map;function bv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=db.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fb.includes(r)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),o&&p.done]))[0]};return nd.set(e,c),c}ob(i=>({...i,get:(e,r,s)=>bv(e,r)||i.get(e,r,s),has:(e,r)=>!!bv(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(gb(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function gb(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pd="@firebase/app",wv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new u_("@firebase/app"),pb="@firebase/app-compat",yb="@firebase/analytics-compat",vb="@firebase/analytics",_b="@firebase/app-check-compat",Eb="@firebase/app-check",Tb="@firebase/auth",Sb="@firebase/auth-compat",Ab="@firebase/database",bb="@firebase/data-connect",wb="@firebase/database-compat",Rb="@firebase/functions",Cb="@firebase/functions-compat",Db="@firebase/installations",xb="@firebase/installations-compat",Mb="@firebase/messaging",Nb="@firebase/messaging-compat",Ob="@firebase/performance",Vb="@firebase/performance-compat",Ib="@firebase/remote-config",Lb="@firebase/remote-config-compat",Ub="@firebase/storage",Pb="@firebase/storage-compat",zb="@firebase/firestore",Bb="@firebase/ai",jb="@firebase/firestore-compat",kb="firebase",Hb="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="[DEFAULT]",qb={[pd]:"fire-core",[pb]:"fire-core-compat",[vb]:"fire-analytics",[yb]:"fire-analytics-compat",[Eb]:"fire-app-check",[_b]:"fire-app-check-compat",[Tb]:"fire-auth",[Sb]:"fire-auth-compat",[Ab]:"fire-rtdb",[bb]:"fire-data-connect",[wb]:"fire-rtdb-compat",[Rb]:"fire-fn",[Cb]:"fire-fn-compat",[Db]:"fire-iid",[xb]:"fire-iid-compat",[Mb]:"fire-fcm",[Nb]:"fire-fcm-compat",[Ob]:"fire-perf",[Vb]:"fire-perf-compat",[Ib]:"fire-rc",[Lb]:"fire-rc-compat",[Ub]:"fire-gcs",[Pb]:"fire-gcs-compat",[zb]:"fire-fst",[jb]:"fire-fst-compat",[Bb]:"fire-vertex","fire-js":"fire-js",[kb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,Fb=new Map,vd=new Map;function Rv(i,e){try{i.container.addComponent(e)}catch(r){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Ac(i){const e=i.name;if(vd.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,i);for(const r of Sc.values())Rv(r,i);for(const r of Fb.values())Rv(r,i);return!0}function Gb(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function Yb(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new o_("app","Firebase",Qb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=Hb;function f_(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:yd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ta.create("bad-app-name",{appName:String(o)});if(r||(r=l_()),!r)throw ta.create("no-options");const c=Sc.get(o);if(c){if(Tc(r,c.options)&&Tc(s,c.config))return c;throw ta.create("duplicate-app",{appName:o})}const f=new JA(o);for(const p of vd.values())f.addComponent(p);const m=new Kb(r,s,f);return Sc.set(o,m),m}function $b(i=yd){const e=Sc.get(i);if(!e&&i===yd&&l_())return f_();if(!e)throw ta.create("no-app",{appName:i});return e}function Fs(i,e,r){var s;let o=(s=qb[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(m.join(" "));return}Ac(new Ro(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firebase-heartbeat-database",Jb=1,Co="firebase-heartbeat-store";let rd=null;function d_(){return rd||(rd=hb(Zb,Jb,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Co)}catch(r){console.warn(r)}}}}).catch(i=>{throw ta.create("idb-open",{originalErrorMessage:i.message})})),rd}async function Wb(i){try{const r=(await d_()).transaction(Co),s=await r.objectStore(Co).get(m_(i));return await r.done,s}catch(e){if(e instanceof rl)yi.warn(e.message);else{const r=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(r.message)}}}async function Cv(i,e){try{const s=(await d_()).transaction(Co,"readwrite");await s.objectStore(Co).put(e,m_(i)),await s.done}catch(r){if(r instanceof rl)yi.warn(r.message);else{const s=ta.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});yi.warn(s.message)}}}function m_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=1024,e2=30;class n2{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new i2(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Dv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>e2){const f=a2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){yi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Dv(),{heartbeatsToSend:s,unsentEntries:o}=r2(this._heartbeatsCache.heartbeats),c=Ec(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return yi.warn(r),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function r2(i,e=t2){const r=[];let s=i.slice();for(const o of i){const c=r.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),xv(r)>e){c.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),xv(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class i2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?FA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Wb(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function xv(i){return Ec(JSON.stringify({version:2,heartbeats:i})).length}function a2(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(i){Ac(new Ro("platform-logger",e=>new mb(e),"PRIVATE")),Ac(new Ro("heartbeat",e=>new n2(e),"PRIVATE")),Fs(pd,wv,i),Fs(pd,wv,"esm2017"),Fs("fire-js","")}s2("");var l2="firebase",o2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(l2,o2,"app");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,g_;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function R(){}R.prototype=w.prototype,O.D=w.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(V,U,P){for(var D=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)D[Pt-2]=arguments[Pt];return w.prototype[U].apply(V,D)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,R){R||(R=0);var V=Array(16);if(typeof w=="string")for(var U=0;16>U;++U)V[U]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(U=0;16>U;++U)V[U]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=O.g[0],R=O.g[1],U=O.g[2];var P=O.g[3],D=w+(P^R&(U^P))+V[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=P+(U^w&(R^U))+V[1]+3905402710&4294967295,P=w+(D<<12&4294967295|D>>>20),D=U+(R^P&(w^R))+V[2]+606105819&4294967295,U=P+(D<<17&4294967295|D>>>15),D=R+(w^U&(P^w))+V[3]+3250441966&4294967295,R=U+(D<<22&4294967295|D>>>10),D=w+(P^R&(U^P))+V[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=P+(U^w&(R^U))+V[5]+1200080426&4294967295,P=w+(D<<12&4294967295|D>>>20),D=U+(R^P&(w^R))+V[6]+2821735955&4294967295,U=P+(D<<17&4294967295|D>>>15),D=R+(w^U&(P^w))+V[7]+4249261313&4294967295,R=U+(D<<22&4294967295|D>>>10),D=w+(P^R&(U^P))+V[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=P+(U^w&(R^U))+V[9]+2336552879&4294967295,P=w+(D<<12&4294967295|D>>>20),D=U+(R^P&(w^R))+V[10]+4294925233&4294967295,U=P+(D<<17&4294967295|D>>>15),D=R+(w^U&(P^w))+V[11]+2304563134&4294967295,R=U+(D<<22&4294967295|D>>>10),D=w+(P^R&(U^P))+V[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=P+(U^w&(R^U))+V[13]+4254626195&4294967295,P=w+(D<<12&4294967295|D>>>20),D=U+(R^P&(w^R))+V[14]+2792965006&4294967295,U=P+(D<<17&4294967295|D>>>15),D=R+(w^U&(P^w))+V[15]+1236535329&4294967295,R=U+(D<<22&4294967295|D>>>10),D=w+(U^P&(R^U))+V[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=P+(R^U&(w^R))+V[6]+3225465664&4294967295,P=w+(D<<9&4294967295|D>>>23),D=U+(w^R&(P^w))+V[11]+643717713&4294967295,U=P+(D<<14&4294967295|D>>>18),D=R+(P^w&(U^P))+V[0]+3921069994&4294967295,R=U+(D<<20&4294967295|D>>>12),D=w+(U^P&(R^U))+V[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=P+(R^U&(w^R))+V[10]+38016083&4294967295,P=w+(D<<9&4294967295|D>>>23),D=U+(w^R&(P^w))+V[15]+3634488961&4294967295,U=P+(D<<14&4294967295|D>>>18),D=R+(P^w&(U^P))+V[4]+3889429448&4294967295,R=U+(D<<20&4294967295|D>>>12),D=w+(U^P&(R^U))+V[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=P+(R^U&(w^R))+V[14]+3275163606&4294967295,P=w+(D<<9&4294967295|D>>>23),D=U+(w^R&(P^w))+V[3]+4107603335&4294967295,U=P+(D<<14&4294967295|D>>>18),D=R+(P^w&(U^P))+V[8]+1163531501&4294967295,R=U+(D<<20&4294967295|D>>>12),D=w+(U^P&(R^U))+V[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=P+(R^U&(w^R))+V[2]+4243563512&4294967295,P=w+(D<<9&4294967295|D>>>23),D=U+(w^R&(P^w))+V[7]+1735328473&4294967295,U=P+(D<<14&4294967295|D>>>18),D=R+(P^w&(U^P))+V[12]+2368359562&4294967295,R=U+(D<<20&4294967295|D>>>12),D=w+(R^U^P)+V[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=P+(w^R^U)+V[8]+2272392833&4294967295,P=w+(D<<11&4294967295|D>>>21),D=U+(P^w^R)+V[11]+1839030562&4294967295,U=P+(D<<16&4294967295|D>>>16),D=R+(U^P^w)+V[14]+4259657740&4294967295,R=U+(D<<23&4294967295|D>>>9),D=w+(R^U^P)+V[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=P+(w^R^U)+V[4]+1272893353&4294967295,P=w+(D<<11&4294967295|D>>>21),D=U+(P^w^R)+V[7]+4139469664&4294967295,U=P+(D<<16&4294967295|D>>>16),D=R+(U^P^w)+V[10]+3200236656&4294967295,R=U+(D<<23&4294967295|D>>>9),D=w+(R^U^P)+V[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=P+(w^R^U)+V[0]+3936430074&4294967295,P=w+(D<<11&4294967295|D>>>21),D=U+(P^w^R)+V[3]+3572445317&4294967295,U=P+(D<<16&4294967295|D>>>16),D=R+(U^P^w)+V[6]+76029189&4294967295,R=U+(D<<23&4294967295|D>>>9),D=w+(R^U^P)+V[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=P+(w^R^U)+V[12]+3873151461&4294967295,P=w+(D<<11&4294967295|D>>>21),D=U+(P^w^R)+V[15]+530742520&4294967295,U=P+(D<<16&4294967295|D>>>16),D=R+(U^P^w)+V[2]+3299628645&4294967295,R=U+(D<<23&4294967295|D>>>9),D=w+(U^(R|~P))+V[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=P+(R^(w|~U))+V[7]+1126891415&4294967295,P=w+(D<<10&4294967295|D>>>22),D=U+(w^(P|~R))+V[14]+2878612391&4294967295,U=P+(D<<15&4294967295|D>>>17),D=R+(P^(U|~w))+V[5]+4237533241&4294967295,R=U+(D<<21&4294967295|D>>>11),D=w+(U^(R|~P))+V[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=P+(R^(w|~U))+V[3]+2399980690&4294967295,P=w+(D<<10&4294967295|D>>>22),D=U+(w^(P|~R))+V[10]+4293915773&4294967295,U=P+(D<<15&4294967295|D>>>17),D=R+(P^(U|~w))+V[1]+2240044497&4294967295,R=U+(D<<21&4294967295|D>>>11),D=w+(U^(R|~P))+V[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=P+(R^(w|~U))+V[15]+4264355552&4294967295,P=w+(D<<10&4294967295|D>>>22),D=U+(w^(P|~R))+V[6]+2734768916&4294967295,U=P+(D<<15&4294967295|D>>>17),D=R+(P^(U|~w))+V[13]+1309151649&4294967295,R=U+(D<<21&4294967295|D>>>11),D=w+(U^(R|~P))+V[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=P+(R^(w|~U))+V[11]+3174756917&4294967295,P=w+(D<<10&4294967295|D>>>22),D=U+(w^(P|~R))+V[2]+718787259&4294967295,U=P+(D<<15&4294967295|D>>>17),D=R+(P^(U|~w))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var R=w-this.blockSize,V=this.B,U=this.h,P=0;P<w;){if(U==0)for(;P<=R;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<w;)if(V[U++]=O.charCodeAt(P++),U==this.blockSize){o(this,V),U=0;break}}else for(;P<w;)if(V[U++]=O[P++],U==this.blockSize){o(this,V),U=0;break}}this.h=U,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var R=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=R&255,R/=256;for(this.u(O),O=Array(16),w=R=0;4>w;++w)for(var V=0;32>V;V+=8)O[R++]=this.g[w]>>>V&255;return O};function c(O,w){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=w(O)}function f(O,w){this.h=w;for(var R=[],V=!0,U=O.length-1;0<=U;U--){var P=O[U]|0;V&&P==w||(R[U]=P,V=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?c(O,function(w){return new f([w|0],0>w?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return Z(y(-O));for(var w=[],R=1,V=0;O>=R;V++)w[V]=O/R|0,R*=4294967296;return new f(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return Z(E(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),V=b,U=0;U<O.length;U+=8){var P=Math.min(8,O.length-U),D=parseInt(O.substring(U,U+P),w);8>P?(P=y(Math.pow(w,P)),V=V.j(P).add(y(D))):(V=V.j(R),V=V.add(y(D)))}return V}var b=p(0),A=p(1),N=p(16777216);i=f.prototype,i.m=function(){if(W(this))return-Z(this).m();for(var O=0,w=1,R=0;R<this.g.length;R++){var V=this.i(R);O+=(0<=V?V:4294967296+V)*w,w*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(W(this))return"-"+Z(this).toString(O);for(var w=y(Math.pow(O,6)),R=this,V="";;){var U=gt(R,w).g;R=Q(R,U.j(w));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=U,I(R))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function W(O){return O.h==-1}i.l=function(O){return O=Q(this,O),W(O)?-1:I(O)?0:1};function Z(O){for(var w=O.g.length,R=[],V=0;V<w;V++)R[V]=~O.g[V];return new f(R,~O.h).add(A)}i.abs=function(){return W(this)?Z(this):this},i.add=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],V=0,U=0;U<=w;U++){var P=V+(this.i(U)&65535)+(O.i(U)&65535),D=(P>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);V=D>>>16,P&=65535,D&=65535,R[U]=D<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Q(O,w){return O.add(Z(w))}i.j=function(O){if(I(this)||I(O))return b;if(W(this))return W(O)?Z(this).j(Z(O)):Z(Z(this).j(O));if(W(O))return Z(this.j(Z(O)));if(0>this.l(N)&&0>O.l(N))return y(this.m()*O.m());for(var w=this.g.length+O.g.length,R=[],V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<O.g.length;U++){var P=this.i(V)>>>16,D=this.i(V)&65535,Pt=O.i(U)>>>16,jt=O.i(U)&65535;R[2*V+2*U]+=D*jt,ct(R,2*V+2*U),R[2*V+2*U+1]+=P*jt,ct(R,2*V+2*U+1),R[2*V+2*U+1]+=D*Pt,ct(R,2*V+2*U+1),R[2*V+2*U+2]+=P*Pt,ct(R,2*V+2*U+2)}for(V=0;V<w;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=w;V<2*w;V++)R[V]=0;return new f(R,0)};function ct(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function st(O,w){this.g=O,this.h=w}function gt(O,w){if(I(w))throw Error("division by zero");if(I(O))return new st(b,b);if(W(O))return w=gt(Z(O),w),new st(Z(w.g),Z(w.h));if(W(w))return w=gt(O,Z(w)),new st(Z(w.g),w.h);if(30<O.g.length){if(W(O)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,V=w;0>=V.l(O);)R=dt(R),V=dt(V);var U=q(R,1),P=q(V,1);for(V=q(V,2),R=q(R,2);!I(V);){var D=P.add(V);0>=D.l(O)&&(U=U.add(R),P=D),V=q(V,1),R=q(R,1)}return w=Q(O,U.j(w)),new st(U,w)}for(U=b;0<=O.l(w);){for(R=Math.max(1,Math.floor(O.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=y(R),D=P.j(w);W(D)||0<D.l(O);)R-=V,P=y(R),D=P.j(w);I(P)&&(P=A),U=U.add(P),O=Q(O,D)}return new st(U,O)}i.A=function(O){return gt(this,O).h},i.and=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)&O.i(V);return new f(R,this.h&O.h)},i.or=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)|O.i(V);return new f(R,this.h|O.h)},i.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)^O.i(V);return new f(R,this.h^O.h)};function dt(O){for(var w=O.g.length+1,R=[],V=0;V<w;V++)R[V]=O.i(V)<<1|O.i(V-1)>>>31;return new f(R,O.h)}function q(O,w){var R=w>>5;w%=32;for(var V=O.g.length-R,U=[],P=0;P<V;P++)U[P]=0<w?O.i(P+R)>>>w|O.i(P+R+1)<<32-w:O.i(P+R);return new f(U,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,g_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ea=f}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p_,po,y_,hc,_d,v_,__,E_;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function o(u,g){if(g)t:{var v=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var k=u[S];if(!(k in v))break t;v=v[k]}u=u[u.length-1],S=v[u],g=g(S),g!=S&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,S=!1,k={next:function(){if(!S&&v<u.length){var J=v++;return{value:g(J,u[J]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,v){return u.call.apply(u.bind,arguments)}function b(u,g,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),u.apply(g,k)}}return function(){return u.apply(g,arguments)}}function A(u,g,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,A.apply(null,arguments)}function N(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function I(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,k,J){for(var ft=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)ft[Wt-2]=arguments[Wt];return g.prototype[k].apply(S,ft)}}function W(u){const g=u.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=u[S];return v}return[]}function Z(u,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const k=u.length||0,J=S.length||0;u.length=k+J;for(let ft=0;ft<J;ft++)u[k+ft]=S[ft]}else u.push(S)}}class Q{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ct(u){return/^[\s\xa0]*$/.test(u)}function st(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function gt(u){return gt[" "](u),u}gt[" "]=function(){};var dt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function q(u,g,v){for(const S in u)g.call(v,u[S],S,u)}function O(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function w(u){const g={};for(const v in u)g[v]=u[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let v,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(v in S)u[v]=S[v];for(let J=0;J<R.length;J++)v=R[J],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function U(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function P(u){m.setTimeout(()=>{throw u},0)}function D(){var u=Lt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Pt{constructor(){this.h=this.g=null}add(g,v){const S=jt.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var jt=new Q(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,pt=!1,Lt=new Pt,x=()=>{const u=m.Promise.resolve(void 0);ut=()=>{u.then(nt)}};var nt=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(v){P(v)}var g=jt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}pt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function kt(u,g){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(dt){t:{try{gt(g.nodeName);var k=!0;break t}catch{}k=!1}k||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&kt.aa.h.call(this)}}I(kt,lt);var Rt={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),me=0;function Gn(u,g,v,S,k){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=k,this.key=++me,this.da=this.fa=!1}function Se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cn(u){this.src=u,this.g={},this.h=0}cn.prototype.add=function(u,g,v,S,k){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var ft=Yr(u,g,S,k);return-1<ft?(g=u[ft],v||(g.fa=!1)):(g=new Gn(g,this.src,J,!!S,k),g.fa=v,u.push(g)),g};function vr(u,g){var v=g.type;if(v in u.g){var S=u.g[v],k=Array.prototype.indexOf.call(S,g,void 0),J;(J=0<=k)&&Array.prototype.splice.call(S,k,1),J&&(Se(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Yr(u,g,v,S){for(var k=0;k<u.length;++k){var J=u[k];if(!J.da&&J.listener==g&&J.capture==!!v&&J.ha==S)return k}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),fa={};function Ja(u,g,v,S,k){if(Array.isArray(g)){for(var J=0;J<g.length;J++)Ja(u,g[J],v,S,k);return null}return v=Ti(v),u&&u[Ie]?u.K(g,v,y(S)?!!S.capture:!1,k):_n(u,g,v,!1,S,k)}function _n(u,g,v,S,k,J){if(!g)throw Error("Invalid event type");var ft=y(k)?!!k.capture:!!k,Wt=Yn(u);if(Wt||(u[vn]=Wt=new cn(u)),v=Wt.add(g,v,S,ft,J),v.proxy)return v;if(S=ol(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)At||(k=ft),k===void 0&&(k=!1),u.addEventListener(g.toString(),S,k);else if(u.attachEvent)u.attachEvent(Qr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ol(){function u(v){return g.call(u.src,u.listener,v)}const g=fr;return u}function da(u,g,v,S,k){if(Array.isArray(g))for(var J=0;J<g.length;J++)da(u,g[J],v,S,k);else S=y(S)?!!S.capture:!!S,v=Ti(v),u&&u[Ie]?(u=u.i,g=String(g).toString(),g in u.g&&(J=u.g[g],v=Yr(J,v,S,k),-1<v&&(Se(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete u.g[g],u.h--)))):u&&(u=Yn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Yr(g,v,S,k)),(v=-1<u?g[u]:null)&&_i(v))}function _i(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ie])vr(g.i,u);else{var v=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(v,S,u.capture):g.detachEvent?g.detachEvent(Qr(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Yn(g))?(vr(v,u),v.h==0&&(v.src=null,g[vn]=null)):Se(u)}}}function Qr(u){return u in fa?fa[u]:fa[u]="on"+u}function fr(u,g){if(u.da)u=!0;else{g=new kt(g,this);var v=u.listener,S=u.ha||u.src;u.fa&&_i(u),u=v.call(S,g)}return u}function Yn(u){return u=u[vn],u instanceof cn?u:null}var Ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ti(u){return typeof u=="function"?u:(u[Ei]||(u[Ei]=function(g){return u.handleEvent(g)}),u[Ei])}function oe(){ht.call(this),this.i=new cn(this),this.M=this,this.F=null}I(oe,ht),oe.prototype[Ie]=!0,oe.prototype.removeEventListener=function(u,g,v,S){da(this,u,g,v,S)};function Ft(u,g){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new lt(g,u);else if(g instanceof lt)g.target=g.target||u;else{var k=g;g=new lt(S,u),V(g,k)}if(k=!0,v)for(var J=v.length-1;0<=J;J--){var ft=g.g=v[J];k=hn(ft,S,!0,g)&&k}if(ft=g.g=u,k=hn(ft,S,!0,g)&&k,k=hn(ft,S,!1,g)&&k,v)for(J=0;J<v.length;J++)ft=g.g=v[J],k=hn(ft,S,!1,g)&&k}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],S=0;S<v.length;S++)Se(v[S]);delete u.g[g],u.h--}}this.F=null},oe.prototype.K=function(u,g,v,S){return this.i.add(String(u),g,!1,v,S)},oe.prototype.L=function(u,g,v,S){return this.i.add(String(u),g,!0,v,S)};function hn(u,g,v,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,J=0;J<g.length;++J){var ft=g[J];if(ft&&!ft.da&&ft.capture==v){var Wt=ft.listener,qe=ft.ha||ft.src;ft.fa&&vr(u.i,ft),k=Wt.call(qe,S)!==!1&&k}}return k&&!S.defaultPrevented}function Le(u,g,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Wa(u){u.g=Le(()=>{u.g=null,u.i&&(u.i=!1,Wa(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Qn extends ht{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Wa(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){ht.call(this),this.h=u,this.g={}}I(_r,ht);var Er=[];function Tr(u){q(u.g,function(g,v){this.g.hasOwnProperty(v)&&_i(g)},u),u.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Tr(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=m.JSON.stringify,Kr=m.JSON.parse,Kn=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Si(){}Si.prototype.h=null;function Xr(u){return u.h||(u.h=u.i())}function ma(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){lt.call(this,"d")}I(dr,lt);function Ai(){lt.call(this,"c")}I(Ai,lt);var En={},Sr=null;function Ar(){return Sr=Sr||new oe}En.La="serverreachability";function bi(u){lt.call(this,En.La,u)}I(bi,lt);function M(u){const g=Ar();Ft(g,new bi(g))}En.STAT_EVENT="statevent";function j(u,g){lt.call(this,En.STAT_EVENT,u),this.stat=g}I(j,lt);function F(u){const g=Ar();Ft(g,new j(g,u))}En.Ma="timingevent";function rt(u,g){lt.call(this,En.Ma,u),this.size=g}I(rt,lt);function ot(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function yt(){this.g=!0}yt.prototype.xa=function(){this.g=!1};function Ct(u,g,v,S,k,J){u.info(function(){if(u.g)if(J)for(var ft="",Wt=J.split("&"),qe=0;qe<Wt.length;qe++){var te=Wt[qe].split("=");if(1<te.length){var $e=te[0];te=te[1];var Fe=$e.split("_");ft=2<=Fe.length&&Fe[1]=="type"?ft+($e+"="+te+"&"):ft+($e+"=redacted&")}}else ft=null;else ft=J;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+g+`
`+v+`
`+ft})}function vt(u,g,v,S,k,J,ft){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+g+`
`+v+`
`+J+" "+ft})}function Tt(u,g,v,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Dt(u,v)+(S?" "+S:"")})}function bt(u,g){u.info(function(){return"TIMEOUT: "+g})}yt.prototype.info=function(){};function Dt(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var J=k[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ft=1;ft<k.length;ft++)k[ft]=""}}}}return On(v)}catch{return g}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xt;function ce(){}I(ce,Si),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},Xt=new ce;function se(u,g,v,S){this.j=u,this.i=g,this.l=v,this.R=S||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}var Yt={},$n={};function He(u,g,v){u.L=1,u.v=ya(Ln(g)),u.m=v,u.P=!0,Tn(u,null)}function Tn(u,g){u.F=Date.now(),Vn(u),u.A=Ln(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),dl(v.i,"t",S),u.C=0,v=u.j.J,u.h=new Jt,u.g=$o(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Qn(A(u.Y,u,u.g),u.O)),g=u.U,v=u.g,S=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Er[0]=k.toString()),k=Er);for(var J=0;J<k.length;J++){var ft=Ja(v,k[J],S||g.handleEvent,!1,g.h||g);if(!ft)break;g.g[ft.key]=ft}g=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),M(),Ct(u.i,u.u,u.A,u.l,u.R,u.m)}se.prototype.ca=function(u){u=u.target;const g=this.M;g&&er(u)==3?g.j():this.Y(u)},se.prototype.Y=function(u){try{if(u==this.g)t:{const Fe=er(this.g);var g=this.g.Ba();const ri=this.g.Z();if(!(3>Fe)&&(Fe!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||Fe!=4||g==7||(g==8||0>=ri?M(3):M(2)),fn(this);var v=this.g.Z();this.X=v;e:if(en(this)){var S=Ho(this.g);u="";var k=S.length,J=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Sn(this);var ft="";break e}this.h.i=new m.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(J&&g==k-1)});S.length=0,this.h.g+=u,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=v==200,vt(this.i,this.u,this.A,this.l,this.R,Fe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,qe=this.g;if((Wt=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Wt)){var te=Wt;break e}}te=null}if(v=te)Tt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ue(this,v);else{this.o=!1,this.s=3,F(12),Ut(this),Sn(this);break t}}if(this.P){v=!0;let rn;for(;!this.J&&this.C<ft.length;)if(rn=br(this,ft),rn==$n){Fe==4&&(this.s=4,F(14),v=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Yt){this.s=4,F(15),Tt(this.i,this.l,ft,"[Invalid Chunk]"),v=!1;break}else Tt(this.i,this.l,rn,null),Ue(this,rn);if(en(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||ft.length!=0||this.h.h||(this.s=1,F(16),v=!1),this.o=this.o&&v,!v)Tt(this.i,this.l,ft,"[Invalid Chunked Response]"),Ut(this),Sn(this);else if(0<ft.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),wa($e),$e.M=!0,F(11))}}else Tt(this.i,this.l,ft,null),Ue(this,ft);Fe==4&&Ut(this),this.o&&!this.J&&(Fe==4?Qo(this.j,this):(this.o=!1,Vn(this)))}else $c(this.g),v==400&&0<ft.indexOf("Unknown SID")?(this.s=3,F(12)):(this.s=0,F(13)),Ut(this),Sn(this)}}}catch{}finally{}};function en(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function br(u,g){var v=u.C,S=g.indexOf(`
`,v);return S==-1?$n:(v=Number(g.substring(v,S)),isNaN(v)?Yt:(S+=1,S+v>g.length?$n:(g=g.slice(S,S+v),u.C=S+v,g)))}se.prototype.cancel=function(){this.J=!0,Ut(this)};function Vn(u){u.S=Date.now()+u.I,wi(u,u.I)}function wi(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ot(A(u.ba,u),g)}function fn(u){u.B&&(m.clearTimeout(u.B),u.B=null)}se.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(bt(this.i,this.A),this.L!=2&&(M(),F(17)),Ut(this),this.s=2,Sn(this)):wi(this,this.S-u)};function Sn(u){u.j.G==0||u.J||Qo(u.j,u)}function Ut(u){fn(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Tr(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Ue(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||Zn(v.h,u))){if(!u.K&&Zn(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)os(v),ss(v);else break t;vl(v),F(18)}}else v.za=k[1],0<v.za-v.T&&37500>k[2]&&v.F&&v.v==0&&!v.C&&(v.C=ot(A(v.Za,v),6e3));if(1>=_e(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ni(v,11)}else if((u.K||v.g==u)&&os(v),!ct(g))for(k=v.Da.g.parse(g),g=0;g<k.length;g++){let te=k[g];if(v.T=te[0],te=te[1],v.G==2)if(te[0]=="c"){v.K=te[1],v.ia=te[2];const $e=te[3];$e!=null&&(v.la=$e,v.j.info("VER="+v.la));const Fe=te[4];Fe!=null&&(v.Aa=Fe,v.j.info("SVER="+v.Aa));const ri=te[5];ri!=null&&typeof ri=="number"&&0<ri&&(S=1.5*ri,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const rn=u.g;if(rn){const Or=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var J=S.h;J.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&($r(J,J.h),J.h=null))}if(S.D){const El=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(S.ya=El,ge(S.I,S.D,El))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ft=u;if(S.qa=Xo(S,S.J?S.ia:null,S.W),ft.K){nn(S.h,ft);var Wt=ft,qe=S.L;qe&&(Wt.I=qe),Wt.B&&(fn(Wt),Vn(Wt)),S.g=ft}else Go(S);0<v.i.length&&ls(v)}else te[0]!="stop"&&te[0]!="close"||ni(v,7);else v.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?ni(v,7):pl(v):te[0]!="noop"&&v.l&&v.l.ta(te),v.v=0)}}M(4)}catch{}}var In=class{constructor(u,g){this.g=u,this.map=g}};function Rn(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _e(u){return u.h?1:u.g?u.g.size:0}function Zn(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function $r(u,g){u.g?u.g.add(g):u.h=g}function nn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Rn.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ul(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return W(u.i)}function Yc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,S=0;S<v;S++)g.push(u[S]);return g}g=[],v=0;for(S in u)g[v++]=u[S];return g}function ts(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const S in u)g[v++]=S;return g}}}function cl(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=ts(u),S=Yc(u),k=S.length,J=0;J<k;J++)g.call(void 0,S[J],v&&v[J],u)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),k=null;if(0<=S){var J=u[v].substring(0,S);k=u[v].substring(S+1)}else J=u[v];g(J,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Pe){this.h=u.h,pa(this,u.j),this.o=u.o,this.g=u.g,Ri(this,u.s),this.l=u.l;var g=u.i,v=new Jr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Zr(this,v),this.m=u.m}else u&&(g=String(u).match(ga))?(this.h=!1,pa(this,g[1]||"",!0),this.o=Jn(g[2]||""),this.g=Jn(g[3]||"",!0),Ri(this,g[4]),this.l=Jn(g[5]||"",!0),Zr(this,g[6]||"",!0),this.m=Jn(g[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}Pe.prototype.toString=function(){var u=[],g=this.j;g&&u.push(va(g,hl,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(va(g,hl,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(va(v,v.charAt(0)=="/"?Kc:fl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",va(v,es)),u.join("")};function Ln(u){return new Pe(u)}function pa(u,g,v){u.j=v?Jn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ri(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Zr(u,g,v){g instanceof Jr?(u.i=g,jo(u.i,u.h)):(v||(g=va(g,Xc)),u.i=new Jr(g,u.h))}function ge(u,g,v){u.i.set(g,v)}function ya(u){return ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Jn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function va(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,Bo),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Bo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var hl=/[#\/\?@]/g,fl=/[#\?:]/g,Kc=/[#\?]/g,Xc=/[#\?@]/g,es=/#/g;function Jr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qc(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Jr.prototype,i.add=function(u,g){Wn(this),this.i=null,u=Rr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Wr(u,g){Wn(u),g=Rr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function ti(u,g){return Wn(u),g=Rr(u,g),u.g.has(g)}i.forEach=function(u,g){Wn(this),this.g.forEach(function(v,S){v.forEach(function(k){u.call(g,k,S,this)},this)},this)},i.na=function(){Wn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const k=u[S];for(let J=0;J<k.length;J++)v.push(g[S])}return v},i.V=function(u){Wn(this);let g=[];if(typeof u=="string")ti(this,u)&&(g=g.concat(this.g.get(Rr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},i.set=function(u,g){return Wn(this),this.i=null,u=Rr(this,u),ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},i.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function dl(u,g,v){Wr(u,g),0<v.length&&(u.i=null,u.g.set(Rr(u,g),W(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const J=encodeURIComponent(String(S)),ft=this.V(S);for(S=0;S<ft.length;S++){var k=J;ft[S]!==""&&(k+="="+encodeURIComponent(String(ft[S]))),u.push(k)}}return this.i=u.join("&")};function Rr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function jo(u,g){g&&!u.j&&(Wn(u),u.i=null,u.g.forEach(function(v,S){var k=S.toLowerCase();S!=k&&(Wr(this,S),dl(this,k,v))},u)),u.j=g}function _a(u,g){const v=new yt;if(m.Image){const S=new Image;S.onload=N(tr,v,"TestLoadImage: loaded",!0,g,S),S.onerror=N(tr,v,"TestLoadImage: error",!1,g,S),S.onabort=N(tr,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=N(tr,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function mr(u,g){const v=new yt,S=new AbortController,k=setTimeout(()=>{S.abort(),tr(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(J=>{clearTimeout(k),J.ok?tr(v,"TestPingServer: ok",!0,g):tr(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),tr(v,"TestPingServer: error",!1,g)})}function tr(u,g,v,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(v)}catch{}}function Ea(){this.g=new Kn}function Cr(u,g,v){const S=v||"";try{cl(u,function(k,J){let ft=k;y(k)&&(ft=On(k)),g.push(S+J+"="+encodeURIComponent(ft))})}catch(k){throw g.push(S+"type="+encodeURIComponent("_badmap")),k}}function Ci(u){this.l=u.Ub||null,this.j=u.eb||!1}I(Ci,Si),Ci.prototype.g=function(){return new ei(this.l,this.j)},Ci.prototype.i=function(u){return function(){return u}}({});function ei(u,g){oe.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ei,oe),i=ei.prototype,i.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,xr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Dr(this):xr(this),this.readyState==3&&ml(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,Dr(this))},i.Qa=function(u){this.g&&(this.response=u,Dr(this))},i.ga=function(){this.g&&Dr(this)};function Dr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xr(u)}i.setRequestHeader=function(u,g){this.u.append(u,g)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function xr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gl(u){let g="";return q(u,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Xe(u,g,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=gl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ge(u,g,v))}function he(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(he,oe);var ns=/^https?$/i,Ta=["POST","PUT"];i=he.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xt.g(),this.v=this.o?Xr(this.o):Xr(Xt),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(J){ko(this,J);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)v.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const J of S.keys())v.set(J,S.get(J));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),k=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ta,g,void 0))||S||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ft]of v)this.g.setRequestHeader(J,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){ko(this,J)}};function ko(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,rs(u),Mr(u)}function rs(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),Mr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),he.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?is(this):this.bb())},i.bb=function(){is(this)};function is(u){if(u.h&&typeof f<"u"&&(!u.v[1]||er(u)!=4||u.Z()!=2)){if(u.u&&er(u)==4)Le(u.Ea,0,u);else if(Ft(u,"readystatechange"),er(u)==4){u.h=!1;try{const ft=u.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var S;if(S=ft===0){var k=String(u.D).match(ga)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),S=!ns.test(k?k.toLowerCase():"")}v=S}if(v)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var J=2<er(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",rs(u)}}finally{Mr(u)}}}}function Mr(u,g){if(u.g){Sa(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ft(u,"ready");try{v.onreadystatechange=S}catch{}}}function Sa(u){u.I&&(m.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function er(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Kr(g)}};function Ho(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(u){const g={};u=(u.g&&2<=er(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(ct(u[S]))continue;var v=U(u[S]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=g[k]||[];g[k]=J,J.push(v)}O(g,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function as(u){this.Aa=0,this.i=[],this.j=new yt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,u),this.cb=Aa("retryDelaySeedMs",1e4,u),this.Wa=Aa("forwardChannelMaxRetries",2,u),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(u&&u.concurrentRequestLimit),this.Da=new Ea,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=as.prototype,i.la=8,i.G=1,i.connect=function(u,g,v,S){F(0),this.W=u,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Xo(this,null,this.W),ls(this)};function pl(u){if(qo(u),u.G==3){var g=u.U++,v=Ln(u.I);if(ge(v,"SID",u.K),ge(v,"RID",g),ge(v,"TYPE","terminate"),ba(u,v),g=new se(u,u.j,g),g.L=2,g.v=ya(Ln(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=$o(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Vn(g)}Ko(u)}function ss(u){u.g&&(wa(u),u.g.cancel(),u.g=null)}function qo(u){ss(u),u.u&&(m.clearTimeout(u.u),u.u=null),os(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ls(u){if(!wr(u.h)&&!u.s){u.s=!0;var g=u.Ga;ut||x(),pt||(ut(),pt=!0),Lt.add(g,u),u.B=0}}function Zc(u,g){return _e(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ot(A(u.Ga,u,g),_l(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new se(this,this.j,u);let J=this.o;if(this.S&&(J?(J=w(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(k.H=J,J=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Fo(this,k,g),v=Ln(this.I),ge(v,"RID",u),ge(v,"CVER",22),this.D&&ge(v,"X-HTTP-Session-Id",this.D),ba(this,v),J&&(this.O?g="headers="+encodeURIComponent(String(gl(J)))+"&"+g:this.m&&Xe(v,this.m,J)),$r(this.h,k),this.Ua&&ge(v,"TYPE","init"),this.P?(ge(v,"$req",g),ge(v,"SID","null"),k.T=!0,He(k,v,null)):He(k,v,g),this.G=2}}else this.G==3&&(u?yl(this,u):this.i.length==0||wr(this.h)||yl(this))};function yl(u,g){var v;g?v=g.l:v=u.U++;const S=Ln(u.I);ge(S,"SID",u.K),ge(S,"RID",v),ge(S,"AID",u.T),ba(u,S),u.m&&u.o&&Xe(S,u.m,u.o),v=new se(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Fo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$r(u.h,v),He(v,S,g)}function ba(u,g){u.H&&q(u.H,function(v,S){ge(g,S,v)}),u.l&&cl({},function(v,S){ge(g,S,v)})}function Fo(u,g,v){v=Math.min(u.i.length,v);var S=u.l?A(u.l.Na,u.l,u):null;t:{var k=u.i;let J=-1;for(;;){const ft=["count="+v];J==-1?0<v?(J=k[0].g,ft.push("ofs="+J)):J=0:ft.push("ofs="+J);let Wt=!0;for(let qe=0;qe<v;qe++){let te=k[qe].g;const $e=k[qe].map;if(te-=J,0>te)J=Math.max(0,k[qe].g-100),Wt=!1;else try{Cr($e,ft,"req"+te+"_")}catch{S&&S($e)}}if(Wt){S=ft.join("&");break t}}}return u=u.i.splice(0,v),g.D=u,S}function Go(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ut||x(),pt||(ut(),pt=!0),Lt.add(g,u),u.v=0}}function vl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ot(A(u.Fa,u),_l(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,Yo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ot(A(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,F(10),ss(this),Yo(this))};function wa(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Yo(u){u.g=new se(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Ln(u.qa);ge(g,"RID","rpc"),ge(g,"SID",u.K),ge(g,"AID",u.T),ge(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&ge(g,"TO",u.ja),ge(g,"TYPE","xmlhttp"),ba(u,g),u.m&&u.o&&Xe(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ya(Ln(g)),v.m=null,v.P=!0,Tn(v,u)}i.Za=function(){this.C!=null&&(this.C=null,ss(this),vl(this),F(19))};function os(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Qo(u,g){var v=null;if(u.g==g){os(u),wa(u),u.g=null;var S=2}else if(Zn(u.h,g))v=g.D,nn(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var k=u.B;S=Ar(),Ft(S,new rt(S,v)),ls(u)}else Go(u);else if(k=g.s,k==3||k==0&&0<g.X||!(S==1&&Zc(u,g)||S==2&&vl(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),k){case 1:ni(u,5);break;case 4:ni(u,10);break;case 3:ni(u,6);break;default:ni(u,2)}}}function _l(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function ni(u,g){if(u.j.info("Error code "+g),g==2){var v=A(u.fb,u),S=u.Xa;const k=!S;S=new Pe(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pa(S,"https"),ya(S),k?_a(S.toString(),v):mr(S.toString(),v)}else F(2);u.G=0,u.l&&u.l.sa(g),Ko(u),qo(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),F(2)):(this.j.info("Failed to ping google.com"),F(1))};function Ko(u){if(u.G=0,u.ka=[],u.l){const g=ul(u.h);(g.length!=0||u.i.length!=0)&&(Z(u.ka,g),Z(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function Xo(u,g,v){var S=v instanceof Pe?Ln(v):new Pe(v);if(S.g!="")g&&(S.g=g+"."+S.g),Ri(S,S.s);else{var k=m.location;S=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var J=new Pe(null);S&&pa(J,S),g&&(J.g=g),k&&Ri(J,k),v&&(J.l=v),S=J}return v=u.D,g=u.ya,v&&g&&ge(S,v,g),ge(S,"VER",u.la),ba(u,S),S}function $o(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new he(new Ci({eb:v})):new he(u.pa),g.Ha(u.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zo(){}i=Zo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function us(){}us.prototype.g=function(u,g){return new An(u,g)};function An(u,g){oe.call(this),this.g=new as(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!ct(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ct(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Nr(this)}I(An,oe),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){pl(this.g)},An.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=On(u),u=v);g.i.push(new In(g.Ya++,u)),g.G==3&&ls(g)},An.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,An.aa.N.call(this)};function Jo(u){dr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const v in g){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}I(Jo,dr);function Wo(){Ai.call(this),this.status=1}I(Wo,Ai);function Nr(u){this.g=u}I(Nr,Zo),Nr.prototype.ua=function(){Ft(this.g,"a")},Nr.prototype.ta=function(u){Ft(this.g,new Jo(u))},Nr.prototype.sa=function(u){Ft(this.g,new Wo)},Nr.prototype.ra=function(){Ft(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,E_=function(){return new us},__=function(){return Ar()},v_=En,_d={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,hc=St,Nt.COMPLETE="complete",y_=Nt,ma.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",oe.prototype.listen=oe.prototype.K,po=ma,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,p_=he}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",Ov="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new u_("@firebase/firestore");function Bs(){return Ka.logLevel}function _t(i,...e){if(Ka.logLevel<=re.DEBUG){const r=e.map(sm);Ka.debug(`Firestore (${il}): ${i}`,...r)}}function vi(i,...e){if(Ka.logLevel<=re.ERROR){const r=e.map(sm);Ka.error(`Firestore (${il}): ${i}`,...r)}}function Ks(i,...e){if(Ka.logLevel<=re.WARN){const r=e.map(sm);Ka.warn(`Firestore (${il}): ${i}`,...r)}}function sm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(i,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,T_(i,s,r)}function T_(i,e,r){let s=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw vi(s),new Error(s)}function we(i,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||T_(e,o,s)}function ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends rl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(pn.UNAUTHENTICATED))}shutdown(){}}class c2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class h2{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){we(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let c=new Ya;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ya,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ya)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(we(typeof s.accessToken=="string",31837,{l:s}),new S_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class f2{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d2{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new f2(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){we(this.o===void 0,3512);const s=c=>{c.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,_t("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(we(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Vv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=g2(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<r&&(s+=e.charAt(o[c]%62))}return s}}function Kt(i,e){return i<e?-1:i>e?1:0}function Ed(i,e){let r=0;for(;r<i.length&&r<e.length;){const s=i.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return Kt(s,o);{const c=A_(),f=y2(c.encode(Iv(i,r)),c.encode(Iv(e,r)));return f!==0?f:Kt(s,o)}}r+=s>65535?2:1}return Kt(i.length,e.length)}function Iv(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function y2(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return Kt(i[r],e[r]);return Kt(i.length,e.length)}function Xs(i,e,r){return i.length===e.length&&i.every((s,o)=>r(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=-62135596800,Uv=1e6;class Nn{static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*Uv);return new Nn(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Lv)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Nn(0,0))}static max(){return new Bt(new Nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="__name__";class zr{constructor(e,r,s){r===void 0?r=0:r>e.length&&Ht(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Ht(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const c=zr.compareSegments(e.get(o),r.get(o));if(c!==0)return c}return Kt(e.length,r.length)}static compareSegments(e,r){const s=zr.isNumericId(e),o=zr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?zr.extractNumericId(e).compare(zr.extractNumericId(r)):Ed(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class xe extends zr{construct(e,r,s){return new xe(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Mt(mt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new xe(r)}static emptyPath(){return new xe([])}}const v2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends zr{construct(e,r,s){return new wn(e,r,s)}static isValidIdentifier(e){return v2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pv}static keyField(){return new wn([Pv])}static fromServerFormat(e){const r=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Mt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Mt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Mt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new Mt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(r)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.path=e}static fromPath(e){return new It(xe.fromString(e))}static fromName(e){return new It(xe.fromString(e).popFirst(5))}static empty(){return new It(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=-1;function _2(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Bt.fromTimestamp(s===1e9?new Nn(r+1,0):new Nn(r,s));return new ia(o,It.empty(),e)}function E2(i){return new ia(i.readTime,i.key,Do)}class ia{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ia(Bt.min(),It.empty(),Do)}static max(){return new ia(Bt.max(),It.empty(),Do)}}function T2(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=It.comparator(i.documentKey,e.documentKey),r!==0?r:Kt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(i){if(i.code!==mt.FAILED_PRECONDITION||i.message!==S2)throw i;_t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new at((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(r,c).next(s,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof at?r:at.resolve(r)}catch(r){return at.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):at.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):at.reject(r)}static resolve(e){return new at((r,s)=>{r(e)})}static reject(e){return new at((r,s)=>{s(e)})}static waitFor(e){return new at((r,s)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&r()},p=>s(p))}),f=!0,c===o&&r()})}static or(e){let r=at.resolve(!1);for(const s of e)r=r.next(o=>o?at.resolve(o):s());return r}static forEach(e,r){const s=[];return e.forEach((o,c)=>{s.push(r.call(this,o,c))}),this.waitFor(s)}static mapArray(e,r){return new at((s,o)=>{const c=e.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;r(e[y]).next(E=>{f[y]=E,++m,m===c&&s(f)},E=>o(E))}})}static doWhile(e,r){return new at((s,o)=>{const c=()=>{e()===!0?r().next(()=>{c()},o):s()};c()})}}function b2(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function al(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Lc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=-1;function Uc(i){return i==null}function Td(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="";function R2(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=zv(e)),e=C2(i.get(r),e);return zv(e)}function C2(i,e){let r=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":r+="";break;case b_:r+="";break;default:r+=c}}return r}function zv(i){return i+b_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Lo(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function D2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,r){this.comparator=e,this.root=r||on.EMPTY}insert(e,r){return new Ve(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?s(e.key,r):1,r&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,r,s,o,c){this.key=e,this.value=r,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,c){return new on(e??this.key,r??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,r,s),null):c===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ht(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(e,r,s,o,c){return this}insert(e,r,s){return new on(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ke(this.comparator);return r.data=e,r}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new Zi([])}unionWith(e){let r=new Ke(wn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Zi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new w_("Invalid base64 string: "+c):c}}(e);return new un(r)}static fromUint8Array(e){const r=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new un(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const x2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(i){if(we(!!i,39018),typeof i=="string"){let e=0;const r=x2.exec(i);if(we(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Oe(i.seconds),nanos:Oe(i.nanos)}}function Oe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function sa(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="server_timestamp",C_="__type__",D_="__previous_value__",x_="__local_write_time__";function lm(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[C_])===null||r===void 0?void 0:r.stringValue)===R_}function Pc(i){const e=i.mapValue.fields[D_];return lm(e)?Pc(e):e}function xo(i){const e=aa(i.mapValue.fields[x_].timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,r,s,o,c,f,m,p,y,E){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const bc="(default)";class Mo{constructor(e,r){this.projectId=e,this.database=r||bc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===bc}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="__type__",O2="__max__",ic={mapValue:{}},V2="__vector__",Sd="value";function la(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lm(i)?4:L2(i)?9007199254740991:I2(i)?10:11:Ht(28295,{value:i})}function qr(i,e){if(i===e)return!0;const r=la(i);if(r!==la(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return xo(i).isEqual(xo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=aa(o.timestampValue),m=aa(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,c){return sa(o.bytesValue).isEqual(sa(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return Oe(o.geoPointValue.latitude)===Oe(c.geoPointValue.latitude)&&Oe(o.geoPointValue.longitude)===Oe(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Oe(o.integerValue)===Oe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Oe(o.doubleValue),m=Oe(c.doubleValue);return f===m?Td(f)===Td(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Xs(i.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Bv(f)!==Bv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!qr(f[p],m[p])))return!1;return!0}(i,e);default:return Ht(52216,{left:i})}}function No(i,e){return(i.values||[]).find(r=>qr(r,e))!==void 0}function $s(i,e){if(i===e)return 0;const r=la(i),s=la(e);if(r!==s)return Kt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=Oe(c.integerValue||c.doubleValue),p=Oe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return kv(i.timestampValue,e.timestampValue);case 4:return kv(xo(i),xo(e));case 5:return Ed(i.stringValue,e.stringValue);case 6:return function(c,f){const m=sa(c),p=sa(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Kt(m[y],p[y]);if(E!==0)return E}return Kt(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Kt(Oe(c.latitude),Oe(f.latitude));return m!==0?m:Kt(Oe(c.longitude),Oe(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Hv(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,p,y,E;const b=c.fields||{},A=f.fields||{},N=(m=b[Sd])===null||m===void 0?void 0:m.arrayValue,I=(p=A[Sd])===null||p===void 0?void 0:p.arrayValue,W=Kt(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:Hv(N,I)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===ic.mapValue&&f===ic.mapValue)return 0;if(c===ic.mapValue)return 1;if(f===ic.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const A=Ed(p[b],E[b]);if(A!==0)return A;const N=$s(m[p[b]],y[E[b]]);if(N!==0)return N}return Kt(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ht(23264,{Pe:r})}}function kv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Kt(i,e);const r=aa(i),s=aa(e),o=Kt(r.seconds,s.seconds);return o!==0?o:Kt(r.nanos,s.nanos)}function Hv(i,e){const r=i.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const c=$s(r[o],s[o]);if(c)return c}return Kt(r.length,s.length)}function Zs(i){return Ad(i)}function Ad(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=aa(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return sa(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return It.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const c of r.values||[])o?o=!1:s+=",",s+=Ad(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Ad(r.fields[f])}`;return o+"}"}(i.mapValue):Ht(61005,{value:i})}function fc(i){switch(la(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pc(i);return e?16+fc(e):16;case 5:return 2*i.stringValue.length;case 6:return sa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+fc(c),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Lo(s.fields,(c,f)=>{o+=c.length+fc(f)}),o}(i.mapValue);default:throw Ht(13486,{value:i})}}function bd(i){return!!i&&"integerValue"in i}function om(i){return!!i&&"arrayValue"in i}function qv(i){return!!i&&"nullValue"in i}function Fv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function id(i){return!!i&&"mapValue"in i}function I2(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[N2])===null||r===void 0?void 0:r.stringValue)===V2}function Eo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Lo(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Eo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Eo(i.arrayValue.values[r]);return e}return Object.assign({},i)}function L2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===O2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!id(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(r)}setAll(e){let r=wn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!r.isImmediateParentOf(m)){const p=this.getFieldsMap(r);this.applyChanges(p,s,o),s={},o=[],r=m.popLast()}f?s[m.lastSegment()]=Eo(f):o.push(m.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,s,o)}delete(e){const r=this.field(e.popLast());id(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];id(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){Lo(r,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new jr(Eo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,r,s,o,c,f,m){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,Bt.min(),Bt.min(),Bt.min(),jr.empty(),0)}static newFoundDocument(e,r,s,o){return new yn(e,1,r,Bt.min(),s,o,0)}static newNoDocument(e,r){return new yn(e,2,r,Bt.min(),Bt.min(),jr.empty(),0)}static newUnknownDocument(e,r){return new yn(e,3,r,Bt.min(),Bt.min(),jr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,r){this.position=e,this.inclusive=r}}function Gv(i,e,r){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],f=i.position[o];if(c.field.isKeyField()?s=It.comparator(It.fromName(f.referenceValue),r.key):s=$s(f,r.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!qr(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,r="asc"){this.field=e,this.dir=r}}function U2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{}class Qe extends M_{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new z2(e,r,s):r==="array-contains"?new k2(e,s):r==="in"?new H2(e,s):r==="not-in"?new q2(e,s):r==="array-contains-any"?new F2(e,s):new Qe(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new B2(e,s):new j2(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison($s(r,this.value)):r!==null&&la(this.value)===la(r)&&this.matchesComparison($s(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends M_{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Fr(e,r)}matches(e){return N_(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function N_(i){return i.op==="and"}function O_(i){return P2(i)&&N_(i)}function P2(i){for(const e of i.filters)if(e instanceof Fr)return!1;return!0}function wd(i){if(i instanceof Qe)return i.field.canonicalString()+i.op.toString()+Zs(i.value);if(O_(i))return i.filters.map(e=>wd(e)).join(",");{const e=i.filters.map(r=>wd(r)).join(",");return`${i.op}(${e})`}}function V_(i,e){return i instanceof Qe?function(s,o){return o instanceof Qe&&s.op===o.op&&s.field.isEqual(o.field)&&qr(s.value,o.value)}(i,e):i instanceof Fr?function(s,o){return o instanceof Fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,m)=>c&&V_(f,o.filters[m]),!0):!1}(i,e):void Ht(19439)}function I_(i){return i instanceof Qe?function(r){return`${r.field.canonicalString()} ${r.op} ${Zs(r.value)}`}(i):i instanceof Fr?function(r){return r.op.toString()+" {"+r.getFilters().map(I_).join(" ,")+"}"}(i):"Filter"}class z2 extends Qe{constructor(e,r,s){super(e,r,s),this.key=It.fromName(s.referenceValue)}matches(e){const r=It.comparator(e.key,this.key);return this.matchesComparison(r)}}class B2 extends Qe{constructor(e,r){super(e,"in",r),this.keys=L_("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class j2 extends Qe{constructor(e,r){super(e,"not-in",r),this.keys=L_("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function L_(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>It.fromName(s.referenceValue))}class k2 extends Qe{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return om(r)&&No(r.arrayValue,this.value)}}class H2 extends Qe{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&No(this.value.arrayValue,r)}}class q2 extends Qe{constructor(e,r){super(e,"not-in",r)}matches(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!No(this.value.arrayValue,r)}}class F2 extends Qe{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!om(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>No(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,r=null,s=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Ie=null}}function Qv(i,e=null,r=[],s=[],o=null,c=null,f=null){return new G2(i,e,r,s,o,c,f)}function um(i){const e=ie(i);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>wd(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Uc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Zs(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Zs(s)).join(",")),e.Ie=r}return e.Ie}function cm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!U2(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!V_(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Yv(i.startAt,e.startAt)&&Yv(i.endAt,e.endAt)}function Rd(i){return It.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,r=null,s=[],o=[],c=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Y2(i,e,r,s,o,c,f,m){return new zc(i,e,r,s,o,c,f,m)}function U_(i){return new zc(i)}function Kv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Q2(i){return i.collectionGroup!==null}function To(i){const e=ie(i);if(e.Ee===null){e.Ee=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),r.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ke(wn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new Rc(c,s))}),r.has(wn.keyField().canonicalString())||e.Ee.push(new Rc(wn.keyField(),s))}return e.Ee}function Hr(i){const e=ie(i);return e.de||(e.de=K2(e,To(i))),e.de}function K2(i,e){if(i.limitType==="F")return Qv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Rc(o.field,c)});const r=i.endAt?new wc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new wc(i.startAt.position,i.startAt.inclusive):null;return Qv(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}function Cd(i,e,r){return new zc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Bc(i,e){return cm(Hr(i),Hr(e))&&i.limitType===e.limitType}function P_(i){return`${um(Hr(i))}|lt:${i.limitType}`}function js(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>I_(o)).join(", ")}]`),Uc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>Zs(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>Zs(o)).join(",")),`Target(${s})`}(Hr(i))}; limitType=${i.limitType})`}function jc(i,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):It.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,o){for(const c of To(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Gv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,To(s),o)||s.endAt&&!function(f,m,p){const y=Gv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,To(s),o))}(i,e)}function X2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function z_(i){return(e,r)=>{let s=!1;for(const o of To(i)){const c=$2(o,e,r);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function $2(i,e,r){const s=i.field.isKeyField()?It.comparator(e.key,r.key):function(c,f,m){const p=f.data.field(c),y=m.data.field(c);return p!==null&&y!==null?$s(p,y):Ht(42886)}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ht(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(r,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return D2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Ve(It.comparator);function oa(){return Z2}const B_=new Ve(It.comparator);function yo(...i){let e=B_;for(const r of i)e=e.insert(r.key,r);return e}function J2(i){let e=B_;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ga(){return So()}function j_(){return So()}function So(){return new Za(i=>i.toString(),(i,e)=>i.isEqual(e))}const W2=new Ke(It.comparator);function ae(...i){let e=W2;for(const r of i)e=e.add(r);return e}const tw=new Ke(Kt);function ew(){return tw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function rw(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function iw(i,e,r){return i instanceof Dd?function(o,c){const f={fields:{[C_]:{stringValue:R_},[x_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&lm(c)&&(c=Pc(c)),c&&(f.fields[D_]=c),{mapValue:f}}(r,e):i instanceof Cc?k_(i,e):i instanceof Dc?H_(i,e):function(o,c){const f=sw(o,c),m=Xv(f)+Xv(o.Re);return bd(f)&&bd(o.Re)?rw(m):nw(o.serializer,m)}(i,e)}function aw(i,e,r){return i instanceof Cc?k_(i,e):i instanceof Dc?H_(i,e):r}function sw(i,e){return i instanceof xd?function(s){return bd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Dd extends kc{}class Cc extends kc{constructor(e){super(),this.elements=e}}function k_(i,e){const r=q_(e);for(const s of i.elements)r.some(o=>qr(o,s))||r.push(s);return{arrayValue:{values:r}}}class Dc extends kc{constructor(e){super(),this.elements=e}}function H_(i,e){let r=q_(e);for(const s of i.elements)r=r.filter(o=>!qr(o,s));return{arrayValue:{values:r}}}class xd extends kc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function Xv(i){return Oe(i.integerValue||i.doubleValue)}function q_(i){return om(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function lw(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Cc&&o instanceof Cc||s instanceof Dc&&o instanceof Dc?Xs(s.elements,o.elements,qr):s instanceof xd&&o instanceof xd?qr(s.Re,o.Re):s instanceof Dd&&o instanceof Dd}(i.transform,e.transform)}class Qa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Qa}static exists(e){return new Qa(void 0,e)}static updateTime(e){return new Qa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hm{}function F_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new uw(i.key,Qa.none()):new fm(i.key,i.data,Qa.none());{const r=i.data,s=jr.empty();let o=new Ke(wn.comparator);for(let c of e.fields)if(!o.has(c)){let f=r.field(c);f===null&&c.length>1&&(c=c.popLast(),f=r.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Hc(i.key,s,new Zi(o.toArray()),Qa.none())}}function ow(i,e,r){i instanceof fm?function(o,c,f){const m=o.value.clone(),p=Zv(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,r):i instanceof Hc?function(o,c,f){if(!dc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Zv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(G_(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,r):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function Ao(i,e,r,s){return i instanceof fm?function(c,f,m,p){if(!dc(c.precondition,f))return m;const y=c.value.clone(),E=Jv(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,r,s):i instanceof Hc?function(c,f,m,p){if(!dc(c.precondition,f))return m;const y=Jv(c.fieldTransforms,p,f),E=f.data;return E.setAll(G_(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(i,e,r,s):function(c,f,m){return dc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,r)}function $v(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xs(s,o,(c,f)=>lw(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fm extends hm{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hc extends hm{constructor(e,r,s,o,c=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function G_(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function Zv(i,e,r){const s=new Map;we(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const c=i[o],f=c.transform,m=e.data.field(c.field);s.set(c.field,aw(f,m,r[o]))}return s}function Jv(i,e,r){const s=new Map;for(const o of i){const c=o.transform,f=r.data.field(o.field);s.set(o.field,iw(c,f,e))}return s}class uw extends hm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&ow(c,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ao(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ao(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=j_();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=r.has(o.key)?null:m;const p=F_(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Bt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ae())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(r,s)=>$v(r,s))&&Xs(this.baseMutations,e.baseMutations,(r,s)=>$v(r,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,ne;function Y_(i){if(i===void 0)return vi("GRPC error has no .code"),mt.UNKNOWN;switch(i){case je.OK:return mt.OK;case je.CANCELLED:return mt.CANCELLED;case je.UNKNOWN:return mt.UNKNOWN;case je.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case je.INTERNAL:return mt.INTERNAL;case je.UNAVAILABLE:return mt.UNAVAILABLE;case je.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case je.NOT_FOUND:return mt.NOT_FOUND;case je.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case je.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case je.ABORTED:return mt.ABORTED;case je.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case je.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case je.DATA_LOSS:return mt.DATA_LOSS;default:return Ht(39323,{code:i})}}(ne=je||(je={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new ea([4294967295,4294967295],0);function Wv(i){const e=A_().encode(i),r=new g_;return r.update(e),new Uint8Array(r.digest())}function t0(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ea([r,s],0),new ea([o,c],0)]}class dm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new vo(`Invalid padding: ${r}`);if(s<0)throw new vo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new vo(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=ea.fromNumber(this.pe)}we(e,r,s){let o=e.add(r.multiply(ea.fromNumber(s)));return o.compare(dw)===1&&(o=new ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=Wv(e),[s,o]=t0(r);for(let c=0;c<this.hashCount;c++){const f=this.we(s,o,c);if(!this.be(f))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new dm(c,o,r);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const r=Wv(e),[s,o]=t0(r);for(let c=0;c<this.hashCount;c++){const f=this.we(s,o,c);this.Se(f)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,r,s,o,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,Uo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new qc(Bt.min(),o,new Ve(Kt),oa(),ae())}}class Uo{constructor(e,r,s,o,c){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Uo(s,r,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r,s,o){this.De=e,this.removedTargetIds=r,this.key=s,this.ve=o}}class Q_{constructor(e,r){this.targetId=e,this.Ce=r}}class K_{constructor(e,r,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class e0{constructor(){this.Fe=0,this.Me=n0(),this.xe=un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ae(),r=ae(),s=ae();return this.Me.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Ht(38017,{changeType:c})}}),new Uo(this.xe,this.Oe,e,r,s)}Qe(){this.Ne=!1,this.Me=n0()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,we(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mw{constructor(e){this.ze=e,this.je=new Map,this.He=oa(),this.Je=ac(),this.Ye=ac(),this.Ze=new Ve(Kt)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const s=this.rt(r);switch(e.state){case 0:this.it(r)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(e.resumeToken));break;default:Ht(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,s=e.Ce.count,o=this._t(r);if(o){const c=o.target;if(Rd(c))if(s===0){const f=new It(c.path);this.tt(r,f,yn.newNoDocument(f,Bt.min()))}else we(s===1,20013,{expectedCount:s});else{const f=this.ut(r);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(r);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,y)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=r;let f,m;try{f=sa(s).toUint8Array()}catch(p){if(p instanceof w_)return Ks("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new dm(f,o,c)}catch(p){return Ks(p instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,r,s){return r.Ce.count===s-this.Tt(e,r.targetId)?0:2}Tt(e,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(c=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.tt(r,c,null),o++)}),o}It(e){const r=new Map;this.je.forEach((c,f)=>{const m=this._t(f);if(m){if(c.current&&Rd(m.target)){const p=new It(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,yn.newNoDocument(p,e))}c.Le&&(r.set(f,c.qe()),c.Qe())}});let s=ae();this.Ye.forEach((c,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(e));const o=new qc(e,r,this.Ze,this.He,s);return this.He=oa(),this.Je=ac(),this.Ye=ac(),this.Ze=new Ve(Kt),o}et(e,r){if(!this.it(e))return;const s=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),s&&(this.He=this.He.insert(r,s))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new e0,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Ke(Kt),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Ke(Kt),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||_t("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new e0),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function ac(){return new Ve(It.comparator)}function n0(){return new Ve(It.comparator)}const gw={asc:"ASCENDING",desc:"DESCENDING"},pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yw={and:"AND",or:"OR"};class vw{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Md(i,e){return i.useProto3Json||Uc(e)?e:{value:e}}function _w(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Gs(i){return we(!!i,49232),Bt.fromTimestamp(function(r){const s=aa(r);return new Nn(s.seconds,s.nanos)}(i))}function Tw(i,e){return Nd(i,e).canonicalString()}function Nd(i,e){const r=function(o){return new xe(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function X_(i){const e=xe.fromString(i);return we(tE(e),10190,{key:e.toString()}),e}function ad(i,e){const r=X_(e);if(r.get(1)!==i.databaseId.projectId)throw new Mt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Mt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new It(Z_(r))}function $_(i,e){return Tw(i.databaseId,e)}function Sw(i){const e=X_(i);return e.length===4?xe.emptyPath():Z_(e)}function r0(i){return new xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Z_(i){return we(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Aw(i,e){let r;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ht(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(we(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):(we(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?mt.UNKNOWN:Y_(y.code);return new Mt(E,y.message||"")}(f);r=new K_(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ad(i,s.document.name),c=Gs(s.document.updateTime),f=s.document.createTime?Gs(s.document.createTime):Bt.min(),m=new jr({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,c,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];r=new mc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ad(i,s.document),c=s.readTime?Gs(s.readTime):Bt.min(),f=yn.newNoDocument(o,c),m=s.removedTargetIds||[];r=new mc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ad(i,s.document),c=s.removedTargetIds||[];r=new mc([],c,o,null)}else{if(!("filter"in e))return Ht(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new fw(o,c),m=s.targetId;r=new Q_(m,f)}}return r}function bw(i,e){return{documents:[$_(i,e.path)]}}function ww(i,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=$_(i,o);const c=function(y){if(y.length!==0)return W_(Fr.create(y,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:ks(A.field),direction:Dw(A.dir)}}(E))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const m=Md(i,e.limit);return m!==null&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:r,parent:o}}function Rw(i){let e=Sw(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){we(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];r.where&&(c=function(b){const A=J_(b);return A instanceof Fr&&O_(A)?A.getFilters():[A]}(r.where));let f=[];r.orderBy&&(f=function(b){return b.map(A=>function(I){return new Rc(Hs(I.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(A))}(r.orderBy));let m=null;r.limit&&(m=function(b){let A;return A=typeof b=="object"?b.value:b,Uc(A)?null:A}(r.limit));let p=null;r.startAt&&(p=function(b){const A=!!b.before,N=b.values||[];return new wc(N,A)}(r.startAt));let y=null;return r.endAt&&(y=function(b){const A=!b.before,N=b.values||[];return new wc(N,A)}(r.endAt)),Y2(e,o,f,c,m,"F",p,y)}function Cw(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function J_(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Hs(r.unaryFilter.field);return Qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Hs(r.unaryFilter.field);return Qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Hs(r.unaryFilter.field);return Qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Hs(r.unaryFilter.field);return Qe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ht(61313);default:return Ht(60726)}}(i):i.fieldFilter!==void 0?function(r){return Qe.create(Hs(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ht(58110);default:return Ht(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Fr.create(r.compositeFilter.filters.map(s=>J_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ht(1026)}}(r.compositeFilter.op))}(i):Ht(30097,{filter:i})}function Dw(i){return gw[i]}function xw(i){return pw[i]}function Mw(i){return yw[i]}function ks(i){return{fieldPath:i.canonicalString()}}function Hs(i){return wn.fromServerFormat(i.fieldPath)}function W_(i){return i instanceof Qe?function(r){if(r.op==="=="){if(Fv(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NAN"}};if(qv(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Fv(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NOT_NAN"}};if(qv(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(r.field),op:xw(r.op),value:r.value}}}(i):i instanceof Fr?function(r){const s=r.getFilters().map(o=>W_(o));return s.length===1?s[0]:{compositeFilter:{op:Mw(r.op),filters:s}}}(i):Ht(54877,{filter:i})}function tE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,r,s,o,c=Bt.min(),f=Bt.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.wt=e}}function Ow(i){const e=Rw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.Cn=new Iw}addToCollectionParentIndex(e,r){return this.Cn.add(r),at.resolve()}getCollectionParents(e,r){return at.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return at.resolve()}deleteFieldIndex(e,r){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,r){return at.resolve()}getDocumentsMatchingTarget(e,r){return at.resolve(null)}getIndexType(e,r){return at.resolve(0)}getFieldIndexes(e,r){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,r){return at.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,r){return at.resolve(ia.min())}updateCollectionGroup(e,r,s){return at.resolve()}updateIndexEntries(e,r){return at.resolve()}}class Iw{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Ke(xe.comparator),c=!o.has(s);return this.index[r]=o.add(s),c}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ke(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eE=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(eE,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Js(0)}static lr(){return new Js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LruGarbageCollector",Lw=1048576;function s0([i,e],[r,s]){const o=Kt(i,r);return o===0?Kt(e,s):o}class Uw{constructor(e){this.Er=e,this.buffer=new Ke(s0),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();s0(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Pw{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_t(a0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){al(r)?_t(a0,"Ignoring IndexedDB error during garbage collection: ",r):await Ic(r)}await this.mr(3e5)})}}class zw{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return at.resolve(Lc.le);const s=new Uw(r);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.gr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(i0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let s,o,c,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,r))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Bs()<=re.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function Bw(i,e){return new zw(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.changes=new Za(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?at.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(s!==null&&Ao(s.mutation,o,Zi.empty(),Nn.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,ae()).next(()=>s))}getLocalViewOfDocuments(e,r,s=ae()){const o=Ga();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,s).next(c=>{let f=yo();return c.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const s=Ga();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,ae()))}populateOverlays(e,r,s){const o=[];return s.forEach(c=>{r.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{r.set(f,m)})})}computeViews(e,r,s,o){let c=oa();const f=So(),m=function(){return So()}();return r.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Hc)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ao(E.mutation,y,E.mutation.getFieldMask(),Nn.now())):f.set(y.key,Zi.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>f.set(y,E)),r.forEach((y,E)=>{var b;return m.set(y,new kw(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,r){const s=So();let o=new Ve((f,m)=>f-m),c=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=r.get(p);if(y===null)return;let E=s.get(p)||Zi.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||ae()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=j_();E.forEach(A=>{if(!c.has(A)){const N=F_(r.get(A),s.get(A));N!==null&&b.set(A,N),c=c.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return at.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,o){return function(f){return It.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Q2(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-c.size):at.resolve(Ga());let m=Do,p=c;return f.next(y=>at.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(E)?at.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,ae())).next(E=>({batchId:m,changes:J2(E)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new It(r)).next(s=>{let o=yo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const c=r.collectionGroup;let f=yo();return this.indexManager.getCollectionParents(e,c).next(m=>at.forEach(m,p=>{const y=function(b,A){return new zc(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(r,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,A)=>{f=f.insert(b,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,c,o))).next(f=>{c.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))});let m=yo();return f.forEach((p,y)=>{const E=c.get(p);E!==void 0&&Ao(E.mutation,y,Zi.empty(),Nn.now()),jc(r,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return at.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:Gs(o.createTime)}}(r)),at.resolve()}getNamedQuery(e,r){return at.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(o){return{name:o.name,query:Ow(o.bundledQuery),readTime:Gs(o.readTime)}}(r)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.overlays=new Ve(It.comparator),this.Qr=new Map}getOverlay(e,r){return at.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ga();return at.forEach(r,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((o,c)=>{this.St(e,r,c)}),at.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),at.resolve()}getOverlaysForCollection(e,r,s){const o=Ga(),c=r.length+1,f=new It(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return at.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let c=new Ve((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Ga(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ga(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return at.resolve(m)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new hw(r,s));let c=this.Qr.get(r);c===void 0&&(c=ae(),this.Qr.set(r,c)),this.Qr.set(r,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.$r=new Ke(tn.Ur),this.Kr=new Ke(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const s=new tn(e,r);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.zr(new tn(e,r))}jr(e,r){e.forEach(s=>this.removeReference(s,r))}Hr(e){const r=new It(new xe([])),s=new tn(r,e),o=new tn(r,e+1),c=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new It(new xe([])),s=new tn(r,e),o=new tn(r,e+1);let c=ae();return this.Kr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(e){const r=new tn(e,0),s=this.$r.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return It.comparator(e.key,r.key)||Kt(e.Zr,r.Zr)}static Wr(e,r){return Kt(e.Zr,r.Zr)||It.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new Ke(tn.Ur)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new cw(c,r,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new tn(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return at.resolve(f)}lookupMutationBatch(e,r){return at.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.ti(s),c=o<0?0:o;return at.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?w2:this.nr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new tn(r,0),o=new tn(r,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);c.push(m)}),at.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Ke(Kt);return r.forEach(o=>{const c=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],m=>{s=s.add(m.Zr)})}),at.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let c=s;It.isDocumentKey(c)||(c=c.child(""));const f=new tn(new It(c),0);let m=new Ke(Kt);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Zr)),!0)},f),at.resolve(this.ni(m))}ni(e){const r=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){we(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return at.forEach(r.mutations,o=>{const c=new tn(o.key,r.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,r){const s=new tn(r,0),o=this.Xr.firstAfterOrEqual(s);return at.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.ii=e,this.docs=function(){return new Ve(It.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),c=o?o.size:0,f=this.ii(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return at.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(r))}getEntries(e,r){let s=oa();return r.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():yn.newInvalidDocument(o))}),at.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let c=oa();const f=r.path,m=new It(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||T2(E2(E),s)<=0||(o.has(E.key)||jc(r,E))&&(c=c.insert(E.key,E.mutableCopy()))}return at.resolve(c)}getAllFromCollectionGroup(e,r,s,o){Ht(9500)}si(e,r){return at.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Kw(this)}getSize(e){return at.resolve(this.size)}}class Kw extends jw{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),at.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.persistence=e,this.oi=new Za(r=>um(r),cm),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this._i=0,this.ai=new mm,this.targetCount=0,this.ui=Js.cr()}forEachTarget(e,r){return this.oi.forEach((s,o)=>r(o)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this._i&&(this._i=r),at.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Js(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,at.resolve()}updateTargetData(e,r){return this.Tr(r),at.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,r,s){let o=0;const c=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=r&&s.get(m.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),at.waitFor(c).next(()=>o)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,r){const s=this.oi.get(r)||null;return at.resolve(s)}addMatchingKeys(e,r,s){return this.ai.Gr(r,s),at.resolve()}removeMatchingKeys(e,r,s){this.ai.jr(r,s);const o=this.persistence.referenceDelegate,c=[];return o&&r.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),at.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),at.resolve()}getMatchingKeysForTargetId(e,r){const s=this.ai.Yr(r);return at.resolve(s)}containsKey(e,r){return at.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,r){this.ci={},this.overlays={},this.li=new Lc(0),this.hi=!1,this.hi=!0,this.Pi=new Gw,this.referenceDelegate=e(this),this.Ti=new Xw(this),this.indexManager=new Vw,this.remoteDocumentCache=function(o){return new Qw(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Nw(r),this.Ei=new qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Fw,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ci[e.toKey()];return s||(s=new Yw(r,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,s){_t("MemoryPersistence","Starting transaction:",e);const o=new $w(this.li.next());return this.referenceDelegate.di(),s(o).next(c=>this.referenceDelegate.Ai(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ri(e,r){return at.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,r)))}}class $w extends A2{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.Vi=new mm,this.mi=null}static fi(e){return new gm(e)}get gi(){if(this.mi)return this.mi;throw Ht(60996)}addReference(e,r,s){return this.Vi.addReference(s,r),this.gi.delete(s.toString()),at.resolve()}removeReference(e,r,s){return this.Vi.removeReference(s,r),this.gi.add(s.toString()),at.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),at.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.gi,s=>{const o=It.fromPath(s);return this.pi(e,o).next(c=>{c||r.removeEntry(o,Bt.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(s=>{s?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return at.or([()=>at.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class xc{constructor(e,r){this.persistence=e,this.yi=new Za(s=>R2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Bw(this,r)}static fi(e,r){return new xc(e,r)}di(){}Ai(e){return at.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(o=>s+o))}br(e){let r=0;return this.yr(e,s=>{r++}).next(()=>r)}yr(e,r){return at.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(c=>c?at.resolve():r(o)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,r).next(m=>{m||(s++,c.removeEntry(f,Bt.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),at.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.yi.set(s,e.currentSequenceNumber),at.resolve()}removeReference(e,r,s){return this.yi.set(s,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),at.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=fc(e.data.value)),r}Dr(e,r,s){return at.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.yi.get(r);return at.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.ds=s,this.As=o}static Rs(e,r){let s=ae(),o=ae();for(const c of r.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new pm(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return HA()?8:b2(jA())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,s,o){const c={result:null};return this.ws(e,r).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(e,r,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Zw;return this.Ss(e,r,f).next(m=>{if(c.result=m,this.fs)return this.Ds(e,r,f,m.size)})}).next(()=>c.result)}Ds(e,r,s,o){return s.documentReadCount<this.gs?(Bs()<=re.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",js(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),at.resolve()):(Bs()<=re.DEBUG&&_t("QueryEngine","Query:",js(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Bs()<=re.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",js(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(r))):at.resolve())}ws(e,r){if(Kv(r))return at.resolve(null);let s=Hr(r);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=Cd(r,null,"F"),s=Hr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=ae(...c);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.vs(r,m);return this.Cs(r,y,f,p.readTime)?this.ws(e,Cd(r,null,"F")):this.Fs(e,y,r,p)}))})))}bs(e,r,s,o){return Kv(r)||o.isEqual(Bt.min())?at.resolve(null):this.ys.getDocuments(e,s).next(c=>{const f=this.vs(r,c);return this.Cs(r,f,s,o)?at.resolve(null):(Bs()<=re.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),js(r)),this.Fs(e,f,r,_2(o,Do)).next(m=>m))})}vs(e,r){let s=new Ke(z_(e));return r.forEach((o,c)=>{jc(e,c)&&(s=s.add(c))}),s}Cs(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,r,s){return Bs()<=re.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",js(r)),this.ys.getDocumentsMatchingQuery(e,r,ia.min(),s)}Fs(e,r,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(c=>(r.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LocalStore",Ww=3e8;class tR{constructor(e,r,s,o){this.persistence=e,this.Ms=r,this.serializer=o,this.xs=new Ve(Kt),this.Os=new Za(c=>um(c),cm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function eR(i,e,r,s){return new tR(i,e,r,s)}async function rE(i,e){const r=ie(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,r.Ls(e),r.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let p=ae();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(s,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:m}))})})}function iE(i){const e=ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function nR(i,e){const r=ie(i),s=e.snapshotVersion;let o=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=r.Bs.newChangeBuffer({trackRemovals:!0});o=r.xs;const m=[];e.targetChanges.forEach((E,b)=>{const A=o.get(b);if(!A)return;m.push(r.Ti.removeMatchingKeys(c,E.removedDocuments,b).next(()=>r.Ti.addMatchingKeys(c,E.addedDocuments,b)));let N=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(un.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(b,N),function(W,Z,Q){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Ww?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(A,N,E)&&m.push(r.Ti.updateTargetData(c,N))});let p=oa(),y=ae();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(rR(c,f,e.documentUpdates).next(E=>{p=E.qs,y=E.Qs})),!s.isEqual(Bt.min())){const E=r.Ti.getLastRemoteSnapshotVersion(c).next(b=>r.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return at.waitFor(m).next(()=>f.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(r.xs=o,c))}function rR(i,e,r){let s=ae(),o=ae();return r.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=oa();return r.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Bt.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):_t(ym,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function iR(i,e){const r=ie(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.Ti.getTargetData(s,e).next(c=>c?(o=c,at.resolve(o)):r.Ti.allocateTargetId(s).next(f=>(o=new Ji(e,f,"TargetPurposeListen",s.currentSequenceNumber),r.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.xs=r.xs.insert(s.targetId,s),r.Os.set(e,s.targetId)),s})}async function Od(i,e,r){const s=ie(i),o=s.xs.get(e),c=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!al(f))throw f;_t(ym,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function l0(i,e,r){const s=ie(i);let o=Bt.min(),c=ae();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const b=ie(p),A=b.Os.get(E);return A!==void 0?at.resolve(b.xs.get(A)):b.Ti.getTargetData(y,E)}(s,f,Hr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,r?o:Bt.min(),r?c:ae())).next(m=>(aR(s,X2(e),m),{documents:m,$s:c})))}function aR(i,e,r){let s=i.Ns.get(e)||Bt.min();r.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Ns.set(e,s)}class o0{constructor(){this.activeTargetIds=ew()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sR{constructor(){this.xo=new o0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,s){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new o0,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="ConnectivityMonitor";class c0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_t(u0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_t(u0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Vd(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="RestConnection",oR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,r,s,o,c){const f=Vd(),m=this.jo(e,r.toUriEncodedString());_t(sd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,c);const{host:y}=new URL(m),E=im(y);return this.Jo(e,m,p,s,E).then(b=>(_t(sd,`Received RPC '${e}' ${f}: `,b),b),b=>{throw Ks(sd,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b})}Yo(e,r,s,o,c,f){return this.zo(e,r,s,o,c)}Ho(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}jo(e,r){const s=oR[e];return`${this.Ko}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class hR extends uR{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,s,o,c){const f=Vd();return new Promise((m,p)=>{const y=new p_;y.setWithCredentials(!0),y.listenOnce(y_.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case hc.NO_ERROR:const b=y.getResponseJson();_t(gn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case hc.TIMEOUT:_t(gn,`RPC '${e}' ${f} timed out`),p(new Mt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const A=y.getStatus();if(_t(gn,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const I=N==null?void 0:N.error;if(I&&I.status&&I.message){const W=function(Q){const ct=Q.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(ct)>=0?ct:mt.UNKNOWN}(I.status);p(new Mt(W,I.message))}else p(new Mt(mt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Mt(mt.UNAVAILABLE,"Connection failed."));break;default:Ht(9055,{h_:e,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{_t(gn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);_t(gn,`RPC '${e}' ${f} sending request:`,o),y.send(r,"POST",E,s,15)})}I_(e,r,s){const o=Vd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=E_(),m=__(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,r,s),p.encodeInitMessageHeaders=!0;const E=c.join("");_t(gn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.E_(b);let A=!1,N=!1;const I=new cR({Zo:Z=>{N?_t(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(A||(_t(gn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),_t(gn,`RPC '${e}' stream ${o} sending:`,Z),b.send(Z))},Xo:()=>b.close()}),W=(Z,Q,ct)=>{Z.listen(Q,st=>{try{ct(st)}catch(gt){setTimeout(()=>{throw gt},0)}})};return W(b,po.EventType.OPEN,()=>{N||(_t(gn,`RPC '${e}' stream ${o} transport opened.`),I.__())}),W(b,po.EventType.CLOSE,()=>{N||(N=!0,_t(gn,`RPC '${e}' stream ${o} transport closed`),I.u_(),this.d_(b))}),W(b,po.EventType.ERROR,Z=>{N||(N=!0,Ks(gn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),I.u_(new Mt(mt.UNAVAILABLE,"The operation could not be completed")))}),W(b,po.EventType.MESSAGE,Z=>{var Q;if(!N){const ct=Z.data[0];we(!!ct,16349);const st=ct,gt=(st==null?void 0:st.error)||((Q=st[0])===null||Q===void 0?void 0:Q.error);if(gt){_t(gn,`RPC '${e}' stream ${o} received error:`,gt);const dt=gt.status;let q=function(R){const V=je[R];if(V!==void 0)return Y_(V)}(dt),O=gt.message;q===void 0&&(q=mt.INTERNAL,O="Unknown error status: "+dt+" with message "+gt.message),N=!0,I.u_(new Mt(q,O)),b.close()}else _t(gn,`RPC '${e}' stream ${o} received:`,ct),I.c_(ct)}}),W(m,v_.STAT_EVENT,Z=>{Z.stat===_d.PROXY?_t(gn,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===_d.NOPROXY&&_t(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(r=>r===e)}}function ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i){return new vw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,r,s=1e3,o=1.5,c=6e4){this.xi=e,this.timerId=r,this.A_=s,this.R_=o,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const r=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,r-s);o>0&&_t("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="PersistentStream";class fR{constructor(e,r,s,o,c,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new sE(e,r)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,r){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():r&&r.code===mt.RESOURCE_EXHAUSTED?(vi(r.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):r&&r.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),r=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===r&&this.z_(s,o)},s=>{e(()=>{const o=new Mt(mt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,r){const s=this.G_(this.v_);this.stream=this.H_(e,r),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _t(h0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return r=>{this.xi.enqueueAndForget(()=>this.v_===e?r():(_t(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dR extends fR{constructor(e,r,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,f),this.serializer=c}H_(e,r){return this.connection.I_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const r=Aw(this.serializer,e),s=function(c){if(!("targetChange"in c))return Bt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Bt.min():f.readTime?Gs(f.readTime):Bt.min()}(e);return this.listener.Y_(r,s)}Z_(e){const r={};r.database=r0(this.serializer),r.addTarget=function(c,f){let m;const p=f.target;if(m=Rd(p)?{documents:bw(c,p)}:{query:ww(c,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ew(c,f.resumeToken);const y=Md(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Bt.min())>0){m.readTime=_w(c,f.snapshotVersion.toTimestamp());const y=Md(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=Cw(this.serializer,e);s&&(r.labels=s),this.Q_(r)}X_(e){const r={};r.database=r0(this.serializer),r.removeTarget=e,this.Q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{}class gR extends mR{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Mt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(e,Nd(r,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Mt(mt.UNKNOWN,c.toString())})}Yo(e,r,s,o,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Nd(r,s),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Mt(mt.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class pR{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(vi(r),this.ua=!1):_t("OnlineStateTracker",r)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class yR{constructor(e,r,s,o,c){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{s.enqueueAndForget(async()=>{zo(this)&&(_t(Ws,"Restarting streams for network reachability change."),await async function(p){const y=ie(p);y.da.add(4),await Po(y),y.Va.set("Unknown"),y.da.delete(4),await Fc(y)}(this))})}),this.Va=new pR(s,o)}}async function Fc(i){if(zo(i))for(const e of i.Aa)await e(!0)}async function Po(i){for(const e of i.Aa)await e(!1)}function lE(i,e){const r=ie(i);r.Ea.has(e.targetId)||(r.Ea.set(e.targetId,e),Tm(r)?Em(r):sl(r).N_()&&_m(r,e))}function vm(i,e){const r=ie(i),s=sl(r);r.Ea.delete(e),s.N_()&&oE(r,e),r.Ea.size===0&&(s.N_()?s.k_():zo(r)&&r.Va.set("Unknown"))}function _m(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}sl(i).Z_(e)}function oE(i,e){i.ma.Ke(e),sl(i).X_(e)}function Em(i){i.ma=new mw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),sl(i).start(),i.Va.ca()}function Tm(i){return zo(i)&&!sl(i).O_()&&i.Ea.size>0}function zo(i){return ie(i).da.size===0}function uE(i){i.ma=void 0}async function vR(i){i.Va.set("Online")}async function _R(i){i.Ea.forEach((e,r)=>{_m(i,e)})}async function ER(i,e){uE(i),Tm(i)?(i.Va.Pa(e),Em(i)):i.Va.set("Unknown")}async function TR(i,e,r){if(i.Va.set("Online"),e instanceof K_&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(s){_t(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await f0(i,s)}else if(e instanceof mc?i.ma.Xe(e):e instanceof Q_?i.ma.ot(e):i.ma.nt(e),!r.isEqual(Bt.min()))try{const s=await iE(i.localStore);r.compareTo(s)>=0&&await function(c,f){const m=c.ma.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ea.get(y);E&&c.Ea.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=c.Ea.get(p);if(!E)return;c.Ea.set(p,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),oE(c,p);const b=new Ji(E.target,p,y,E.sequenceNumber);_m(c,b)}),c.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(s){_t(Ws,"Failed to raise snapshot:",s),await f0(i,s)}}async function f0(i,e,r){if(!al(e))throw e;i.da.add(1),await Po(i),i.Va.set("Offline"),r||(r=()=>iE(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{_t(Ws,"Retrying IndexedDB access"),await r(),i.da.delete(1),await Fc(i)})}async function d0(i,e){const r=ie(i);r.asyncQueue.verifyOperationInProgress(),_t(Ws,"RemoteStore received new credentials");const s=zo(r);r.da.add(3),await Po(r),s&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.da.delete(3),await Fc(r)}async function SR(i,e){const r=ie(i);e?(r.da.delete(2),await Fc(r)):e||(r.da.add(2),await Po(r),r.Va.set("Unknown"))}function sl(i){return i.fa||(i.fa=function(r,s,o){const c=ie(r);return c.oa(),new dR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{e_:vR.bind(null,i),n_:_R.bind(null,i),i_:ER.bind(null,i),Y_:TR.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),Tm(i)?Em(i):i.Va.set("Unknown")):(await i.fa.stop(),uE(i))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,r,s,o,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,c){const f=Date.now()+s,m=new Sm(e,r,f,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Mt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cE(i,e){if(vi("AsyncQueue",`${e}: ${i}`),al(i))return new Mt(mt.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(e){return new Ys(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||It.comparator(r.key,s.key):(r,s)=>It.comparator(r.key,s.key),this.keyedMap=yo(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.pa=new Ve(It.comparator)}track(e){const r=e.doc.key,s=this.pa.get(r);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(r,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(r):e.type===1&&s.type===2?this.pa=this.pa.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(r,{type:2,doc:e.doc}):Ht(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(r,e)}wa(){const e=[];return this.pa.inorderTraversal((r,s)=>{e.push(s)}),e}}class tl{constructor(e,r,s,o,c,f,m,p,y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,r,s,o,c){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new tl(e,r,Ys.emptySet(r),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class bR{constructor(){this.queries=g0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const o=ie(r),c=o.queries;o.queries=g0(),c.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new Mt(mt.ABORTED,"Firestore shutting down"))}}function g0(){return new Za(i=>P_(i),Bc)}async function wR(i,e){const r=ie(i);let s=3;const o=e.query;let c=r.queries.get(o);c?!c.Da()&&e.va()&&(s=2):(c=new AR,s=e.va()?0:1);try{switch(s){case 0:c.ba=await r.onListen(o,!0);break;case 1:c.ba=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const m=cE(f,`Initialization of query '${js(e.query)}' failed`);return void e.onError(m)}r.queries.set(o,c),c.Sa.push(e),e.Fa(r.onlineState),c.ba&&e.Ma(c.ba)&&Am(r)}async function RR(i,e){const r=ie(i),s=e.query;let o=3;const c=r.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.va()?0:1:!c.Da()&&e.va()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function CR(i,e){const r=ie(i);let s=!1;for(const o of e){const c=o.query,f=r.queries.get(c);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&Am(r)}function DR(i,e,r){const s=ie(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(r);s.queries.delete(e)}function Am(i){i.Ca.forEach(e=>{e.next()})}var Id,p0;(p0=Id||(Id={})).xa="default",p0.Cache="cache";class xR{constructor(e,r,s){this.query=e,this.Oa=r,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new tl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Na?this.La(e)&&(this.Oa.next(e),r=!0):this.ka(e,this.onlineState)&&(this.qa(e),r=!0),this.Ba=e,r}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let r=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),r=!0),r}ka(e,r){if(!e.fromCache||!this.va())return!0;const s=r!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}La(e){if(e.docChanges.length>0)return!0;const r=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}qa(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this.key=e}}class fE{constructor(e){this.key=e}}class MR{constructor(e,r){this.query=e,this.Ha=r,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ae(),this.mutatedKeys=ae(),this.Za=z_(e),this.Xa=new Ys(this.Za)}get eu(){return this.Ha}tu(e,r){const s=r?r.nu:new m0,o=r?r.Xa:this.Xa;let c=r?r.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const A=o.get(E),N=jc(this.query,b)?b:null,I=!!A&&this.mutatedKeys.has(A.key),W=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let Z=!1;A&&N?A.data.isEqual(N.data)?I!==W&&(s.track({type:3,doc:N}),Z=!0):this.ru(A,N)||(s.track({type:2,doc:N}),Z=!0,(p&&this.Za(N,p)>0||y&&this.Za(N,y)<0)&&(m=!0)):!A&&N?(s.track({type:0,doc:N}),Z=!0):A&&!N&&(s.track({type:1,doc:A}),Z=!0,(p||y)&&(m=!0)),Z&&(N?(f=f.add(N),c=W?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:c}}ru(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const c=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,b)=>function(N,I){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht(20277,{Vt:Z})}};return W(N)-W(I)}(E.type,b.type)||this.Za(E.doc,b.doc)),this.iu(s),o=o!=null&&o;const m=r&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,f.length!==0||y?{snapshot:new tl(this.query,e.Xa,c,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new m0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(r=>this.Ha=this.Ha.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ha=this.Ha.delete(r)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ae(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const r=[];return e.forEach(s=>{this.Ya.has(s)||r.push(new fE(s))}),this.Ya.forEach(s=>{e.has(s)||r.push(new hE(s))}),r}au(e){this.Ha=e.$s,this.Ya=ae();const r=this.tu(e.documents);return this.applyChanges(r,!0)}uu(){return tl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const bm="SyncEngine";class NR{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class OR{constructor(e){this.key=e,this.cu=!1}}class VR{constructor(e,r,s,o,c,f){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Za(m=>P_(m),Bc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ve(It.comparator),this.Eu=new Map,this.du=new mm,this.Au={},this.Ru=new Map,this.Vu=Js.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function IR(i,e,r=!0){const s=yE(i);let o;const c=s.hu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.uu()):o=await dE(s,e,r,!0),o}async function LR(i,e){const r=yE(i);await dE(r,e,!0,!1)}async function dE(i,e,r,s){const o=await iR(i.localStore,Hr(e)),c=o.targetId,f=i.sharedClientState.addLocalQueryTarget(c,r);let m;return s&&(m=await UR(i,e,c,f==="current",o.resumeToken)),i.isPrimaryClient&&r&&lE(i.remoteStore,o),m}async function UR(i,e,r,s,o){i.fu=(b,A,N)=>async function(W,Z,Q,ct){let st=Z.view.tu(Q);st.Cs&&(st=await l0(W.localStore,Z.query,!1).then(({documents:O})=>Z.view.tu(O,st)));const gt=ct&&ct.targetChanges.get(Z.targetId),dt=ct&&ct.targetMismatches.get(Z.targetId)!=null,q=Z.view.applyChanges(st,W.isPrimaryClient,gt,dt);return v0(W,Z.targetId,q.ou),q.snapshot}(i,b,A,N);const c=await l0(i.localStore,e,!0),f=new MR(e,c.$s),m=f.tu(c.documents),p=Uo.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);v0(i,r,y.ou);const E=new NR(e,r,f);return i.hu.set(e,E),i.Pu.has(r)?i.Pu.get(r).push(e):i.Pu.set(r,[e]),y.snapshot}async function PR(i,e,r){const s=ie(i),o=s.hu.get(e),c=s.Pu.get(o.targetId);if(c.length>1)return s.Pu.set(o.targetId,c.filter(f=>!Bc(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Od(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&vm(s.remoteStore,o.targetId),Ld(s,o.targetId)}).catch(Ic)):(Ld(s,o.targetId),await Od(s.localStore,o.targetId,!0))}async function zR(i,e){const r=ie(i),s=r.hu.get(e),o=r.Pu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),vm(r.remoteStore,s.targetId))}async function mE(i,e){const r=ie(i);try{const s=await nR(r.localStore,e);e.targetChanges.forEach((o,c)=>{const f=r.Eu.get(c);f&&(we(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?we(f.cu,14607):o.removedDocuments.size>0&&(we(f.cu,42227),f.cu=!1))}),await pE(r,s,e)}catch(s){await Ic(s)}}function y0(i,e,r){const s=ie(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.hu.forEach((c,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=ie(f);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const A of b.Sa)A.Fa(m)&&(y=!0)}),y&&Am(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function BR(i,e,r){const s=ie(i);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Eu.get(e),c=o&&o.key;if(c){let f=new Ve(It.comparator);f=f.insert(c,yn.newNoDocument(c,Bt.min()));const m=ae().add(c),p=new qc(Bt.min(),new Map,new Ve(Kt),f,m);await mE(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(e),wm(s)}else await Od(s.localStore,e,!1).then(()=>Ld(s,e,r)).catch(Ic)}function Ld(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),r&&i.lu.gu(s,r);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||gE(i,s)})}function gE(i,e){i.Tu.delete(e.path.canonicalString());const r=i.Iu.get(e);r!==null&&(vm(i.remoteStore,r),i.Iu=i.Iu.remove(e),i.Eu.delete(r),wm(i))}function v0(i,e,r){for(const s of r)s instanceof hE?(i.du.addReference(s.key,e),jR(i,s)):s instanceof fE?(_t(bm,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||gE(i,s.key)):Ht(19791,{pu:s})}function jR(i,e){const r=e.key,s=r.path.canonicalString();i.Iu.get(r)||i.Tu.has(s)||(_t(bm,"New document in limbo: "+r),i.Tu.add(s),wm(i))}function wm(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const r=new It(xe.fromString(e)),s=i.Vu.next();i.Eu.set(s,new OR(r)),i.Iu=i.Iu.insert(r,s),lE(i.remoteStore,new Ji(Hr(U_(r.path)),s,"TargetPurposeLimboResolution",Lc.le))}}async function pE(i,e,r){const s=ie(i),o=[],c=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=pm.Rs(p.targetId,y);c.push(b)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,y){const E=ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>at.forEach(y,A=>at.forEach(A.ds,N=>E.persistence.referenceDelegate.addReference(b,A.targetId,N)).next(()=>at.forEach(A.As,N=>E.persistence.referenceDelegate.removeReference(b,A.targetId,N)))))}catch(b){if(!al(b))throw b;_t(ym,"Failed to update sequence numbers: "+b)}for(const b of y){const A=b.targetId;if(!b.fromCache){const N=E.xs.get(A),I=N.snapshotVersion,W=N.withLastLimboFreeSnapshotVersion(I);E.xs=E.xs.insert(A,W)}}}(s.localStore,c))}async function kR(i,e){const r=ie(i);if(!r.currentUser.isEqual(e)){_t(bm,"User change. New user:",e.toKey());const s=await rE(r.localStore,e);r.currentUser=e,function(c,f){c.Ru.forEach(m=>{m.forEach(p=>{p.reject(new Mt(mt.CANCELLED,f))})}),c.Ru.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pE(r,s.ks)}}function HR(i,e){const r=ie(i),s=r.Eu.get(e);if(s&&s.cu)return ae().add(s.key);{let o=ae();const c=r.Pu.get(e);if(!c)return o;for(const f of c){const m=r.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function yE(i){const e=ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BR.bind(null,e),e.lu.Y_=CR.bind(null,e.eventManager),e.lu.gu=DR.bind(null,e.eventManager),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=aE(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,r){return null}Cu(e,r){return null}Du(e){return eR(this.persistence,new Jw,e.initialUser,this.serializer)}Su(e){return new nE(gm.fi,this.serializer)}bu(e){return new sR}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class qR extends Mc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,r){we(this.persistence.referenceDelegate instanceof xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Pw(s,e.asyncQueue,r)}Su(e){const r=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new nE(s=>xc.fi(s,r),this.serializer)}}class Ud{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>y0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kR.bind(null,this.syncEngine),await SR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bR}()}createDatastore(e){const r=aE(e.databaseInfo.databaseId),s=function(c){return new hR(c)}(e.databaseInfo);return function(c,f,m,p){return new gR(c,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,o,c,f,m){return new yR(s,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,r=>y0(this.syncEngine,r,0),function(){return c0.C()?new c0:new lR}())}createSyncEngine(e,r){return function(o,c,f,m,p,y,E){const b=new VR(o,c,f,m,p,y);return E&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const c=ie(o);_t(Ws,"RemoteStore shutting down."),c.da.add(5),await Po(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ud.provider={build:()=>new Ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class GR{constructor(e,r,s,o,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=p2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{_t(ua,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(_t(ua,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=cE(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function od(i,e){i.asyncQueue.verifyOperationInProgress(),_t(ua,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await rE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function _0(i,e){i.asyncQueue.verifyOperationInProgress();const r=await YR(i);_t(ua,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>d0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>d0(e.remoteStore,o)),i._onlineComponents=e}async function YR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){_t(ua,"Using user provided OfflineComponentProvider");try{await od(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===mt.FAILED_PRECONDITION||o.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Ks("Error using user provided cache. Falling back to memory cache: "+r),await od(i,new Mc)}}else _t(ua,"Using default OfflineComponentProvider"),await od(i,new qR(void 0));return i._offlineComponents}async function QR(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(_t(ua,"Using user provided OnlineComponentProvider"),await _0(i,i._uninitializedComponentsProvider._online)):(_t(ua,"Using default OnlineComponentProvider"),await _0(i,new Ud))),i._onlineComponents}async function KR(i){const e=await QR(i),r=e.eventManager;return r.onListen=IR.bind(null,e.syncEngine),r.onUnlisten=PR.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=LR.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=zR.bind(null,e.syncEngine),r}function XR(i,e,r={}){const s=new Ya;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,p,y){const E=new FR({next:A=>{E.xu(),f.enqueueAndForget(()=>RR(c,b)),A.fromCache&&p.source==="server"?y.reject(new Mt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),b=new xR(m,E,{includeMetadataChanges:!0,Qa:!0});return wR(c,b)}(await KR(i),i.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(i,e,r){if(!r)throw new Mt(mt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZR(i,e,r,s){if(e===!0&&s===!0)throw new Mt(mt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function T0(i){if(It.isDocumentKey(i))throw new Mt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function JR(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ht(12329,{type:typeof i})}function Pd(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Mt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=JR(i);throw new Mt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firestore.googleapis.com",S0=!0;class A0{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Mt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=S0}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:S0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lw)throw new Mt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rm{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Mt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Mt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new u2;switch(s.type){case"firstParty":return new d2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Mt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=E0.get(r);s&&(_t("ComponentProvider","Removing Datastore"),E0.delete(r),s.terminate())}(this),Promise.resolve()}}function WR(i,e,r,s={}){var o;i=Pd(i,Rm);const c=im(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${r}`;c&&(LA(`https://${p}`),BA("Firestore",!0)),f.host!==_E&&f.host!==p&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!Tc(y,m)&&(i._setSettings(y),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=pn.MOCK_USER;else{E=UA(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new Mt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new pn(A)}i._authCredentials=new c2(new S_(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gc(this.firestore,e,this._query)}}class ll{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ll(this.firestore,e,this._key)}}class Qs extends Gc{constructor(e,r,s){super(e,r,U_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ll(this.firestore,null,new It(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function EE(i,e,...r){if(i=KA(i),$R("collection","path",e),i instanceof Rm){const s=xe.fromString(e,...r);return T0(s),new Qs(i,null,s)}{if(!(i instanceof ll||i instanceof Qs))throw new Mt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(xe.fromString(e,...r));return T0(s),new Qs(i.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class w0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new sE(this,"async_queue_retry"),this.rc=()=>{const s=ld();s&&_t(b0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const r=ld();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const r=ld();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const r=new Ya;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!al(e))throw e;_t(b0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const r=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,vi("INTERNAL UNHANDLED ERROR: ",R0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=r,r}enqueueAfterDelay(e,r,s){this.oc(),this.nc.indexOf(e)>-1&&(r=0);const o=Sm.createAndSchedule(this,e,r,s,c=>this.uc(c));return this.Zu.push(o),o}oc(){this.Xu&&Ht(47125,{cc:R0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const r of this.Zu)if(r.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Zu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const r=this.Zu.indexOf(e);this.Zu.splice(r,1)}}function R0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class TE extends Rm{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new w0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w0(e),this._firestoreClient=void 0,await e}}}function tC(i,e){const r=typeof i=="object"?i:$b(),s=typeof i=="string"?i:bc,o=Gb(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=VA("firestore");c&&WR(o,...c)}return o}function eC(i){if(i._terminated)throw new Mt(mt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||nC(i),i._firestoreClient}function nC(i){var e,r,s;const o=i._freezeSettings(),c=function(m,p,y,E){return new M2(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new GR(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(un.fromBase64String(e))}catch(r){throw new Mt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Nc(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Mt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Mt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Mt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}const aC=new RegExp("[~\\*/\\[\\]]");function sC(i,e,r){if(e.search(aC)>=0)throw C0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new SE(...e.split("."))._internalPath}catch{throw C0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function C0(i,e,r,s,o){let c=`Function ${e}() called with invalid data`;c+=". ";let f="";return new Mt(mt.INVALID_ARGUMENT,c+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,r,s,o,c){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ll(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(bE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class lC extends AE{data(){return super.data()}}function bE(i,e){return typeof e=="string"?sC(i,e):e instanceof SE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Mt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uC{convertValue(e,r="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ht(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Lo(e,(o,c)=>{s[o]=this.convertValue(c,r)}),s}convertVectorValue(e){var r,s,o;const c=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[Sd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Oe(f.doubleValue));return new iC(c)}convertGeoPoint(e){return new rC(Oe(e.latitude),Oe(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Pc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(xo(e));default:return null}}convertTimestamp(e){const r=aa(e);return new Nn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=xe.fromString(e);we(tE(s),9688,{name:e});const o=new Mo(s.get(1),s.get(3)),c=new It(s.popFirst(5));return o.isEqual(r)||vi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cC extends AE{constructor(e,r,s,o,c,f){super(e,r,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(bE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class gc extends cC{data(e={}){return super.data(e)}}class hC{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new lc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new gc(this._firestore,this._userDataWriter,s.key,s,new lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Mt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:fC(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function fC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:i})}}class dC extends uC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ll(this.firestore,null,r)}}function wE(i){i=Pd(i,Gc);const e=Pd(i.firestore,TE),r=eC(e),s=new dC(e);return oC(i._query),XR(r,i._query).then(o=>new hC(e,s,i,o))}(function(e,r=!0){(function(o){il=o})(Xb),Ac(new Ro("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new TE(new h2(s.getProvider("auth-internal")),new m2(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Mt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(y.options.projectId,E)}(f,o),f);return c=Object.assign({useFetchStreams:r},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Fs(Nv,Ov,e),Fs(Nv,Ov,"esm2017")})();const mC={apiKey:"AIzaSyAC8cuu3UqjWSObsjOuojtd4w52eqlKMBk",authDomain:"grocery-app-da86f.firebaseapp.com",projectId:"grocery-app-da86f",storageBucket:"grocery-app-da86f.firebasestorage.app",messagingSenderId:"412513265122",appId:"1:412513265122:web:b5b01401cdc8f20d6605bb"},gC=f_(mC),RE=tC(gC);async function pC(){return(await wE(EE(RE,"products"))).docs.map(r=>({...r.data()}))}async function yC(){return(await wE(EE(RE,"users"))).docs.map(r=>({...r.data()}))}const vC=20,na=nm((i,e)=>({products:[],newProducts:[],popularProducts:[],fetchProducts:async()=>{const r=await pC();r!=null&&r.length&&(i({products:r}),e().updateDerivedProducts())},updateDerivedProducts:()=>{const r=e(),{products:s}=r;i({newProducts:s.filter(o=>o.new===!0),popularProducts:[...s].sort((o,c)=>c.sales-o.sales).slice(0,vC)})}})),ca=nm(i=>({categoryOn:!1,toggleCategory:()=>{i(e=>({categoryOn:!e.categoryOn}))},chosenCategory:-1,chooseCategory:e=>{i({chosenCategory:e})},resetCategories:()=>{i({categoryOn:!1,chosenCategory:-1})}}));function _C(){const i=na(E=>E.products),[e,r]=De.useState(""),[s,o]=De.useState([]),[c,f]=De.useState(!1);function m(E){return!i||!E?[]:i.filter(b=>b.name.toLowerCase().includes(E.toLowerCase()))}function p(E){const b=E.target.value;r(b);const A=m(b).slice(0,5);o(A)}function y(){r(""),o([])}return B.jsxs("div",{className:"input-wrapper",children:[B.jsx("input",{type:"text",placeholder:"Поиск",value:e,onChange:p,onFocus:()=>f(!0),onBlur:()=>f(!1)}),B.jsx(_A,{}),e!==""&&B.jsx("div",{onClick:y,children:B.jsx(Wd,{})}),B.jsx(EC,{clearInput:y,inputFocused:c,inputProductsList:s})]})}const EC=({clearInput:i,inputFocused:e,inputProductsList:r})=>{const s=Vo(),o=ca(m=>m.resetCategories);function c(m){s(`/${nl[m.category]}/${m.id}`),i(),o()}const f=r.map(m=>B.jsxs("li",{onMouseDown:()=>c(m),children:[B.jsx("img",{src:em(m.image)}),B.jsx("span",{children:m.name})]},m.id));return B.jsx(B.Fragment,{children:f.length>0&&e&&B.jsx("ul",{className:"matching-products",children:f})})},Cm=nm(i=>({loggedIn:!!localStorage.getItem("loggedIn"),userData:JSON.parse(localStorage.getItem("userData")||"null"),login:e=>{i({loggedIn:!0,userData:e}),localStorage.setItem("loggedIn","true"),localStorage.setItem("userData",JSON.stringify(e))},logout:()=>{i({loggedIn:!1,userData:null}),localStorage.removeItem("loggedIn"),localStorage.removeItem("userData")}}));function TC({openModal:i}){return B.jsx("div",{className:"header",children:B.jsxs("div",{className:"header-content",children:[B.jsx(SC,{}),B.jsx(AC,{}),B.jsx(_C,{}),B.jsxs("div",{className:"header-actions",children:[B.jsx(tm,{}),B.jsx("span",{children:"Корзина"})]}),B.jsx(bC,{openModal:i})]})})}const SC=()=>{const i=ca(e=>e.resetCategories);return B.jsx(Br,{to:"/",onClick:()=>i(),children:B.jsx("span",{className:"logo",children:"Наш магазин"})})},AC=()=>{const i=ca(s=>s.categoryOn),e=ca(s=>s.toggleCategory),r=i?B.jsx(Wd,{}):B.jsx(mA,{});return B.jsxs("div",{className:"header-categories",onClick:e,children:[r,B.jsx("span",{children:"Каталог"})]})},bC=({openModal:i})=>{const{loggedIn:e}=Cm(),r=Vo();function s(){r("/Profile")}return B.jsxs("div",{className:"header-actions",onClick:e?s:i,children:[B.jsx(yA,{}),B.jsx("span",{children:e?"Профиль":"Войти"})]})};function wC(){const e=ca(r=>r.categoryOn)?"categories-list":"categories-list collapsed";return B.jsxs("div",{className:e,children:[B.jsx("div",{className:"categories-list-header",children:"Категории"}),B.jsx(RC,{})]})}const RC=De.memo(()=>{const i=ca(o=>o.chosenCategory),e=ca(o=>o.chooseCategory),s=Object.keys(nl).map((o,c)=>B.jsx(CC,{item:o,index:c,isActive:c===i,chooseCategory:e},o));return B.jsx(B.Fragment,{children:s})}),CC=De.memo(({item:i,index:e,isActive:r,chooseCategory:s})=>{const o=r?"category-link chosen":"category-link";function c(f){r&&f.preventDefault(),s(e)}return B.jsx(Br,{className:o,to:`/${nl[i]}`,onClick:c,children:i},i)});function DC({inputValue:i,setInputValue:e}){function r(c){const f=s(c.target.value);e(f)}function s(c){const f=c.replace(/[^\d+]/g,"");if(f.startsWith("+7")){const m=f.slice(2).replace(/\D/g,"");return o(m,!0)}else if(f.match(/^[78]/)){const m=f.slice(1).replace(/\D/g,"");return o(m,!0)}else return o(f.replace(/\D/g,""),!1)}function o(c,f){const m=c.slice(0,10),p=[];return(f||m.length>0)&&p.push("+7"),m.length>0&&p.push(" ("),m.length>=1&&p.push(m.slice(0,3)),m.length>=4&&p.push(") "),m.length>=4&&p.push(m.slice(3,6)),m.length>=7&&p.push("-"),m.length>=7&&p.push(m.slice(6,8)),m.length>=9&&p.push("-"),m.length>=9&&p.push(m.slice(8,10)),p.join("")}return B.jsx("input",{name:"tel",type:"tel",placeholder:"+7 (___) ___-__-__",value:i,onChange:c=>r(c),autoComplete:"off"})}function xC(i){return i==null?void 0:i.replace(/[^\d+]/g,"")}function MC(i){return!i.startsWith("+")||i.length!==12||!/^\+\d{11}$/.test(i)?null:`${i.substring(0,2)} (${i.substring(2,5)}) ${i.substring(5,8)}-${i.substring(8,10)}-${i.substring(10)}`}const D0="Введите свой номер телефона и пароль для авторизации.";function NC({isActive:i,closeModal:e}){const r=hA(),{loggedIn:s,login:o}=Cm(),[c,f]=De.useState(D0),[m,p]=De.useState(null),[y,E]=De.useState(""),[b,A]=De.useState("");De.useEffect(()=>{if(!i){const I=setTimeout(()=>{E(""),A(""),p(null),f(D0)},550);return()=>clearTimeout(I)}},[i]),De.useEffect(()=>{r.data&&(r.data.success?(o(r.data.userData),p(null),f(r.data.message),e()):p(r.data.error))},[r.data]);let N="login-message";return m&&(N="login-message error"),s&&(N="login-message success"),B.jsxs("div",{className:"login-container",children:[B.jsxs("div",{className:"login-header-wrapper",children:[B.jsx("h2",{children:"Авторизация"}),B.jsx("button",{className:"close-button",onClick:e,children:B.jsx(Wd,{})})]}),B.jsx("div",{className:N,children:m||c}),B.jsxs(r.Form,{className:"login-form",method:"post",children:[B.jsx(DC,{inputValue:y,setInputValue:E}),B.jsx("input",{name:"password",type:"password",placeholder:"Пароль",maxLength:12,value:b,onChange:I=>A(I.target.value)}),B.jsx("button",{children:"Войти"})]})]})}async function OC({request:i}){const e=await i.formData(),r=e.get("tel"),s=xC(r==null?void 0:r.toString()),o=e.get("password"),f=(await yC()).find(m=>m.phone===s&&m.password===o);return f?{success:!0,message:"Вы успешно вошли!",userData:f}:{success:!1,error:"Неверный номер телефона или пароль."}}function VC({isActive:i,closeModal:e}){const r=document.getElementById("portal");if(!r)return null;const s=i?"modal-overlay active":"modal-overlay";return i_.createPortal(B.jsx("div",{className:s,onMouseDown:e,children:B.jsx("div",{className:"modal-content",onMouseDown:o=>o.stopPropagation(),children:B.jsx(NC,{isActive:i,closeModal:e})})}),r)}function IC(){const[i,e]=De.useState(!1);return B.jsxs("div",{className:"app",children:[B.jsx(TC,{openModal:()=>e(!0)}),B.jsx("div",{className:"main-section",children:B.jsxs("div",{className:"main-section-layout",children:[B.jsx(wC,{}),B.jsx("div",{className:"main-section-content",children:B.jsx(MS,{})})]})}),B.jsx(VC,{isActive:i,closeModal:()=>e(!1)})]})}function LC(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"arrow-right",children:B.jsx("path",{fill:"currentColor",d:"M7.38 21.01c.49.49 1.28.49 1.77 0l8.31-8.31a.996.996 0 0 0 0-1.41L9.15 2.98c-.49-.49-1.28-.49-1.77 0s-.49 1.28 0 1.77L14.62 12l-7.25 7.25c-.48.48-.48 1.28.01 1.76"})})}function UC({product:i}){const e=ca(c=>c.resetCategories),r=Vo();function s(){r(`/${nl[i.category]}/${i.id}`),e()}function o(c){c.stopPropagation(),console.log("Добавили в корзину")}return B.jsxs("div",{className:"product-card",onClick:s,children:[B.jsx("div",{className:"image-wrapper",children:B.jsx("img",{src:em(i.image)})}),B.jsxs("div",{className:"product-card-content",children:[B.jsxs("div",{className:"product-card-info",children:[B.jsx("p",{className:"product-name",children:i.name}),B.jsxs("p",{className:"price-per-unit",children:[i.price," ₽ / ",i.unit]}),i.new&&B.jsx("p",{className:"new-product",children:"Новинка"})]}),B.jsxs("button",{className:"add-to-cart-button",onClick:o,children:[B.jsx(tm,{}),B.jsx("span",{children:"В корзину"})]})]})]})}function zd({category:i,showMoreProducts:e=!1}){const s=(i.maxAmountRendered?[...i.products].slice(0,i.maxAmountRendered):i.products).map(o=>B.jsx(UC,{product:o},o.name));return B.jsxs("div",{className:"category-subsection",children:[B.jsxs("div",{className:"category-subsection-header",children:[B.jsx("h2",{children:i.name}),e&&B.jsx(Br,{to:`/${nl[i.name]}`,children:B.jsxs("div",{className:"category-subsection-show-more",children:[B.jsxs("p",{children:[i.products.length," товаров"]}),B.jsx(LC,{})]})})]}),!e&&B.jsxs("p",{className:"category-subsection-products-amount",children:[i.products.length," товаров"]}),B.jsx("div",{className:"category-subsection-content",children:s})]})}const x0=4;function PC(){const i=na(o=>o.newProducts),r={name:"Популярное",products:na(o=>o.popularProducts)},s={name:"Новинки",products:i};return B.jsxs("div",{className:"main-page",children:[B.jsx(zd,{category:{...s,maxAmountRendered:x0},showMoreProducts:!0}),B.jsx(zd,{category:{...r,maxAmountRendered:x0},showMoreProducts:!0})]})}function Bd({productCategory:i,productName:e}){return B.jsxs("div",{className:"breadcrumbs",children:[B.jsx(Br,{className:"nav-link",to:"/",children:"Главная"}),B.jsx("span",{className:"nav-link-arrow",children:">"}),B.jsx(Br,{className:"nav-link disabled",to:"#",children:"Категории"}),i&&!e&&B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"nav-link-arrow",children:">"}),B.jsx(Br,{className:"nav-link active",to:"#",children:i})]}),i&&e&&B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"nav-link-arrow",children:">"}),B.jsx(Br,{className:"nav-link",to:"/"+nl[i],children:i}),B.jsx("span",{className:"nav-link-arrow",children:">"}),B.jsx(Br,{className:"nav-link active",to:"#",children:e})]})]})}function zC(){const i=X0(),e=na(c=>c.products),[r,s]=De.useState(void 0);De.useEffect(()=>{if(e&&(i!=null&&i.id)&&(i!=null&&i.category)){const c=i.category,f=e==null?void 0:e.find(m=>m.id===Number(i.id)&&m.category===go[c]);s(f)}},[e,i.id,i.category]);function o(c){c.stopPropagation(),console.log("Добавили в корзину")}return r?B.jsxs(B.Fragment,{children:[B.jsx(Bd,{productCategory:r.category,productName:r.name}),B.jsxs("div",{className:"product-page",children:[B.jsxs("div",{className:"left-col",children:[B.jsx("h2",{className:"product-name",children:r.name}),B.jsxs("p",{className:"price-per-unit",children:[r.price," ₽ / ",r.unit]}),r.new&&B.jsx("p",{className:"new-product",children:"Новинка"}),B.jsx("img",{src:em(r.image)}),B.jsxs("button",{className:"add-to-cart-button",onClick:o,children:[B.jsx(tm,{}),B.jsx("span",{children:"В корзину"})]})]}),B.jsxs("div",{className:"right-col",children:[B.jsxs("div",{className:"product-description",children:[B.jsx("h3",{children:"Описание"}),r.description]}),r.composition&&B.jsxs("div",{className:"product-composition",children:[B.jsx("h3",{children:"Состав"}),r.composition]})]})]})]}):B.jsx("h2",{children:"loading..."})}function BC(){return B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"logout-icon",children:[B.jsx("path",{fill:"currentColor",d:"M5 5h6c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6c.55 0 1-.45 1-1s-.45-1-1-1H5z"}),B.jsx("path",{fill:"currentColor",d:"m20.65 11.65l-2.79-2.79a.501.501 0 0 0-.86.35V11h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.19.2-.51.01-.7"})]})}const jC="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M-6-6h30v30H-6z'/%3e%3cpath%20fill='%2393969D'%20d='M8.938%207.875a3.938%203.938%200%201%201%200-7.875%203.938%203.938%200%200%201%200%207.875zM18%2018H0c0-5.074%204.03-7.875%209-7.875s9%202.8%209%207.875z'/%3e%3c/g%3e%3c/svg%3e";function kC(){const{loggedIn:i,userData:e,logout:r}=Cm();return B.jsx(B.Fragment,{children:i?B.jsx("div",{className:"profile-page",children:B.jsx(HC,{userData:e,logout:r})}):B.jsx("p",{style:{fontSize:"1.25em"},children:"Авторизуйтесь, чтобы перейти в свой профиль."})})}function HC({userData:i,logout:e}){const r=Vo(),s=(i==null?void 0:i.phone)||"";function o(){r("/"),e()}return B.jsxs("div",{className:"user-card",children:[B.jsx("div",{className:"avatar-wrapper",children:B.jsx("img",{src:jC,alt:"user-avater"})}),B.jsxs("div",{className:"user-info-wrapper",children:[B.jsxs("div",{className:"user-info",children:[B.jsx("p",{className:"user-name",children:i==null?void 0:i.name}),B.jsx("p",{className:"user-phone",children:MC(s)})]}),B.jsxs("div",{className:"user-actions",onClick:o,children:[B.jsx(BC,{}),B.jsx("span",{children:"Выйти"})]})]})]})}function qC(){return B.jsxs("div",{className:"not-found",children:[B.jsx("p",{className:"error-code",children:"404"}),B.jsx("p",{className:"error-message",children:"Возможно, этой страницы больше не существует."})]})}function FC(){const i=X0(),e=na(m=>m.products),r=na(m=>m.newProducts),s=na(m=>m.popularProducts),[o,c]=De.useState();De.useEffect(()=>{if(e&&r&&s&&(i!=null&&i.category)){const m=f();c({name:go[i.category],products:m})}},[e,r,s,i.category]);function f(){if(!(i!=null&&i.category)||!(i.category in go))return[];if(i.category==="new")return r;if(i.category==="popular")return s;{const m=i.category;return e.filter(p=>p.category===go[m])}}return e?B.jsxs(B.Fragment,{children:[i.category?B.jsx(Bd,{productCategory:go[i.category]}):B.jsx(Bd,{}),o&&B.jsx("div",{className:"category-page",children:B.jsx(zd,{category:o})})]}):B.jsx("h2",{children:"loading..."})}function GC(){const i=na(r=>r.fetchProducts);De.useEffect(()=>{i()},[]);const e=nA(OS(B.jsxs(ka,{element:B.jsx(IC,{}),children:[B.jsx(ka,{path:"/",element:B.jsx(PC,{}),action:OC}),B.jsx(ka,{path:"/:category",element:B.jsx(FC,{})}),B.jsx(ka,{path:"/:category/:id",element:B.jsx(zC,{})}),B.jsx(ka,{path:"/profile",element:B.jsx(kC,{})}),B.jsx(ka,{path:"*",element:B.jsx(qC,{})})]})),{basename:"/Grocery"});return B.jsx(dA,{router:e})}sT.createRoot(document.getElementById("root")).render(B.jsx($.StrictMode,{children:B.jsx(GC,{})}));
